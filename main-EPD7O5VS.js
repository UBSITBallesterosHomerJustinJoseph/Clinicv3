var lM=Object.defineProperty,dM=Object.defineProperties;var hM=Object.getOwnPropertyDescriptors;var Wu=Object.getOwnPropertySymbols;var mw=Object.prototype.hasOwnProperty,yw=Object.prototype.propertyIsEnumerable;var gw=(n,e,t)=>e in n?lM(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,k=(n,e)=>{for(var t in e||={})mw.call(e,t)&&gw(n,t,e[t]);if(Wu)for(var t of Wu(e))yw.call(e,t)&&gw(n,t,e[t]);return n},re=(n,e)=>dM(n,hM(e));var vw=(n,e)=>{var t={};for(var r in n)mw.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Wu)for(var r of Wu(n))e.indexOf(r)<0&&yw.call(n,r)&&(t[r]=n[r]);return t};var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Cp;function Ku(){return Cp}function Tn(n){let e=Cp;return Cp=n,e}var _w=Symbol("NotFound");function Ro(n){return n===_w||n?.name==="\u0275NotFound"}var gt=null,Qu=!1,Sp=1,fM=null,mt=Symbol("SIGNAL");function ie(n){let e=gt;return gt=n,e}function Xu(){return gt}var No={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Mo(n){if(Qu)throw new Error("");if(gt===null)return;gt.consumerOnSignalRead(n);let e=gt.producersTail;if(e!==void 0&&e.producer===n)return;let t,r=gt.recomputing;if(r&&(t=e!==void 0?e.nextProducer:gt.producers,t!==void 0&&t.producer===n)){gt.producersTail=t,t.lastReadVersion=n.version;return}let i=n.consumersTail;if(i!==void 0&&i.consumer===gt&&(!r||gM(i,gt)))return;let o=xo(gt),s={producer:n,consumer:gt,nextProducer:t,prevConsumer:i,lastReadVersion:n.version,nextConsumer:void 0};gt.producersTail=s,e!==void 0?e.nextProducer=s:gt.producers=s,o&&Dw(n,s)}function Ew(){Sp++}function el(n){if(!(xo(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Sp)){if(!n.producerMustRecompute(n)&&!ka(n)){Ju(n);return}n.producerRecomputeValue(n),Ju(n)}}function Ap(n){if(n.consumers===void 0)return;let e=Qu;Qu=!0;try{for(let t=n.consumers;t!==void 0;t=t.nextConsumer){let r=t.consumer;r.dirty||pM(r)}}finally{Qu=e}}function Rp(){return gt?.consumerAllowSignalWrites!==!1}function pM(n){n.dirty=!0,Ap(n),n.consumerMarkedDirty?.(n)}function Ju(n){n.dirty=!1,n.lastCleanEpoch=Sp}function Po(n){return n&&Iw(n),ie(n)}function Iw(n){n.producersTail=void 0,n.recomputing=!0}function xa(n,e){ie(e),n&&ww(n)}function ww(n){n.recomputing=!1;let e=n.producersTail,t=e!==void 0?e.nextProducer:n.producers;if(t!==void 0){if(xo(n))do t=Np(t);while(t!==void 0);e!==void 0?e.nextProducer=void 0:n.producers=void 0}}function ka(n){for(let e=n.producers;e!==void 0;e=e.nextProducer){let t=e.producer,r=e.lastReadVersion;if(r!==t.version||(el(t),r!==t.version))return!0}return!1}function Oa(n){if(xo(n)){let e=n.producers;for(;e!==void 0;)e=Np(e)}n.producers=void 0,n.producersTail=void 0,n.consumers=void 0,n.consumersTail=void 0}function Dw(n,e){let t=n.consumersTail,r=xo(n);if(t!==void 0?(e.nextConsumer=t.nextConsumer,t.nextConsumer=e):(e.nextConsumer=void 0,n.consumers=e),e.prevConsumer=t,n.consumersTail=e,!r)for(let i=n.producers;i!==void 0;i=i.nextProducer)Dw(i.producer,i)}function Np(n){let e=n.producer,t=n.nextProducer,r=n.nextConsumer,i=n.prevConsumer;if(n.nextConsumer=void 0,n.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:e.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(e.consumers=r,!xo(e)){let o=e.producers;for(;o!==void 0;)o=Np(o)}return t}function xo(n){return n.consumerIsAlwaysLive||n.consumers!==void 0}function tl(n){fM?.(n)}function gM(n,e){let t=e.producersTail;if(t!==void 0){let r=e.producers;do{if(r===n)return!0;if(r===t)break;r=r.nextProducer}while(r!==void 0)}return!1}function nl(n,e){return Object.is(n,e)}function rl(n,e){let t=Object.create(mM);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(el(t),Mo(t),t.value===Pa)throw t.error;return t.value};return r[mt]=t,tl(t),r}var Yu=Symbol("UNSET"),Zu=Symbol("COMPUTING"),Pa=Symbol("ERRORED"),mM=re(k({},No),{value:Yu,dirty:!0,error:null,equal:nl,kind:"computed",producerMustRecompute(n){return n.value===Yu||n.value===Zu},producerRecomputeValue(n){if(n.value===Zu)throw new Error("");let e=n.value;n.value=Zu;let t=Po(n),r,i=!1;try{r=n.computation(),ie(null),i=e!==Yu&&e!==Pa&&r!==Pa&&n.equal(e,r)}catch(o){r=Pa,n.error=o}finally{xa(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function yM(){throw new Error}var bw=yM;function Tw(n){bw(n)}function Mp(n){bw=n}var vM=null;function Pp(n,e){let t=Object.create(il);t.value=n,e!==void 0&&(t.equal=e);let r=()=>Cw(t);return r[mt]=t,tl(t),[r,s=>ko(t,s),s=>xp(t,s)]}function Cw(n){return Mo(n),n.value}function ko(n,e){Rp()||Tw(n),n.equal(n.value,e)||(n.value=e,_M(n))}function xp(n,e){Rp()||Tw(n),ko(n,e(n.value))}var il=re(k({},No),{equal:nl,value:void 0,kind:"signal"});function _M(n){n.version++,Ew(),Ap(n),vM?.(n)}function X(n){return typeof n=="function"}function Oo(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ol=Oo(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ei(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Fe=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(X(r))try{r()}catch(o){e=o instanceof ol?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Sw(o)}catch(s){e=e??[],s instanceof ol?e=[...e,...s.errors]:e.push(s)}}if(e)throw new ol(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Sw(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Ei(t,e)}remove(e){let{_finalizers:t}=this;t&&Ei(t,e),e instanceof n&&e._removeParent(this)}};Fe.EMPTY=(()=>{let n=new Fe;return n.closed=!0,n})();var kp=Fe.EMPTY;function sl(n){return n instanceof Fe||n&&"closed"in n&&X(n.remove)&&X(n.add)&&X(n.unsubscribe)}function Sw(n){X(n)?n():n.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Fo={setTimeout(n,e,...t){let{delegate:r}=Fo;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=Fo;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function al(n){Fo.setTimeout(()=>{let{onUnhandledError:e}=un;if(e)e(n);else throw n})}function Fa(){}var Aw=Op("C",void 0,void 0);function Rw(n){return Op("E",void 0,n)}function Nw(n){return Op("N",n,void 0)}function Op(n,e,t){return{kind:n,value:e,error:t}}var Ii=null;function Lo(n){if(un.useDeprecatedSynchronousErrorHandling){let e=!Ii;if(e&&(Ii={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Ii;if(Ii=null,t)throw r}}else n()}function Mw(n){un.useDeprecatedSynchronousErrorHandling&&Ii&&(Ii.errorThrown=!0,Ii.error=n)}var wi=class extends Fe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sl(e)&&e.add(this)):this.destination=wM}static create(e,t,r){return new Vo(e,t,r)}next(e){this.isStopped?Lp(Nw(e),this):this._next(e)}error(e){this.isStopped?Lp(Rw(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Lp(Aw,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},EM=Function.prototype.bind;function Fp(n,e){return EM.call(n,e)}var Vp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cl(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cl(r)}else cl(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cl(t)}}},Vo=class extends wi{constructor(e,t,r){super();let i;if(X(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Fp(e.next,o),error:e.error&&Fp(e.error,o),complete:e.complete&&Fp(e.complete,o)}):i=e}this.destination=new Vp(i)}};function cl(n){un.useDeprecatedSynchronousErrorHandling?Mw(n):al(n)}function IM(n){throw n}function Lp(n,e){let{onStoppedNotification:t}=un;t&&Fo.setTimeout(()=>t(n,e))}var wM={closed:!0,next:Fa,error:IM,complete:Fa};var jo=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ft(n){return n}function ul(...n){return jp(n)}function jp(n){return n.length===0?Ft:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var ne=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=bM(t)?t:new Vo(t,r,i);return Lo(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Pw(r),new r((i,o)=>{let s=new Vo({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[jo](){return this}pipe(...t){return jp(t)(this)}toPromise(t){return t=Pw(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function Pw(n){var e;return(e=n??un.Promise)!==null&&e!==void 0?e:Promise}function DM(n){return n&&X(n.next)&&X(n.error)&&X(n.complete)}function bM(n){return n&&n instanceof wi||DM(n)&&sl(n)}function Up(n){return X(n?.lift)}function fe(n){return e=>{if(Up(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function le(n,e,t,r,i){return new Bp(n,e,t,r,i)}var Bp=class extends wi{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Uo(){return fe((n,e)=>{let t=null;n._refCount++;let r=le(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Bo=class extends ne{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Up(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Fe;let t=this.getSubject();e.add(this.source.subscribe(le(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Fe.EMPTY)}return e}refCount(){return Uo()(this)}};var xw=Oo(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class n extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ll(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new xw}next(t){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Lo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?kp:(this.currentObservers=null,o.push(t),new Fe(()=>{this.currentObservers=null,Ei(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new ne;return t.source=this,t}}return n.create=(e,t)=>new ll(e,t),n})(),ll=class extends He{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:kp}};var at=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var $p={now(){return($p.delegate||Date).now()},delegate:void 0};var dl=class extends Fe{constructor(e,t){super()}schedule(e,t=0){return this}};var La={setInterval(n,e,...t){let{delegate:r}=La;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=La;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var $o=class extends dl{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return La.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&La.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Ei(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ho=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ho.now=$p.now;var qo=class extends Ho{constructor(e,t=Ho.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Hp=new qo($o);var hl=class extends $o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var fl=class extends qo{};var qp=new fl(hl);var Mt=new ne(n=>n.complete());function kw(n){return n&&X(n.schedule)}function Ow(n){return n[n.length-1]}function pl(n){return X(Ow(n))?n.pop():void 0}function Ar(n){return kw(Ow(n))?n.pop():void 0}function zp(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Lw(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function Fw(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Di(n){return this instanceof Di?(this.v=n,this):new Di(n)}function Vw(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(S){return Promise.resolve(S).then(y,p)}}function a(y,S){r[y]&&(i[y]=function(M){return new Promise(function(R,F){o.push([y,M,R,F])>1||u(y,M)})},S&&(i[y]=S(i[y])))}function u(y,S){try{l(r[y](S))}catch(M){m(o[0][3],M)}}function l(y){y.value instanceof Di?Promise.resolve(y.value.v).then(h,p):m(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function m(y,S){y(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function jw(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Fw=="function"?Fw(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var gl=n=>n&&typeof n.length=="number"&&typeof n!="function";function ml(n){return X(n?.then)}function yl(n){return X(n[jo])}function vl(n){return Symbol.asyncIterator&&X(n?.[Symbol.asyncIterator])}function _l(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function TM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var El=TM();function Il(n){return X(n?.[El])}function wl(n){return Vw(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Di(t.read());if(i)return yield Di(void 0);yield yield Di(r)}}finally{t.releaseLock()}})}function Dl(n){return X(n?.getReader)}function qe(n){if(n instanceof ne)return n;if(n!=null){if(yl(n))return CM(n);if(gl(n))return SM(n);if(ml(n))return AM(n);if(vl(n))return Uw(n);if(Il(n))return RM(n);if(Dl(n))return NM(n)}throw _l(n)}function CM(n){return new ne(e=>{let t=n[jo]();if(X(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SM(n){return new ne(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function AM(n){return new ne(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,al)})}function RM(n){return new ne(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function Uw(n){return new ne(e=>{MM(n,e).catch(t=>e.error(t))})}function NM(n){return Uw(wl(n))}function MM(n,e){var t,r,i,o;return Lw(this,void 0,void 0,function*(){try{for(t=jw(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Pt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function Rr(n,e=0){return fe((t,r)=>{t.subscribe(le(r,i=>Pt(r,n,()=>r.next(i),e),()=>Pt(r,n,()=>r.complete(),e),i=>Pt(r,n,()=>r.error(i),e)))})}function Nr(n,e=0){return fe((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function Bw(n,e){return qe(n).pipe(Nr(e),Rr(e))}function $w(n,e){return qe(n).pipe(Nr(e),Rr(e))}function Hw(n,e){return new ne(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function qw(n,e){return new ne(t=>{let r;return Pt(t,e,()=>{r=n[El](),Pt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>X(r?.return)&&r.return()})}function bl(n,e){if(!n)throw new Error("Iterable cannot be null");return new ne(t=>{Pt(t,e,()=>{let r=n[Symbol.asyncIterator]();Pt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function zw(n,e){return bl(wl(n),e)}function Gw(n,e){if(n!=null){if(yl(n))return Bw(n,e);if(gl(n))return Hw(n,e);if(ml(n))return $w(n,e);if(vl(n))return bl(n,e);if(Il(n))return qw(n,e);if(Dl(n))return zw(n,e)}throw _l(n)}function Pe(n,e){return e?Gw(n,e):qe(n)}function G(...n){let e=Ar(n);return Pe(n,e)}function zo(n,e){let t=X(n)?n:()=>n,r=i=>i.error(t());return new ne(e?i=>e.schedule(r,0,i):r)}function Gp(n){return!!n&&(n instanceof ne||X(n.lift)&&X(n.subscribe))}var Zn=Oo(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function ae(n,e){return fe((t,r)=>{let i=0;t.subscribe(le(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:PM}=Array;function xM(n,e){return PM(e)?n(...e):n(e)}function Tl(n){return ae(e=>xM(n,e))}var{isArray:kM}=Array,{getPrototypeOf:OM,prototype:FM,keys:LM}=Object;function Cl(n){if(n.length===1){let e=n[0];if(kM(e))return{args:e,keys:null};if(VM(e)){let t=LM(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function VM(n){return n&&typeof n=="object"&&OM(n)===FM}function Sl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Va(...n){let e=Ar(n),t=pl(n),{args:r,keys:i}=Cl(n);if(r.length===0)return Pe([],e);let o=new ne(jM(r,e,i?s=>Sl(i,s):Ft));return t?o.pipe(Tl(t)):o}function jM(n,e,t=Ft){return r=>{Ww(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Ww(e,()=>{let l=Pe(n[u],e),h=!1;l.subscribe(le(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Ww(n,e,t){n?Pt(t,n,e):e()}function Kw(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},y=M=>l<r?S(M):u.push(M),S=M=>{o&&e.next(M),l++;let R=!1;qe(t(M,h++)).subscribe(le(e,F=>{i?.(F),o?y(F):e.next(F)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let F=u.shift();s?Pt(e,s,()=>S(F)):S(F)}m()}catch(F){e.error(F)}}))};return n.subscribe(le(e,y,()=>{p=!0,m()})),()=>{a?.()}}function je(n,e,t=1/0){return X(e)?je((r,i)=>ae((o,s)=>e(r,o,i,s))(qe(n(r,i))),t):(typeof e=="number"&&(t=e),fe((r,i)=>Kw(r,i,n,t)))}function Go(n=1/0){return je(Ft,n)}function Qw(){return Go(1)}function Wo(...n){return Qw()(Pe(n,Ar(n)))}function ja(n){return new ne(e=>{qe(n()).subscribe(e)})}function Wp(...n){let e=pl(n),{args:t,keys:r}=Cl(n),i=new ne(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;qe(t[h]).subscribe(le(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Sl(r,a):a),o.complete())}))}});return e?i.pipe(Tl(e)):i}function St(n,e){return fe((t,r)=>{let i=0;t.subscribe(le(r,o=>n.call(e,o,i++)&&r.next(o)))})}function Jn(n){return fe((e,t)=>{let r=null,i=!1,o;r=e.subscribe(le(t,void 0,void 0,s=>{o=qe(n(s,Jn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Yw(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(le(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Mr(n,e){return X(e)?je(n,e,1):je(n,1)}function Pr(n){return fe((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Xn(n){return n<=0?()=>Mt:fe((e,t)=>{let r=0;e.subscribe(le(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Al(n=UM){return fe((e,t)=>{let r=!1;e.subscribe(le(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function UM(){return new Zn}function Ua(n){return fe((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function er(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):Ft,Xn(1),t?Pr(e):Al(()=>new Zn))}function Ko(n){return n<=0?()=>Mt:fe((e,t)=>{let r=[];e.subscribe(le(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Kp(n,e){let t=arguments.length>=2;return r=>r.pipe(n?St((i,o)=>n(i,o,r)):Ft,Ko(1),t?Pr(e):Al(()=>new Zn))}function Rl(n,e){return fe(Yw(n,e,arguments.length>=2,!0))}function Nl(...n){let e=Ar(n);return fe((t,r)=>{(e?Wo(n,t,e):Wo(n,t)).subscribe(r)})}function At(n,e){return fe((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(le(r,u=>{i?.unsubscribe();let l=0,h=o++;qe(n(u,h)).subscribe(i=le(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Ml(n){return fe((e,t)=>{qe(n).subscribe(le(t,()=>t.complete(),Fa)),!t.closed&&e.subscribe(t)})}function tt(n,e,t){let r=X(n)||e||t?{next:n,error:e,complete:t}:n;return r?fe((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(le(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ft}function Zw(n){let e=ie(null);try{return n()}finally{ie(e)}}var xr=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},ag=new xr("20.3.15");var Ol="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",H=class extends Error{code;constructor(e,t){super(Ri(e,t)),this.code=e}};function BM(n){return`NG0${Math.abs(n)}`}function Ri(n,e){return`${BM(n)}${e?": "+e:""}`}var qa=globalThis;function Ee(n){for(let e in n)if(n[e]===Ee)return e;throw Error("")}function eD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function nr(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(nr).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function cg(n,e){return n?e?`${n} ${e}`:n:e||""}var $M=Ee({__forward_ref__:Ee});function Or(n){return n.__forward_ref__=Or,n.toString=function(){return nr(this())},n}function ct(n){return ug(n)?n():n}function ug(n){return typeof n=="function"&&n.hasOwnProperty($M)&&n.__forward_ref__===Or}function $(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function dn(n){return{providers:n.providers||[],imports:n.imports||[]}}function za(n){return HM(n,Fl)}function lg(n){return za(n)!==null}function HM(n,e){return n.hasOwnProperty(e)&&n[e]||null}function qM(n){let e=n?.[Fl]??null;return e||null}function Yp(n){return n&&n.hasOwnProperty(xl)?n[xl]:null}var Fl=Ee({\u0275prov:Ee}),xl=Ee({\u0275inj:Ee}),j=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=$({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dg(n){return n&&!!n.\u0275providers}var hg=Ee({\u0275cmp:Ee}),fg=Ee({\u0275dir:Ee}),pg=Ee({\u0275pipe:Ee}),gg=Ee({\u0275mod:Ee}),$a=Ee({\u0275fac:Ee}),Ni=Ee({__NG_ELEMENT_ID__:Ee}),Jw=Ee({__NG_ENV_ID__:Ee});function Ll(n){return typeof n=="string"?n:n==null?"":String(n)}function tD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Ll(n)}var nD=Ee({ngErrorCode:Ee}),zM=Ee({ngErrorMessage:Ee}),GM=Ee({ngTokenPath:Ee});function mg(n,e){return rD("",-200,e)}function Vl(n,e){throw new H(-201,!1)}function rD(n,e,t){let r=new H(e,n);return r[nD]=e,r[zM]=n,t&&(r[GM]=t),r}function WM(n){return n[nD]}var Zp;function iD(){return Zp}function Lt(n){let e=Zp;return Zp=n,e}function yg(n,e,t){let r=za(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Vl(n,"Injector")}var KM={},bi=KM,Jp="__NG_DI_FLAG__",Xp=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=Ti(t)||0;try{return this.injector.get(e,r&8?null:bi,r)}catch(i){if(Ro(i))return i;throw i}}};function QM(n,e=0){let t=Ku();if(t===void 0)throw new H(-203,!1);if(t===null)return yg(n,void 0,e);{let r=YM(e),i=t.retrieve(n,r);if(Ro(i)){if(r.optional)return null;throw i}return i}}function W(n,e=0){return(iD()||QM)(ct(n),e)}function N(n,e){return W(n,Ti(e))}function Ti(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function YM(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function eg(n){let e=[];for(let t=0;t<n.length;t++){let r=ct(n[t]);if(Array.isArray(r)){if(r.length===0)throw new H(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=ZM(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(W(i,o))}else e.push(W(r))}return e}function oD(n,e){return n[Jp]=e,n.prototype[Jp]=e,n}function ZM(n){return n[Jp]}function Ci(n,e){let t=n.hasOwnProperty($a);return t?n[$a]:null}function jl(n,e){n.forEach(t=>Array.isArray(t)?jl(t,e):e(t))}function vg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Ga(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function sD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function aD(n,e,t){let r=Yo(n,e);return r>=0?n[r|1]=t:(r=~r,sD(n,r,e,t)),r}function Ul(n,e){let t=Yo(n,e);if(t>=0)return n[t|1]}function Yo(n,e){return JM(n,e,1)}function JM(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Fr={},Vt=[],Lr=new j(""),_g=new j("",-1),Eg=new j(""),Ha=class{get(e,t=bi){if(t===bi){let i=rD("",-201);throw i.name="\u0275NotFound",i}return t}};function Ig(n){return n[gg]||null}function ir(n){return n[hg]||null}function wg(n){return n[fg]||null}function cD(n){return n[pg]||null}function or(n){return{\u0275providers:n}}function uD(...n){return{\u0275providers:Dg(!0,n),\u0275fromNgModule:!0}}function Dg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return jl(e,s=>{let a=s;kl(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&lD(i,o),t}function lD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];bg(i,o=>{e(o,r)})}}function kl(n,e,t,r){if(n=ct(n),!n)return!1;let i=null,o=Yp(n),s=!o&&ir(n);if(!o&&!s){let u=n.ngModule;if(o=Yp(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)kl(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{jl(o.imports,h=>{kl(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&lD(l,e)}if(!a){let l=Ci(i)||(()=>new i);e({provide:i,useFactory:l,deps:Vt},i),e({provide:Eg,useValue:i,multi:!0},i),e({provide:Lr,useValue:()=>W(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;bg(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function bg(n,e){for(let t of n)dg(t)&&(t=t.\u0275providers),Array.isArray(t)?bg(t,e):e(t)}var XM=Ee({provide:String,useValue:Ee});function dD(n){return n!==null&&typeof n=="object"&&XM in n}function eP(n){return!!(n&&n.useExisting)}function tP(n){return!!(n&&n.useFactory)}function Si(n){return typeof n=="function"}function hD(n){return!!n.useClass}var Wa=new j(""),Pl={},Xw={},Qp;function Ka(){return Qp===void 0&&(Qp=new Ha),Qp}var Ue=class{},Ai=class extends Ue{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,ng(e,s=>this.processProvider(s)),this.records.set(_g,Qo(void 0,this)),i.has("environment")&&this.records.set(Ue,Qo(void 0,this));let o=this.records.get(Wa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Eg,Vt,{self:!0}))}retrieve(e,t){let r=Ti(t)||0;try{return this.get(e,bi,r)}catch(i){if(Ro(i))return i;throw i}}destroy(){Ba(this),this._destroyed=!0;let e=ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),ie(e)}}onDestroy(e){return Ba(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Ba(this);let t=Tn(this),r=Lt(void 0),i;try{return e()}finally{Tn(t),Lt(r)}}get(e,t=bi,r){if(Ba(this),e.hasOwnProperty(Jw))return e[Jw](this);let i=Ti(r),o,s=Tn(this),a=Lt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=sP(e)&&za(e);h&&this.injectableDefInScope(h)?l=Qo(tg(e),Pl):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l,i)}let u=i&2?Ka():this.parent;return t=i&8&&t===bi?null:t,u.get(e,t)}catch(u){let l=WM(u);throw l===-200||l===-201?new H(l,null):u}finally{Lt(a),Tn(s)}}resolveInjectorInitializers(){let e=ie(null),t=Tn(this),r=Lt(void 0),i;try{let o=this.get(Lr,Vt,{self:!0});for(let s of o)s()}finally{Tn(t),Lt(r),ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(nr(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=ct(e);let t=Si(e)?e:ct(e&&e.provide),r=rP(e);if(!Si(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Qo(void 0,Pl,!0),i.factory=()=>eg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t,r){let i=ie(null);try{if(t.value===Xw)throw mg(nr(e));return t.value===Pl&&(t.value=Xw,t.value=t.factory(void 0,r)),typeof t.value=="object"&&t.value&&oP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{ie(i)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=ct(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function tg(n){let e=za(n),t=e!==null?e.factory:Ci(n);if(t!==null)return t;if(n instanceof j)throw new H(204,!1);if(n instanceof Function)return nP(n);throw new H(204,!1)}function nP(n){if(n.length>0)throw new H(204,!1);let t=qM(n);return t!==null?()=>t.factory(n):()=>new n}function rP(n){if(dD(n))return Qo(void 0,n.useValue);{let e=Tg(n);return Qo(e,Pl)}}function Tg(n,e,t){let r;if(Si(n)){let i=ct(n);return Ci(i)||tg(i)}else if(dD(n))r=()=>ct(n.useValue);else if(tP(n))r=()=>n.useFactory(...eg(n.deps||[]));else if(eP(n))r=(i,o)=>W(ct(n.useExisting),o!==void 0&&o&8?8:void 0);else{let i=ct(n&&(n.useClass||n.provide));if(iP(n))r=()=>new i(...eg(n.deps));else return Ci(i)||tg(i)}return r}function Ba(n){if(n.destroyed)throw new H(205,!1)}function Qo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function iP(n){return!!n.deps}function oP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function sP(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function ng(n,e){for(let t of n)Array.isArray(t)?ng(t,e):t&&dg(t)?ng(t.\u0275providers,e):e(t)}function Ge(n,e){let t;n instanceof Ai?(Ba(n),t=n):t=new Xp(n);let r,i=Tn(t),o=Lt(void 0);try{return e()}finally{Tn(i),Lt(o)}}function fD(){return iD()!==void 0||Ku()!=null}var hn=0,oe=1,Y=2,ut=3,Qt=4,Yt=5,Qa=6,Zo=7,yt=8,Vr=9,Cn=10,Be=11,Jo=12,Cg=13,Mi=14,Zt=15,Pi=16,xi=17,ki=18,Ya=19,Sg=20,tr=21,Bl=22,Za=23,jt=24,Oi=25,Ja=26,Ut=27,pD=1;var jr=7,Xa=8,ec=9,xt=10;function Sn(n){return Array.isArray(n)&&typeof n[pD]=="object"}function fn(n){return Array.isArray(n)&&n[pD]===!0}function Ag(n){return(n.flags&4)!==0}function Ur(n){return n.componentOffset>-1}function tc(n){return(n.flags&1)===1}function An(n){return!!n.template}function Xo(n){return(n[Y]&512)!==0}function Fi(n){return(n[Y]&256)===256}var gD="svg",mD="math";function Jt(n){for(;Array.isArray(n);)n=n[hn];return n}function yD(n,e){return Jt(e[n])}function pn(n,e){return Jt(e[n.index])}function $l(n,e){return n.data[e]}function Xt(n,e){let t=e[n];return Sn(t)?t:t[hn]}function Hl(n){return(n[Y]&128)===128}function vD(n){return fn(n[ut])}function nc(n,e){return e==null?null:n[e]}function Rg(n){n[xi]=0}function Ng(n){n[Y]&1024||(n[Y]|=1024,Hl(n)&&es(n))}function _D(n,e){for(;n>0;)e=e[Mi],n--;return e}function rc(n){return!!(n[Y]&9216||n[jt]?.dirty)}function ql(n){n[Cn].changeDetectionScheduler?.notify(8),n[Y]&64&&(n[Y]|=1024),rc(n)&&es(n)}function es(n){n[Cn].changeDetectionScheduler?.notify(0);let e=kr(n);for(;e!==null&&!(e[Y]&8192||(e[Y]|=8192,!Hl(e)));)e=kr(e)}function Mg(n,e){if(Fi(n))throw new H(911,!1);n[tr]===null&&(n[tr]=[]),n[tr].push(e)}function ED(n,e){if(n[tr]===null)return;let t=n[tr].indexOf(e);t!==-1&&n[tr].splice(t,1)}function kr(n){let e=n[ut];return fn(e)?e[ut]:e}function ID(n){return n[Zo]??=[]}function wD(n){return n.cleanup??=[]}var de={lFrame:VD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var rg=!1;function DD(){return de.lFrame.elementDepthCount}function bD(){de.lFrame.elementDepthCount++}function TD(){de.lFrame.elementDepthCount--}function Pg(){return de.bindingsEnabled}function CD(){return de.skipHydrationRootTNode!==null}function SD(n){return de.skipHydrationRootTNode===n}function AD(){de.skipHydrationRootTNode=null}function Ne(){return de.lFrame.lView}function Bt(){return de.lFrame.tView}function be(n){return de.lFrame.contextLView=n,n[yt]}function Te(n){return de.lFrame.contextLView=null,n}function vt(){let n=xg();for(;n!==null&&n.type===64;)n=n.parent;return n}function xg(){return de.lFrame.currentTNode}function RD(){let n=de.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function ts(n,e){let t=de.lFrame;t.currentTNode=n,t.isParent=e}function kg(){return de.lFrame.isParent}function ND(){de.lFrame.isParent=!1}function Og(){return rg}function Fg(n){let e=rg;return rg=n,e}function MD(n){return de.lFrame.bindingIndex=n}function zl(){return de.lFrame.bindingIndex++}function PD(n){let e=de.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function xD(){return de.lFrame.inI18n}function kD(n,e){let t=de.lFrame;t.bindingIndex=t.bindingRootIndex=n,Gl(e)}function OD(){return de.lFrame.currentDirectiveIndex}function Gl(n){de.lFrame.currentDirectiveIndex=n}function FD(n){let e=de.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function Lg(n){de.lFrame.currentQueryIndex=n}function aP(n){let e=n[oe];return e.type===2?e.declTNode:e.type===1?n[Yt]:null}function Vg(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=aP(o),i===null||(o=o[Mi],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=de.lFrame=LD();return r.currentTNode=e,r.lView=n,!0}function Wl(n){let e=LD(),t=n[oe];de.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function LD(){let n=de.lFrame,e=n===null?null:n.child;return e===null?VD(n):e}function VD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function jD(){let n=de.lFrame;return de.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var jg=jD;function Kl(){let n=jD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function UD(n){return(de.lFrame.contextLView=_D(n,de.lFrame.contextLView))[yt]}function ns(){return de.lFrame.selectedIndex}function Br(n){de.lFrame.selectedIndex=n}function Ql(){let n=de.lFrame;return $l(n.tView,n.selectedIndex)}function BD(){return de.lFrame.currentNamespace}var $D=!0;function Yl(){return $D}function Zl(n){$D=n}function ig(n,e=null,t=null,r){let i=Ug(n,e,t,r);return i.resolveInjectorInitializers(),i}function Ug(n,e=null,t=null,r,i=new Set){let o=[t||Vt,uD(n)];return r=r||(typeof n=="object"?void 0:nr(n)),new Ai(o,e||Ka(),r||null,i)}var ze=class n{static THROW_IF_NOT_FOUND=bi;static NULL=new Ha;static create(e,t){if(Array.isArray(e))return ig({name:""},t,e,"");{let r=e.name??"";return ig({name:r},e.parent,e.providers,r)}}static \u0275prov=$({token:n,providedIn:"any",factory:()=>W(_g)});static __NG_ELEMENT_ID__=-1},We=new j(""),Rn=(()=>{class n{static __NG_ELEMENT_ID__=cP;static __NG_ENV_ID__=t=>t}return n})(),og=class extends Rn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Fi(this._lView)}onDestroy(e){let t=this._lView;return Mg(t,e),()=>ED(t,e)}};function cP(){return new og(Ne())}var ln=class{_console=console;handleError(e){this._console.error("ERROR",e)}},$t=new j("",{providedIn:"root",factory:()=>{let n=N(Ue),e;return t=>{n.destroyed&&!e?setTimeout(()=>{throw t}):(e??=n.get(ln),e.handleError(t))}}}),HD={provide:Lr,useValue:()=>void N(ln),multi:!0};function Bg(n){return typeof n=="function"&&n[mt]!==void 0}function pe(n,e){let[t,r,i]=Pp(n,e?.equal),o=t,s=o[mt];return o.set=r,o.update=i,o.asReadonly=qD.bind(o),o}function qD(){let n=this[mt];if(n.readonlyFn===void 0){let e=()=>this();e[mt]=n,n.readonlyFn=e}return n.readonlyFn}function $g(n){return Bg(n)&&typeof n.set=="function"}var Jl=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=uP}return n})();function uP(){return new Jl(Ne(),vt())}var rr=class{},Xl=new j("",{providedIn:"root",factory:()=>!1});var Hg=new j(""),qg=new j(""),Nn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new at(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),rs=(()=>{class n{internalPendingTasks=N(Nn);scheduler=N(rr);errorHandler=N($t);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})();function ic(...n){}var zg=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new sg})}return n})(),sg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function ls(n){return{toString:n}.toString()}var ed="__parameters__";function vP(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function _P(n,e,t){return ls(()=>{let r=vP(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(ed)?u[ed]:Object.defineProperty(u,ed,{value:[]})[ed];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var cr=oD(_P("Optional"),8);function EP(n){return typeof n=="function"}var sd=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Db(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Hr=(()=>{let n=()=>bb;return n.ngInherit=!0,n})();function bb(n){return n.type.prototype.ngOnChanges&&(n.setInput=wP),IP}function IP(){let n=Cb(this),e=n?.current;if(e){let t=n.previous;if(t===Fr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function wP(n,e,t,r,i){let o=this.declaredInputs[r],s=Cb(n)||DP(n,{previous:Fr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new sd(l&&l.currentValue,t,u===Fr),Db(n,e,i,t)}var Tb="__ngSimpleChanges__";function Cb(n){return n[Tb]||null}function DP(n,e){return n[Tb]=e}var zD=[];var Ce=function(n,e=null,t){for(let r=0;r<zD.length;r++){let i=zD[r];i(n,e,t)}};function bP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=bb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Sb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function rd(n,e,t){Ab(n,e,3,t)}function id(n,e,t,r){(n[Y]&3)===t&&Ab(n,e,t,r)}function Gg(n,e){let t=n[Y];(t&3)===e&&(t&=16383,t+=1,n[Y]=t)}function Ab(n,e,t,r){let i=r!==void 0?n[xi]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[xi]+=65536),(a<o||o==-1)&&(TP(n,t,e,u),n[xi]=(n[xi]&4294901760)+u+2),u++}function GD(n,e){Ce(4,n,e);let t=ie(null);try{e.call(n)}finally{ie(t),Ce(5,n,e)}}function TP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Y]>>14<n[xi]>>16&&(n[Y]&3)===e&&(n[Y]+=16384,GD(a,o)):GD(a,o)}var os=-1,Vi=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r,i){this.factory=e,this.name=i,this.canSeeViewProviders=t,this.injectImpl=r}};function CP(n){return(n.flags&8)!==0}function SP(n){return(n.flags&16)!==0}function AP(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];RP(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Rb(n){return n===3||n===4||n===6}function RP(n){return n.charCodeAt(0)===64}function ac(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?WD(n,t,i,null,e[++r]):WD(n,t,i,null,null))}}return n}function WD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Nb(n){return n!==os}function ad(n){return n&32767}function NP(n){return n>>16}function cd(n,e){let t=NP(n),r=e;for(;t>0;)r=r[Mi],t--;return r}var nm=!0;function KD(n){let e=nm;return nm=n,e}var MP=256,Mb=MP-1,Pb=5,PP=0,Mn={};function xP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ni)&&(r=t[Ni]),r==null&&(r=t[Ni]=PP++);let i=r&Mb,o=1<<i;e.data[n+(i>>Pb)]|=o}function ud(n,e){let t=xb(n,e);if(t!==-1)return t;let r=e[oe];r.firstCreatePass&&(n.injectorIndex=e.length,Wg(r.data,n),Wg(e,null),Wg(r.blueprint,null));let i=Im(n,e),o=n.injectorIndex;if(Nb(i)){let s=ad(i),a=cd(i,e),u=a[oe].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function Wg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Im(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Vb(i),r===null)return os;if(t++,i=i[Mi],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return os}function rm(n,e,t){xP(n,e,t)}function kP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Rb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function kb(n,e,t){if(t&8||n!==void 0)return n;Vl(e,"NodeInjector")}function Ob(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Vr],o=Lt(void 0);try{return i?i.get(e,r,t&8):yg(e,r,t&8)}finally{Lt(o)}}return kb(r,e,t)}function Fb(n,e,t,r=0,i){if(n!==null){if(e[Y]&2048&&!(r&2)){let s=jP(n,e,t,r,Mn);if(s!==Mn)return s}let o=Lb(n,e,t,r,Mn);if(o!==Mn)return o}return Ob(e,t,r,i)}function Lb(n,e,t,r,i){let o=LP(t);if(typeof o=="function"){if(!Vg(e,n,r))return r&1?kb(i,t,r):Ob(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Vl(t);else return s}finally{jg()}}else if(typeof o=="number"){let s=null,a=xb(n,e),u=os,l=r&1?e[Zt][Yt]:null;for((a===-1||r&4)&&(u=a===-1?Im(n,e):e[a+8],u===os||!YD(r,!1)?a=-1:(s=e[oe],a=ad(u),e=cd(u,e)));a!==-1;){let h=e[oe];if(QD(o,a,h.data)){let p=OP(a,e,t,s,r,l);if(p!==Mn)return p}u=e[a+8],u!==os&&YD(r,e[oe].data[a+8]===l)&&QD(o,a,e)?(s=h,a=ad(u),e=cd(u,e)):a=-1}}return i}function OP(n,e,t,r,i,o){let s=e[oe],a=s.data[n+8],u=r==null?Ur(a)&&nm:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=FP(a,s,t,u,l);return h!==null?ld(e,s,h,a,i):Mn}function FP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let y=p;y<m;y++){let S=s[y];if(y<u&&t===S||y>=u&&S.type===t)return y}if(i){let y=s[u];if(y&&An(y)&&y.type===t)return u}return null}function ld(n,e,t,r,i){let o=n[t],s=e.data;if(o instanceof Vi){let a=o;if(a.resolving){let y=tD(s[t]);throw mg(y)}let u=KD(a.canSeeViewProviders);a.resolving=!0;let l=s[t].type||s[t],h,p=a.injectImpl?Lt(a.injectImpl):null,m=Vg(n,r,0);try{o=n[t]=a.factory(void 0,i,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&bP(t,s[t],e)}finally{p!==null&&Lt(p),KD(u),a.resolving=!1,jg()}}return o}function LP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Ni)?n[Ni]:void 0;return typeof e=="number"?e>=0?e&Mb:VP:e}function QD(n,e,t){let r=1<<n;return!!(t[e+(n>>Pb)]&r)}function YD(n,e){return!(n&2)&&!(n&1&&e)}var Li=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Fb(this._tNode,this._lView,e,Ti(r),t)}};function VP(){return new Li(vt(),Ne())}function $i(n){return ls(()=>{let e=n.prototype.constructor,t=e[$a]||im(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[$a]||im(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function im(n){return ug(n)?()=>{let e=im(ct(n));return e&&e()}:Ci(n)}function jP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Y]&2048&&!Xo(s);){let a=Lb(o,s,t,r|2,Mn);if(a!==Mn)return a;let u=o.parent;if(!u){let l=s[Sg];if(l){let h=l.get(t,Mn,r);if(h!==Mn)return h}u=Vb(s),s=s[Mi]}o=u}return i}function Vb(n){let e=n[oe],t=e.type;return t===2?e.declTNode:t===1?n[Yt]:null}function dc(n){return kP(vt(),n)}function UP(){return wd(vt(),Ne())}function wd(n,e){return new ur(pn(n,e))}var ur=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=UP}return n})();function jb(n){return(n.flags&128)===128}var wm=(function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n})(wm||{}),Ub=new Map,BP=0;function $P(){return BP++}function HP(n){Ub.set(n[Ya],n)}function om(n){Ub.delete(n[Ya])}var ZD="__ngContext__";function ss(n,e){Sn(e)?(n[ZD]=e[Ya],HP(e)):n[ZD]=e}function Bb(n){return Hb(n[Jo])}function $b(n){return Hb(n[Qt])}function Hb(n){for(;n!==null&&!fn(n);)n=n[Qt];return n}var sm;function Dm(n){sm=n}function qb(){if(sm!==void 0)return sm;if(typeof document<"u")return document;throw new H(210,!1)}var Dd=new j("",{providedIn:"root",factory:()=>qP}),qP="ng",bd=new j(""),Hi=new j("",{providedIn:"platform",factory:()=>"unknown"});var Td=new j("",{providedIn:"root",factory:()=>qb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var zP="h",GP="b";var zb=!1,Gb=new j("",{providedIn:"root",factory:()=>zb});var bm=new j("");var WP=(n,e,t,r)=>{};function KP(n,e,t,r){WP(n,e,t,r)}function Tm(n){return(n.flags&32)===32}var QP=()=>null;function Wb(n,e,t=!1){return QP(n,e,t)}function Kb(n,e){let t=n.contentQueries;if(t!==null){let r=ie(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Lg(o),a.contentQueries(2,e[s],s)}}}finally{ie(r)}}}function am(n,e,t){Lg(0);let r=ie(null);try{e(n,t)}finally{ie(r)}}function Qb(n,e,t){if(Ag(e)){let r=ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{ie(r)}}}var sr=(function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n})(sr||{});var td;function YP(){if(td===void 0&&(td=null,qa.trustedTypes))try{td=qa.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return td}function JD(n){return YP()?.createScriptURL(n)||n}var dd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ol})`}};function hc(n){return n instanceof dd?n.changingThisBreaksApplicationSecurity:n}function Cm(n,e){let t=Yb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Ol})`)}return t===e}function Yb(n){return n instanceof dd&&n.getTypeName()||null}var ZP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Zb(n){return n=String(n),n.match(ZP)?n:"unsafe:"+n}function JP(n,e){return n.createText(e)}function Jb(n,e,t){return n.createElement(e,t)}function hd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function Xb(n,e,t){n.appendChild(e,t)}function XD(n,e,t,r,i){r!==null?hd(n,e,t,r,i):Xb(n,e,t)}function XP(n,e,t,r){n.removeChild(null,e,t,r)}function ex(n,e,t){n.setAttribute(e,"style",t)}function tx(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eT(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&AP(n,e,r),i!==null&&tx(n,e,i),o!==null&&ex(n,e,o)}var Cd=(function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n})(Cd||{});function tT(n){let e=rT();return e?e.sanitize(Cd.URL,n)||"":Cm(n,"URL")?hc(n):Zb(Ll(n))}function nT(n){let e=rT();if(e)return JD(e.sanitize(Cd.RESOURCE_URL,n)||"");if(Cm(n,"ResourceURL"))return JD(hc(n));throw new H(904,!1)}function nx(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?nT:tT}function Sm(n,e,t){return nx(e,t)(n)}function rT(){let n=Ne();return n&&n[Cn].sanitizer}function iT(n){return n instanceof Function?n():n}function rx(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var oT="ng-template";function ix(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&rx(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Am(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Am(n){return n.type===4&&n.value!==oT}function ox(n,e,t){let r=n.type===4&&!t?oT:n.value;return e===r}function sx(n,e,t){let r=4,i=n.attrs,o=i!==null?ux(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!gn(r)&&!gn(u))return!1;if(s&&gn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!ox(n,u,t)||u===""&&e.length===1){if(gn(r))return!1;s=!0}}else if(r&8){if(i===null||!ix(n,i,u,t)){if(gn(r))return!1;s=!0}}else{let l=e[++a],h=ax(u,i,Am(n),t);if(h===-1){if(gn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(gn(r))return!1;s=!0}}}}return gn(r)||s}function gn(n){return(n&1)===0}function ax(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return lx(e,n)}function cx(n,e,t=!1){for(let r=0;r<e.length;r++)if(sx(n,e[r],t))return!0;return!1}function ux(n){for(let e=0;e<n.length;e++){let t=n[e];if(Rb(t))return e}return n.length}function lx(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function eb(n,e){return n?":not("+e.trim()+")":e}function dx(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!gn(s)&&(e+=eb(o,i),i=""),r=s,o=o||!gn(r);t++}return i!==""&&(e+=eb(o,i)),e}function hx(n){return n.map(dx).join(",")}function fx(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!gn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var ds={};function Rm(n,e,t,r,i,o,s,a,u,l,h){let p=Ut+r,m=p+i,y=px(p,m),S=typeof l=="function"?l():l;return y[oe]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function px(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:ds);return t}function gx(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Rm(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Nm(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[hn]=i,p[Y]=r|4|128|8|64|1024,(l!==null||n&&n[Y]&2048)&&(p[Y]|=2048),Rg(p),p[ut]=p[Mi]=n,p[yt]=t,p[Cn]=s||n&&n[Cn],p[Be]=a||n&&n[Be],p[Vr]=u||n&&n[Vr]||null,p[Yt]=o,p[Ya]=$P(),p[Qa]=h,p[Sg]=l,p[Zt]=e.type==2?n[Zt]:p,p}function mx(n,e,t){let r=pn(e,n),i=gx(t),o=n[Cn].rendererFactory,s=Mm(n,Nm(n,i,null,sT(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function sT(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function aT(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function Mm(n,e){return n[Jo]?n[Cg][Qt]=e:n[Jo]=e,n[Cg]=e,e}function ee(n=1){cT(Bt(),Ne(),ns()+n,!1)}function cT(n,e,t,r){if(!r)if((e[Y]&3)===3){let o=n.preOrderCheckHooks;o!==null&&rd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&id(e,o,0,t)}Br(t)}var Sd=(function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n})(Sd||{});function cm(n,e,t,r){let i=ie(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Sd.SignalBased)!==0&&(u=e[o][mt]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Db(e,u,o,r)}finally{ie(i)}}var ar=(function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n})(ar||{}),yx;function Pm(n,e){return yx(n,e)}var as=new Set,Ad=(function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n})(Ad||{}),qi=new j(""),tb=new Set;function hs(n){tb.has(n)||(tb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var uT=!1,um=class extends He{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,fD()&&(this.destroyRef=N(Rn,{optional:!0})??void 0,this.pendingTasks=N(Nn,{optional:!0})??void 0)}emit(e){let t=ie(null);try{super.next(e)}finally{ie(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Fe&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Je=um;function lT(n){let e,t;function r(){n=ic;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function nb(n){return queueMicrotask(()=>n()),()=>{n=ic}}var xm="isAngularZone",fd=xm+"_ID",vx=0,Se=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Je(!1);onMicrotaskEmpty=new Je(!1);onStable=new Je(!1);onError=new Je(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=uT}=e;if(typeof Zone>"u")throw new H(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ix(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xm)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new H(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new H(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,_x,ic,ic);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},_x={};function km(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function Ex(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){lT(()=>{n.callbackScheduled=!1,lm(n),n.isCheckStableRunning=!0,km(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),lm(n)}function Ix(n){let e=()=>{Ex(n)},t=vx++;n._inner=n._inner.fork({name:"angular",properties:{[xm]:!0,[fd]:t,[fd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(wx(u))return r.invokeTask(o,s,a,u);try{return rb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ib(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return rb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!Dx(u)&&e(),ib(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,lm(n),km(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function lm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function rb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ib(n){n._nesting--,km(n)}var pd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Je;onMicrotaskEmpty=new Je;onStable=new Je;onError=new Je;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function wx(n){return dT(n,"__ignore_ng_zone__")}function Dx(n){return dT(n,"__scheduler_tick__")}function dT(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Om=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),hT=[0,1,2,3],fT=(()=>{class n{ngZone=N(Se);scheduler=N(rr);errorHandler=N(ln,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){N(qi,{optional:!0})}execute(){let t=this.sequences.size>0;t&&Ce(16),this.executing=!0;for(let r of hT)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&Ce(17)}register(t){let{view:r}=t;r!==void 0?((r[Oi]??=[]).push(t),es(r),r[Y]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Ad.AFTER_NEXT_RENDER,t):t()}static \u0275prov=$({token:n,providedIn:"root",factory:()=>new n})}return n})(),gd=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Oi];e&&(this.view[Oi]=e.filter(t=>t!==this))}};function Rd(n,e){let t=e?.injector??N(ze);return hs("NgAfterNextRender"),Tx(n,t,e,!0)}function bx(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function Tx(n,e,t,r){let i=e.get(Om);i.impl??=e.get(fT);let o=e.get(qi,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Rn):null,a=e.get(Jl,null,{optional:!0}),u=new gd(i.impl,bx(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Cx=new j("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function pT(n,e,t){let r=n.get(Cx);if(Array.isArray(e))for(let i of e)r.queue.add(i),t?.detachedLeaveAnimationFns?.push(i);else r.queue.add(e),t?.detachedLeaveAnimationFns?.push(e);r.scheduler&&r.scheduler(n)}function Sx(n,e){for(let[t,r]of e)pT(n,r.animateFns)}function ob(n,e,t,r){let i=n?.[Ja]?.enter;e!==null&&i&&i.has(t.index)&&Sx(r,i)}function is(n,e,t,r,i,o,s,a){if(i!=null){let u,l=!1;fn(i)?u=i:Sn(i)&&(l=!0,i=i[hn]);let h=Jt(i);n===0&&r!==null?(ob(a,r,o,t),s==null?Xb(e,r,h):hd(e,r,h,s||null,!0)):n===1&&r!==null?(ob(a,r,o,t),hd(e,r,h,s||null,!0)):n===2?sb(a,o,t,p=>{XP(e,h,l,p)}):n===3&&sb(a,o,t,()=>{e.destroyNode(h)}),u!=null&&Ux(e,n,t,u,o,r,s)}}function Ax(n,e){gT(n,e),e[hn]=null,e[Yt]=null}function Rx(n,e,t,r,i,o){r[hn]=i,r[Yt]=e,Nd(n,r,t,1,i,o)}function gT(n,e){e[Cn].changeDetectionScheduler?.notify(9),Nd(n,e,e[Be],2,null,null)}function Nx(n){let e=n[Jo];if(!e)return Kg(n[oe],n);for(;e;){let t=null;if(Sn(e))t=e[Jo];else{let r=e[xt];r&&(t=r)}if(!t){for(;e&&!e[Qt]&&e!==n;)Sn(e)&&Kg(e[oe],e),e=e[ut];e===null&&(e=n),Sn(e)&&Kg(e[oe],e),t=e&&e[Qt]}e=t}}function Fm(n,e){let t=n[ec],r=t.indexOf(e);t.splice(r,1)}function mT(n,e){if(Fi(e))return;let t=e[Be];t.destroyNode&&Nd(n,e,t,3,null,null),Nx(e)}function Kg(n,e){if(Fi(e))return;let t=ie(null);try{e[Y]&=-129,e[Y]|=256,e[jt]&&Oa(e[jt]),xx(n,e),Px(n,e),e[oe].type===1&&e[Be].destroy();let r=e[Pi];if(r!==null&&fn(e[ut])){r!==e[ut]&&Fm(r,e);let i=e[ki];i!==null&&i.detachView(n)}om(e)}finally{ie(t)}}function sb(n,e,t,r){let i=n?.[Ja];if(i==null||i.leave==null||!i.leave.has(e.index))return r(!1);n&&as.add(n),pT(t,()=>{if(i.leave&&i.leave.has(e.index)){let s=i.leave.get(e.index),a=[];if(s){for(let u=0;u<s.animateFns.length;u++){let l=s.animateFns[u],{promise:h}=l();a.push(h)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(a),Mx(n,r)}else n&&as.delete(n),r(!1)},i)}function Mx(n,e){let t=n[Ja]?.running;if(t){t.then(()=>{n[Ja].running=void 0,as.delete(n),e(!0)});return}e(!1)}function Px(n,e){let t=n.cleanup,r=e[Zo];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Zo]=null);let i=e[tr];if(i!==null){e[tr]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Za];if(o!==null){e[Za]=null;for(let s of o)s.destroy()}}function xx(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Vi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];Ce(4,a,u);try{u.call(a)}finally{Ce(5,a,u)}}else{Ce(4,i,o);try{o.call(i)}finally{Ce(5,i,o)}}}}}function kx(n,e,t){return Ox(n,e.parent,t)}function Ox(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[hn];if(Ur(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===sr.None||i===sr.Emulated)return null}return pn(r,t)}function Fx(n,e,t){return Vx(n,e,t)}function Lx(n,e,t){return n.type&40?pn(n,t):null}var Vx=Lx,ab;function Lm(n,e,t,r){let i=kx(n,r,e),o=e[Be],s=r.parent||e[Yt],a=Fx(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)XD(o,i,t[u],a,!1);else XD(o,i,t,a,!1);ab!==void 0&&ab(o,r,e,t,i)}function oc(n,e){if(e!==null){let t=e.type;if(t&3)return pn(e,n);if(t&4)return dm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return oc(n,r);{let i=n[e.index];return fn(i)?dm(-1,i):Jt(i)}}else{if(t&128)return oc(n,e.next);if(t&32)return Pm(e,n)()||Jt(n[e.index]);{let r=yT(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=kr(n[Zt]);return oc(i,r)}else return oc(n,e.next)}}}return null}function yT(n,e){if(e!==null){let r=n[Zt][Yt],i=e.projection;return r.projection[i]}return null}function dm(n,e){let t=xt+n+1;if(t<e.length){let r=e[t],i=r[oe].firstChild;if(i!==null)return oc(r,i)}return e[jr]}function Vm(n,e,t,r,i,o,s){for(;t!=null;){let a=r[Vr];if(t.type===128){t=t.next;continue}let u=r[t.index],l=t.type;if(s&&e===0&&(u&&ss(Jt(u),r),t.flags|=2),!Tm(t))if(l&8)Vm(n,e,t.child,r,i,o,!1),is(e,n,a,i,u,t,o,r);else if(l&32){let h=Pm(t,r),p;for(;p=h();)is(e,n,a,i,p,t,o,r);is(e,n,a,i,u,t,o,r)}else l&16?jx(n,e,r,t,i,o):is(e,n,a,i,u,t,o,r);t=s?t.projectionNext:t.next}}function Nd(n,e,t,r,i,o){Vm(t,r,n.firstChild,e,i,o,!1)}function jx(n,e,t,r,i,o){let s=t[Zt],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];is(e,n,t[Vr],i,h,r,o,t)}else{let l=u,h=s[ut];jb(r)&&(l.flags|=128),Vm(n,e,l,h,i,o,!0)}}function Ux(n,e,t,r,i,o,s){let a=r[jr],u=Jt(r);a!==u&&is(e,n,t,o,a,i,s);for(let l=xt;l<r.length;l++){let h=r[l];Nd(h[oe],h,n,e,o,a)}}function Bx(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:ar.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ar.Important),n.setStyle(t,r,i,o))}}function vT(n,e,t,r,i){let o=ns(),s=r&2;try{Br(-1),s&&e.length>Ut&&cT(n,e,Ut,!1),Ce(s?2:0,i,t),t(r,i)}finally{Br(o),Ce(s?3:1,i,t)}}function jm(n,e,t){Kx(n,e,t),(t.flags&64)===64&&Qx(n,e,t)}function _T(n,e,t=pn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function $x(n,e,t,r){let o=r.get(Gb,zb)||t===sr.ShadowDom,s=n.selectRootElement(e,o);return Hx(s),s}function Hx(n){qx(n)}var qx=()=>null;function zx(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function ET(n,e,t,r,i,o){let s=e[oe];if(Um(n,s,e,t,r)){Ur(n)&&Wx(e,n.index);return}n.type&3&&(t=zx(t)),Gx(n,e,t,r,i,o)}function Gx(n,e,t,r,i,o){if(n.type&3){let s=pn(n,e);r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function Wx(n,e){let t=Xt(e,n);t[Y]&16||(t[Y]|=64)}function Kx(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Ur(t)&&mx(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ud(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=ld(e,n,s,t);if(ss(u,e),o!==null&&Xx(e,s-r,u,a,t,o),An(a)){let l=Xt(t.index,e);l[yt]=ld(e,n,s,t)}}}function Qx(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=OD();try{Br(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];Gl(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&Yx(u,l)}}finally{Br(-1),Gl(s)}}function Yx(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function IT(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];cx(e,o.selectors,!1)&&(r??=[],An(o)?r.unshift(o):r.push(o))}return r}function Zx(n,e,t,r,i,o){let s=pn(n,e);Jx(e[Be],s,o,n.value,t,r,i)}function Jx(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Ll(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function Xx(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];cm(r,t,u,l)}}function ek(n,e,t,r,i){let o=Ut+t,s=e[oe],a=i(s,e,n,r,t);e[o]=a,ts(n,!0);let u=n.type===2;return u?(eT(e[Be],a,n),(DD()===0||tc(n))&&ss(a,e),bD()):ss(a,e),Yl()&&(!u||!Tm(n))&&Lm(s,e,a,n),n}function tk(n){let e=n;return kg()?ND():(e=e.parent,ts(e,!1)),e}function nk(n,e){let t=n[Vr];if(!t)return;let r;try{r=t.get($t,null)}catch{r=null}r?.(e)}function Um(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];cm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];cm(h,l,r,i),a=!0}return a}function rk(n,e){let t=Xt(e,n),r=t[oe];ik(r,t);let i=t[hn];i!==null&&t[Qa]===null&&(t[Qa]=Wb(i,t[Vr])),Ce(18),Bm(r,t,t[yt]),Ce(19,t[yt])}function ik(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Bm(n,e,t){Wl(e);try{let r=n.viewQuery;r!==null&&am(1,r,t);let i=n.template;i!==null&&vT(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[ki]?.finishViewCreation(n),n.staticContentQueries&&Kb(n,e),n.staticViewQueries&&am(2,n.viewQuery,t);let o=n.components;o!==null&&ok(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Y]&=-5,Kl()}}function ok(n,e){for(let t=0;t<e.length;t++)rk(n,e[t])}function sk(n,e,t,r){let i=ie(null);try{let o=e.tView,a=n[Y]&4096?4096:16,u=Nm(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[Pi]=l;let h=n[ki];return h!==null&&(u[ki]=h.createEmbeddedView(o)),Bm(o,u,t),u}finally{ie(i)}}function cb(n,e){return!e||e.firstChild===null||jb(n)}function cc(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Jt(o)),fn(o)&&wT(o,r);let s=t.type;if(s&8)cc(n,e,t.child,r);else if(s&32){let a=Pm(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=yT(e,t);if(Array.isArray(a))r.push(...a);else{let u=kr(e[Zt]);cc(u[oe],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function wT(n,e){for(let t=xt;t<n.length;t++){let r=n[t],i=r[oe].firstChild;i!==null&&cc(r[oe],r,i,e)}n[jr]!==n[hn]&&e.push(n[jr])}function DT(n){if(n[Oi]!==null){for(let e of n[Oi])e.impl.addSequence(e);n[Oi].length=0}}var bT=[];function ak(n){return n[jt]??ck(n)}function ck(n){let e=bT.pop()??Object.create(lk);return e.lView=n,e}function uk(n){n.lView[jt]!==n&&(n.lView=null,bT.push(n))}var lk=re(k({},No),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{es(n.lView)},consumerOnSignalRead(){this.lView[jt]=this}});function dk(n){let e=n[jt]??Object.create(hk);return e.lView=n,e}var hk=re(k({},No),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=kr(n.lView);for(;e&&!TT(e[oe]);)e=kr(e);e&&Ng(e)},consumerOnSignalRead(){this.lView[jt]=this}});function TT(n){return n.type!==2}function CT(n){if(n[Za]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Za])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Y]&8192)}}var fk=100;function ST(n,e=0){let r=n[Cn].rendererFactory,i=!1;i||r.begin?.();try{pk(n,e)}finally{i||r.end?.()}}function pk(n,e){let t=Og();try{Fg(!0),hm(n,e);let r=0;for(;rc(n);){if(r===fk)throw new H(103,!1);r++,hm(n,1)}}finally{Fg(t)}}function gk(n,e,t,r){if(Fi(e))return;let i=e[Y],o=!1,s=!1;Wl(e);let a=!0,u=null,l=null;o||(TT(n)?(l=ak(e),u=Po(l)):Xu()===null?(a=!1,l=dk(e),u=Po(l)):e[jt]&&(Oa(e[jt]),e[jt]=null));try{Rg(e),MD(n.bindingStartIndex),t!==null&&vT(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&rd(e,y,null)}else{let y=n.preOrderHooks;y!==null&&id(e,y,0,null),Gg(e,0)}if(s||mk(e),CT(e),AT(e,0),n.contentQueries!==null&&Kb(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&rd(e,y)}else{let y=n.contentHooks;y!==null&&id(e,y,1),Gg(e,1)}vk(n,e);let p=n.components;p!==null&&NT(e,p,0);let m=n.viewQuery;if(m!==null&&am(2,m,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&rd(e,y)}else{let y=n.viewHooks;y!==null&&id(e,y,2),Gg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Bl]){for(let y of e[Bl])y();e[Bl]=null}o||(DT(e),e[Y]&=-73)}catch(h){throw o||es(e),h}finally{l!==null&&(xa(l,u),a&&uk(l)),Kl()}}function AT(n,e){for(let t=Bb(n);t!==null;t=$b(t))for(let r=xt;r<t.length;r++){let i=t[r];RT(i,e)}}function mk(n){for(let e=Bb(n);e!==null;e=$b(e)){if(!(e[Y]&2))continue;let t=e[ec];for(let r=0;r<t.length;r++){let i=t[r];Ng(i)}}}function yk(n,e,t){Ce(18);let r=Xt(e,n);RT(r,t),Ce(19,r[yt])}function RT(n,e){Hl(n)&&hm(n,e)}function hm(n,e){let r=n[oe],i=n[Y],o=n[jt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&ka(o)),s||=!1,o&&(o.dirty=!1),n[Y]&=-9217,s)gk(r,n,r.template,n[yt]);else if(i&8192){let a=ie(null);try{CT(n),AT(n,1);let u=r.components;u!==null&&NT(n,u,1),DT(n)}finally{ie(a)}}}function NT(n,e,t){for(let r=0;r<e.length;r++)yk(n,e[r],t)}function vk(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Br(~i);else{let o=i,s=t[++r],a=t[++r];kD(s,o);let u=e[o];Ce(24,u),a(2,u),Ce(25,u)}}}finally{Br(-1)}}function $m(n,e){let t=Og()?64:1088;for(n[Cn].changeDetectionScheduler?.notify(e);n;){n[Y]|=t;let r=kr(n);if(Xo(n)&&!r)return n;n=r}return null}function MT(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function _k(n,e,t,r=!0){let i=e[oe];if(Ek(i,e,n,t),r){let s=dm(t,n),a=e[Be],u=a.parentNode(n[jr]);u!==null&&Rx(i,n[Yt],a,e,u,s)}let o=e[Qa];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function fm(n,e){if(n.length<=xt)return;let t=xt+e,r=n[t];if(r){let i=r[Pi];i!==null&&i!==n&&Fm(i,r),e>0&&(n[t-1][Qt]=r[Qt]);let o=Ga(n,xt+e);Ax(r[oe],r);let s=o[ki];s!==null&&s.detachView(o[oe]),r[ut]=null,r[Qt]=null,r[Y]&=-129}return r}function Ek(n,e,t,r){let i=xt+r,o=t.length;r>0&&(t[i-1][Qt]=e),r<o-xt?(e[Qt]=t[i],vg(t,xt+r,e)):(t.push(e),e[Qt]=null),e[ut]=t;let s=e[Pi];s!==null&&t!==s&&PT(s,e);let a=e[ki];a!==null&&a.insertView(n),ql(e),e[Y]|=128}function PT(n,e){let t=n[ec],r=e[ut];if(Sn(r))n[Y]|=2;else{let i=r[ut][Zt];e[Zt]!==i&&(n[Y]|=2)}t===null?n[ec]=[e]:t.push(e)}var $r=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[oe];return cc(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[yt]}set context(e){this._lView[yt]=e}get destroyed(){return Fi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ut];if(fn(e)){let t=e[Xa],r=t?t.indexOf(this):-1;r>-1&&(fm(e,r),Ga(t,r))}this._attachedToViewContainer=!1}mT(this._lView[oe],this._lView)}onDestroy(e){Mg(this._lView,e)}markForCheck(){$m(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Y]&=-129}reattach(){ql(this._lView),this._lView[Y]|=128}detectChanges(){this._lView[Y]|=1024,ST(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new H(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Xo(this._lView),t=this._lView[Pi];t!==null&&!e&&Fm(t,this._lView),gT(this._lView[oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new H(902,!1);this._appRef=e;let t=Xo(this._lView),r=this._lView[Pi];r!==null&&!t&&PT(r,this._lView),ql(this._lView)}};var Md=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Ik;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=sk(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new $r(o)}}return n})();function Ik(){return wk(vt(),Ne())}function wk(n,e){return n.type&4?new Md(e,n,wd(n,e)):null}function Hm(n,e,t,r,i){let o=n.data[e];if(o===null)o=Dk(n,e,t,r,i),xD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=RD();o.injectorIndex=s===null?-1:s.injectorIndex}return ts(o,!0),o}function Dk(n,e,t,r,i){let o=xg(),s=kg(),a=s?o:o&&o.parent,u=n.data[e]=Tk(n,a,t,e,r,i);return bk(n,u,o,s),u}function bk(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function Tk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return CD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var xW=new RegExp(`^(\\d+)*(${GP}|${zP})*(.*)`);var Ck=()=>null;function ub(n,e){return Ck(n,e)}var xT=class{},Pd=class{},pm=class{resolveComponentFactory(e){throw new H(917,!1)}},fc=class{static NULL=new pm},ji=class{},qr=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>Sk()}return n})();function Sk(){let n=Ne(),e=vt(),t=Xt(e.index,n);return(Sn(t)?t:n)[Be]}var kT=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>null})}return n})();var od={},gm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,od,r);return i!==od||t===od?i:this.parentInjector.get(e,t,r)}};function lb(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=cg(i,a);else if(o==2){let u=a,l=e[++s];r=cg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function me(n,e=0){let t=Ne();if(t===null)return W(n,e);let r=vt();return Fb(r,t,ct(n),e)}function qm(){let n="invalid";throw new Error(n)}function OT(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}Nk(n,e,t,a,o,u,l)}o!==null&&r!==null&&Ak(t,r,o)}function Ak(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new H(-301,!1);r.push(e[i],o)}}function Rk(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Nk(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let m=0;m<a;m++){let y=r[m];!u&&An(y)&&(u=!0,Rk(n,t,m)),rm(ud(t,e),n,y.type)}Fk(t,n.data.length,a);for(let m=0;m<a;m++){let y=r[m];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=aT(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let m=0;m<a;m++){let y=r[m];if(t.mergedAttrs=ac(t.mergedAttrs,y.hostAttrs),Pk(n,t,e,p,y),Ok(p,y,i),s!==null&&s.has(y)){let[M,R]=s.get(y);t.directiveToIndex.set(y.type,[p,M+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let S=y.type.prototype;!l&&(S.ngOnChanges||S.ngOnInit||S.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(S.ngOnChanges||S.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}Mk(n,t,o)}function Mk(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))db(0,e,i,r),db(1,e,i,r),fb(e,r,!1);else{let o=t.get(i);hb(0,e,o,r),hb(1,e,o,r),fb(e,r,!0)}}}function db(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),FT(e,o)}}function hb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),FT(e,s)}}function FT(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function fb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Am(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function Pk(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Ci(i.type,!0)),s=new Vi(o,An(i),me,null);n.blueprint[r]=s,t[r]=s,xk(n,e,r,aT(n,t,i.hostVars,ds),i)}function xk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;kk(s)!=a&&s.push(a),s.push(t,r,o)}}function kk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function Ok(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;An(e)&&(t[""]=n)}}function Fk(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function LT(n,e,t,r,i,o,s,a){let u=e[oe],l=u.consts,h=nc(l,s),p=Hm(u,n,t,r,h);return o&&OT(u,e,p,nc(l,a),i),p.mergedAttrs=ac(p.mergedAttrs,p.attrs),p.attrs!==null&&lb(p,p.attrs,!1),p.mergedAttrs!==null&&lb(p,p.mergedAttrs,!0),u.queries!==null&&u.queries.elementStart(u,p),p}function VT(n,e){Sb(n,e),Ag(e)&&n.queries.elementEnd(e)}function zm(n){return UT(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function jT(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function UT(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function xd(n,e,t){if(t===ds)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Qg(n,e,t){return function r(i){let o=Ur(n)?Xt(n.index,e):e;$m(o,5);let s=e[yt],a=pb(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=pb(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function pb(n,e,t,r){let i=ie(null);try{return Ce(6,e,t),t(r)!==!1}catch(o){return nk(n,o),!1}finally{Ce(7,e,t),ie(i)}}function Lk(n,e,t,r,i,o,s,a){let u=tc(n),l=!1,h=null;if(!r&&u&&(h=jk(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=pn(n,t),m=r?r(p):p;KP(t,m,o,a);let y=i.listen(m,o,a);if(!Vk(o)){let S=r?M=>r(Jt(M[n.index])):n.index;BT(S,e,t,o,a,y,!1)}}return l}function Vk(n){return n.startsWith("animation")||n.startsWith("transition")}function jk(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Zo],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function BT(n,e,t,r,i,o,s){let a=e.firstCreatePass?wD(e):null,u=ID(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function gb(n,e,t,r,i,o){let s=e[t],a=e[oe],l=a.data[t].outputs[r],p=s[l].subscribe(o);BT(n.index,a,e,i,o,p,!0)}var mm=Symbol("BINDING");var md=class extends fc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=ir(e);return new Ui(t,this.ngModule)}};function Uk(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Sd.SignalBased)!==0};return i&&(o.transform=i),o})}function Bk(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function $k(n,e,t){let r=e instanceof Ue?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new gm(t,r):t}function Hk(n){let e=n.get(ji,null);if(e===null)throw new H(407,!1);let t=n.get(kT,null),r=n.get(rr,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function qk(n,e){let t=$T(n);return Jb(e,t,t==="svg"?gD:t==="math"?mD:null)}function $T(n){return(n.selectors[0][0]||"div").toLowerCase()}var Ui=class extends Pd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=Uk(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Bk(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=hx(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){Ce(22);let a=ie(null);try{let u=this.componentDef,l=zk(r,u,s,o),h=$k(u,i||this.ngModule,e),p=Hk(h),m=p.rendererFactory.createRenderer(null,u),y=r?$x(m,r,u.encapsulation,h):qk(u,m),S=s?.some(mb)||o?.some(F=>typeof F!="function"&&F.bindings.some(mb)),M=Nm(null,l,null,512|sT(u),null,null,p,m,h,null,Wb(y,h,!0));M[Ut]=y,Wl(M);let R=null;try{let F=LT(Ut,M,2,"#host",()=>l.directiveRegistry,!0,0);eT(m,y,F),ss(y,M),jm(l,M,F),Qb(l,F,M),VT(l,F),t!==void 0&&Wk(F,this.ngContentSelectors,t),R=Xt(F.index,M),M[yt]=R[yt],Bm(l,M,null)}catch(F){throw R!==null&&om(R),om(M),F}finally{Ce(23),Kl()}return new yd(this.componentType,M,!!S)}finally{ie(a)}}};function zk(n,e,t,r){let i=n?["ng-version","20.3.15"]:fx(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[mm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let m of p.bindings){a+=m[mm].requiredVars;let y=h+1;m.create&&(m.targetIdx=y,(o??=[]).push(m)),m.update&&(m.targetIdx=y,(s??=[]).push(m))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,m=wg(p);u.push(m)}return Rm(0,null,Gk(o,s),1,a,u,null,null,null,[i],null)}function Gk(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function mb(n){let e=n[mm].kind;return e==="input"||e==="twoWay"}var yd=class extends xT{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=$l(t[oe],Ut),this.location=wd(this._tNode,t),this.instance=Xt(this._tNode.index,t)[yt],this.hostView=this.changeDetectorRef=new $r(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=Um(r,i[oe],i,e,t);this.previousInputValues.set(e,t);let s=Xt(r.index,i);$m(s,1)}get injector(){return new Li(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function Wk(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var fs=(()=>{class n{static __NG_ELEMENT_ID__=Kk}return n})();function Kk(){let n=vt();return Yk(n,Ne())}var Qk=fs,HT=class extends Qk{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return wd(this._hostTNode,this._hostLView)}get injector(){return new Li(this._hostTNode,this._hostLView)}get parentInjector(){let e=Im(this._hostTNode,this._hostLView);if(Nb(e)){let t=cd(e,this._hostLView),r=ad(e),i=t[oe].data[r+8];return new Li(i,t)}else return new Li(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=yb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-xt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ub(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,cb(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!EP(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new Ui(ir(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let F=(u?p:this.parentInjector).get(Ue,null);F&&(o=F)}let m=ir(h.componentType??{}),y=ub(this._lContainer,m?.id??null),S=y?.firstChild??null,M=h.create(p,i,S,o,s,a);return this.insertImpl(M.hostView,l,cb(this._hostTNode,y)),M}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(vD(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[ut],l=new HT(u,u[Yt],u[ut]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return _k(s,i,o,r),e.attachToViewContainerRef(),vg(Yg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=yb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=fm(this._lContainer,t);r&&(Ga(Yg(this._lContainer),t),mT(r[oe],r))}detach(e){let t=this._adjustIndex(e,-1),r=fm(this._lContainer,t);return r&&Ga(Yg(this._lContainer),t)!=null?new $r(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function yb(n){return n[Xa]}function Yg(n){return n[Xa]||(n[Xa]=[])}function Yk(n,e){let t,r=e[n.index];return fn(r)?t=r:(t=MT(r,e,null,n),e[n.index]=t,Mm(e,t)),Jk(t,e,n,r),new HT(t,n,e)}function Zk(n,e){let t=n[Be],r=t.createComment(""),i=pn(e,n),o=t.parentNode(i);return hd(t,o,r,t.nextSibling(i),!1),r}var Jk=tO,Xk=()=>!1;function eO(n,e,t){return Xk(n,e,t)}function tO(n,e,t,r){if(n[jr])return;let i;t.type&8?i=Jt(r):i=Zk(e,t),n[jr]=i}var cs=class{},kd=class{};var vd=class extends cs{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new md(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Ig(e);this._bootstrapComponents=iT(o.bootstrap),this._r3Injector=Ug(e,t,[{provide:cs,useValue:this},{provide:fc,useValue:this.componentFactoryResolver},...r],nr(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},_d=class extends kd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new vd(this.moduleType,e,[])}};var uc=class extends cs{injector;componentFactoryResolver=new md(this);instance=null;constructor(e){super();let t=new Ai([...e.providers,{provide:cs,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],e.parent||Ka(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ps(n,e,t=null){return new uc({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var nO=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Dg(!1,t.type),i=r.length>0?ps([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=$({token:n,providedIn:"environment",factory:()=>new n(W(Ue))})}return n})();function mn(n){return ls(()=>{let e=qT(n),t=re(k({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===wm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(nO).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||sr.Emulated,styles:n.styles||Vt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&hs("NgStandalone"),zT(t);let r=n.dependencies;return t.directiveDefs=vb(r,rO),t.pipeDefs=vb(r,cD),t.id=sO(t),t})}function rO(n){return ir(n)||wg(n)}function Pn(n){return ls(()=>({type:n.type,bootstrap:n.bootstrap||Vt,declarations:n.declarations||Vt,imports:n.imports||Vt,exports:n.exports||Vt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function iO(n,e){if(n==null)return Fr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Sd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function oO(n){if(n==null)return Fr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function kt(n){return ls(()=>{let e=qT(n);return zT(e),e})}function qT(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Fr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Vt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:iO(n.inputs,e),outputs:oO(n.outputs),debugInfo:null}}function zT(n){n.features?.forEach(e=>e(n))}function vb(n,e){return n?()=>{let t=typeof n=="function"?n():n,r=[];for(let i of t){let o=e(i);o!==null&&r.push(o)}return r}:null}function sO(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function aO(n){return Object.getPrototypeOf(n.prototype).constructor}function zr(n){let e=aO(n.type),t=!0,r=[n];for(;e;){let i;if(An(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new H(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=Zg(n.inputs),s.declaredInputs=Zg(n.declaredInputs),s.outputs=Zg(n.outputs);let a=i.hostBindings;a&&hO(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&lO(n,u),l&&dO(n,l),cO(n,i),eD(n.outputs,i.outputs),An(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===zr&&(t=!1)}}e=Object.getPrototypeOf(e)}uO(r)}function cO(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function uO(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=ac(i.hostAttrs,t=ac(t,i.hostAttrs))}}function Zg(n){return n===Fr?{}:n===Vt?[]:n}function lO(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function dO(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function hO(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function fO(n,e,t,r,i,o,s,a){if(t.firstCreatePass){n.mergedAttrs=ac(n.mergedAttrs,n.attrs);let h=n.tView=Rm(2,n,i,o,s,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,n),h.queries=t.queries.embeddedTView(n))}a&&(n.flags|=a),ts(n,!1);let u=gO(t,e,n,r);Yl()&&Lm(t,e,u,n),ss(u,e);let l=MT(u,e,u,n);e[r+Ut]=l,Mm(e,l),eO(l,n,e)}function pO(n,e,t,r,i,o,s,a,u,l,h){let p=t+Ut,m;return e.firstCreatePass?(m=Hm(e,p,4,s||null,a||null),Pg()&&OT(e,n,m,nc(e.consts,l),IT),Sb(e,m)):m=e.data[p],fO(m,n,e,t,r,i,o,u),tc(m)&&jm(e,n,m),l!=null&&_T(n,m,h),m}function Gr(n,e,t,r,i,o,s,a){let u=Ne(),l=Bt(),h=nc(l.consts,o);return pO(u,l,n,e,t,r,i,h,void 0,s,a),Gr}var gO=mO;function mO(n,e,t,r){return Zl(!0),e[Be].createComment("")}var Gm=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var Wm=new j("");function zi(n){return!!n&&typeof n.then=="function"}function GT(n){return!!n&&typeof n.subscribe=="function"}var Km=new j("");function Od(n){return or([{provide:Km,multi:!0,useValue:n}])}var Qm=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=N(Km,{optional:!0})??[];injector=N(ze);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ge(this.injector,i);if(zi(o))t.push(o);else if(GT(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pc=new j("");function WT(){Mp(()=>{let n="";throw new H(600,n)})}function KT(n){return n.isBoundToModule}var yO=10;var Wr=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=N($t);afterRenderManager=N(Om);zonelessEnabled=N(Xl);rootEffectScheduler=N(zg);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new He;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=N(Nn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(ae(t=>!t))}constructor(){N(qi,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=N(Ue);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=ze.NULL){return this._injector.get(Se).run(()=>{Ce(10);let s=t instanceof Pd;if(!this._injector.get(Qm).done){let S="";throw new H(405,S)}let u;s?u=t:u=this._injector.get(fc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=KT(u)?void 0:this._injector.get(cs),h=r||u.selector,p=u.create(i,[],h,l),m=p.location.nativeElement,y=p.injector.get(Wm,null);return y?.registerApplication(m),p.onDestroy(()=>{this.detachView(p.hostView),sc(this.components,p),y?.unregisterApplication(m)}),this._loadComponent(p),Ce(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ce(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Ad.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new H(101,!1);let t=ie(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,ie(t),this.afterTick.next(),Ce(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(ji,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<yO;)Ce(14),this.synchronizeOnce(),Ce(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!rc(i))continue;let o=r&&!this.zonelessEnabled?0:1;ST(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>rc(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;sc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(pc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>sc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new H(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function sc(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function gc(n,e,t,r){let i=Ne(),o=zl();if(xd(i,o,e)){let s=Bt(),a=Ql();Zx(a,i,n,e,t,r)}return gc}var UW=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function Ie(n,e,t){let r=Ne(),i=zl();if(xd(r,i,e)){let o=Bt(),s=Ql();ET(s,r,n,e,r[Be],t)}return Ie}function _b(n,e,t,r,i){Um(e,n,t,i?"class":"style",r)}function U(n,e,t,r){let i=Ne(),o=i[oe],s=n+Ut,a=o.firstCreatePass?LT(s,i,2,e,IT,Pg(),t,r):o.data[s];if(ek(a,i,n,e,vO),tc(a)){let u=i[oe];jm(u,i,a),Qb(u,a,i)}return r!=null&&_T(i,a),U}function V(){let n=Bt(),e=vt(),t=tk(e);return n.firstCreatePass&&VT(n,t),SD(t)&&AD(),TD(),t.classesWithoutHost!=null&&CP(t)&&_b(n,t,Ne(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&SP(t)&&_b(n,t,Ne(),t.stylesWithoutHost,!1),V}function en(n,e,t,r){return U(n,e,t,r),V(),en}var vO=(n,e,t,r,i)=>(Zl(!0),Jb(e[Be],r,BD()));function Gi(){return Ne()}var mc="en-US";var _O=mc;function QT(n){typeof n=="string"&&(_O=n.toLowerCase().replace(/_/g,"-"))}function se(n,e,t){let r=Ne(),i=Bt(),o=vt();return YT(i,r,r[Be],o,n,e,t),se}function YT(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=Qg(r,e,o),Lk(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let m=h[p],y=h[p+1];u??=Qg(r,e,o),gb(r,e,m,y,i,u)}if(l&&l.length)for(let p of l)u??=Qg(r,e,o),gb(r,e,p,i,i,u)}}function xn(n=1){return UD(n)}function nd(n,e){return n<<17|e<<2}function Bi(n){return n>>17&32767}function EO(n){return(n&2)==2}function IO(n,e){return n&131071|e<<17}function ym(n){return n|2}function us(n){return(n&131068)>>2}function Jg(n,e){return n&-131069|e<<2}function wO(n){return(n&1)===1}function vm(n){return n|1}function DO(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Bi(s),u=us(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Yo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let m=Bi(n[a+1]);n[r+1]=nd(m,a),m!==0&&(n[m+1]=Jg(n[m+1],r)),n[a+1]=IO(n[a+1],r)}else n[r+1]=nd(a,0),a!==0&&(n[a+1]=Jg(n[a+1],r)),a=r;else n[r+1]=nd(u,0),a===0?a=r:n[u+1]=Jg(n[u+1],r),u=r;l&&(n[r+1]=ym(n[r+1])),Eb(n,h,r,!0),Eb(n,h,r,!1),bO(e,h,n,r,o),s=nd(a,u),o?e.classBindings=s:e.styleBindings=s}function bO(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Yo(o,e)>=0&&(t[r+1]=vm(t[r+1]))}function Eb(n,e,t,r){let i=n[t+1],o=e===null,s=r?Bi(i):us(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];TO(u,e)&&(a=!0,n[s+1]=r?vm(l):ym(l)),s=r?Bi(l):us(l)}a&&(n[t+1]=r?ym(i):vm(i))}function TO(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Yo(n,e)>=0:!1}function Fd(n,e){return CO(n,e,null,!0),Fd}function CO(n,e,t,r){let i=Ne(),o=Bt(),s=PD(2);if(o.firstUpdatePass&&AO(o,n,s,r),e!==ds&&xd(i,s,e)){let a=o.data[ns()];xO(o,a,i,i[Be],n,i[s+1]=kO(e,t),r,s)}}function SO(n,e){return e>=n.expandoStartIndex}function AO(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[ns()],s=SO(n,t);OO(o,r)&&e===null&&!s&&(e=!1),e=RO(i,o,e,r),DO(i,o,e,t,s,r)}}function RO(n,e,t,r){let i=FD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Xg(null,n,e,t,r),t=lc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Xg(i,n,e,t,r),o===null){let u=NO(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Xg(null,n,e,u[1],r),u=lc(u,e.attrs,r),MO(n,e,r,u))}else o=PO(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function NO(n,e,t){let r=t?e.classBindings:e.styleBindings;if(us(r)!==0)return n[Bi(r)]}function MO(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Bi(i)]=r}function PO(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=lc(r,s,t)}return lc(r,e.attrs,t)}function Xg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=lc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function lc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),aD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function xO(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=wO(l)?Ib(u,e,t,i,us(l),s):void 0;if(!Ed(h)){Ed(o)||EO(l)&&(o=Ib(u,null,t,i,a,s));let p=yD(ns(),t);Bx(r,s,p,i,o)}}function Ib(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=t[i+1];m===ds&&(m=p?Vt:void 0);let y=p?Ul(m,r):h===r?m:void 0;if(l&&!Ed(y)&&(y=Ul(u,r)),Ed(y)&&(a=y,s))return a;let S=n[i+1];i=s?Bi(S):us(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Ul(u,r))}return a}function Ed(n){return n!==void 0}function kO(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=nr(hc(n)))),n}function OO(n,e){return(n.flags&(e?8:16))!==0}function Le(n,e=""){let t=Ne(),r=Bt(),i=n+Ut,o=r.firstCreatePass?Hm(r,i,1,e,null):r.data[i],s=FO(r,t,o,e,n);t[i]=s,Yl()&&Lm(r,t,s,o),ts(o,!1)}var FO=(n,e,t,r,i)=>(Zl(!0),JP(e[Be],r));function nt(n,e,t){$g(e)&&(e=e());let r=Ne(),i=zl();if(xd(r,i,e)){let o=Bt(),s=Ql();ET(s,r,n,e,r[Be],t)}return nt}function lt(n,e){let t=$g(n);return t&&n.set(e),t}function rt(n,e){let t=Ne(),r=Bt(),i=vt();return YT(r,t,t[Be],i,n,e),rt}function LO(n,e,t){let r=Bt();if(r.firstCreatePass){let i=An(n);_m(t,r.data,r.blueprint,i,!0),_m(e,r.data,r.blueprint,i,!1)}}function _m(n,e,t,r,i){if(n=ct(n),Array.isArray(n))for(let o=0;o<n.length;o++)_m(n[o],e,t,r,i);else{let o=Bt(),s=Ne(),a=vt(),u=Si(n)?n:ct(n.provide),l=Tg(n),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Si(n)||!n.multi){let y=new Vi(l,i,me,null),S=tm(u,e,i?h:h+m,p);S===-1?(rm(ud(a,s),o,u),em(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[S]=y,s[S]=y)}else{let y=tm(u,e,h+m,p),S=tm(u,e,h,h+m),M=y>=0&&t[y],R=S>=0&&t[S];if(i&&!R||!i&&!M){rm(ud(a,s),o,u);let F=UO(i?jO:VO,t.length,i,r,l,n);!i&&R&&(t[S].providerFactory=F),em(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(F),s.push(F)}else{let F=ZT(t[i?S:y],l,!i&&r);em(o,n,y>-1?y:S,F)}!i&&r&&R&&t[S].componentProviders++}}}function em(n,e,t,r){let i=Si(e),o=hD(e);if(i||o){let u=(o?ct(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function ZT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function VO(n,e,t,r,i){return Em(this.multi,[])}function jO(n,e,t,r,i){let o=this.multi,s;if(this.providerFactory){let a=this.providerFactory.componentProviders,u=ld(r,r[oe],this.providerFactory.index,i);s=u.slice(0,a),Em(o,s);for(let l=a;l<u.length;l++)s.push(u[l])}else s=[],Em(o,s);return s}function Em(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function UO(n,e,t,r,i,o){let s=new Vi(n,t,me,null);return s.multi=[],s.index=e,s.componentProviders=0,ZT(s,i,r&&!t),s}function yc(n,e=[]){return t=>{t.providersResolver=(r,i)=>LO(r,i?i(n):n,e)}}var Id=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Ym=(()=>{class n{compileModuleSync(t){return new _d(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Ig(t),o=iT(i.declarations).reduce((s,a)=>{let u=ir(a);return u&&s.push(new Ui(u)),s},[]);return new Id(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var BO=(()=>{class n{zone=N(Se);changeDetectionScheduler=N(rr);applicationRef=N(Wr);applicationErrorHandler=N($t);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function JT({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Se(re(k({},XT()),{scheduleInRootZone:t})),[{provide:Se,useFactory:n},{provide:Lr,multi:!0,useFactory:()=>{let r=N(BO,{optional:!0});return()=>r.initialize()}},{provide:Lr,multi:!0,useFactory:()=>{let r=N($O);return()=>{r.initialize()}}},e===!0?{provide:Hg,useValue:!0}:[],{provide:qg,useValue:t??uT},{provide:$t,useFactory:()=>{let r=N(Se),i=N(Ue),o;return s=>{r.runOutsideAngular(()=>{i.destroyed&&!o?setTimeout(()=>{throw s}):(o??=i.get(ln),o.handleError(s))})}}}]}function XT(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var $O=(()=>{class n{subscription=new Fe;initialized=!1;zone=N(Se);pendingTasks=N(Nn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var eC=(()=>{class n{applicationErrorHandler=N($t);appRef=N(Wr);taskService=N(Nn);ngZone=N(Se);zonelessEnabled=N(Xl);tracing=N(qi,{optional:!0});disableScheduling=N(Hg,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Fe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(fd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(N(qg,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof pd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?nb:lT;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(fd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,nb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function HO(){return typeof $localize<"u"&&$localize.locale||mc}var Zm=new j("",{providedIn:"root",factory:()=>N(Zm,{optional:!0,skipSelf:!0})||HO()});function _t(n){return Zw(n)}function vc(n,e){return rl(n,e?.equal)}var tC=class{[mt];constructor(e){this[mt]=e}destroy(){this[mt].destroy()}};var sC=Symbol("InputSignalNode#UNSET"),t1=re(k({},il),{transformFn:void 0,applyValueToInputSignal(n,e){ko(n,e)}});function aC(n,e){let t=Object.create(t1);t.value=n,t.transformFn=e?.transform;function r(){if(Mo(t),t.value===sC){let i=null;throw new H(-950,i)}return t.value}return r[mt]=t,r}var Vd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>dc(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},n1=new j("");n1.__NG_ELEMENT_ID__=n=>{let e=vt();if(e===null)throw new H(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new H(204,!1)};function nC(n,e){return aC(n,e)}function r1(n){return aC(sC,n)}var cC=(nC.required=r1,nC);var Jm=new j(""),i1=new j("");function _c(n){return!n.moduleRef}function o1(n){let e=_c(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Se);return t.run(()=>{_c(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get($t),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),_c(n)){let o=()=>e.destroy(),s=n.platformInjector.get(Jm);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(Jm);s.add(o),n.moduleRef.onDestroy(()=>{sc(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return a1(r,t,()=>{let o=e.get(Nn),s=o.add(),a=e.get(Qm);return a.runInitializers(),a.donePromise.then(()=>{let u=e.get(Zm,mc);if(QT(u||mc),!e.get(i1,!0))return _c(n)?e.get(Wr):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(_c(n)){let h=e.get(Wr);return n.rootComponent!==void 0&&h.bootstrap(n.rootComponent),h}else return s1?.(n.moduleRef,n.allPlatformModules),n.moduleRef}).finally(()=>void o.remove(s))})})}var s1;function a1(n,e,t){try{let r=t();return zi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Ld=null;function c1(n=[],e){return ze.create({name:e,providers:[{provide:Wa,useValue:"platform"},{provide:Jm,useValue:new Set([()=>Ld=null])},...n]})}function u1(n=[]){if(Ld)return Ld;let e=c1(n);return Ld=e,WT(),l1(e),e}function l1(n){let e=n.get(bd,null);Ge(n,()=>{e?.forEach(t=>t())})}function ry(){return!1}var Wi=(()=>{class n{static __NG_ELEMENT_ID__=d1}return n})();function d1(n){return h1(vt(),Ne(),(n&16)===16)}function h1(n,e,t){if(Ur(n)&&!t){let r=Xt(n.index,e);return new $r(r,r)}else if(n.type&175){let r=e[Zt];return new $r(r,e)}return null}var Xm=class{constructor(){}supports(e){return zm(e)}create(e){return new ey(e)}},f1=(n,e)=>e,ey=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||f1}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<rC(r,i,o)?t:r,a=rC(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let y=m<o.length?o[m]:o[m]=0,S=y+m;h<=S&&S<l&&(o[m]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!zm(e))throw new H(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,jT(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new ty(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new jd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new jd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},ty=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},ny=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},jd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new ny,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rC(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function iC(){return new iy([new Xm])}var iy=(()=>{class n{factories;static \u0275prov=$({token:n,providedIn:"root",factory:iC});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:()=>{let r=N(n,{optional:!0,skipSelf:!0});return n.create(t,r||iC())}}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new H(901,!1)}}return n})();function uC(n){let{rootComponent:e,appProviders:t,platformProviders:r,platformRef:i}=n;Ce(8);try{let o=i?.injector??u1(r),s=[JT({}),{provide:rr,useExisting:eC},HD,...t||[]],a=new uc({providers:s,parent:o,debugName:"",runEnvironmentInitializers:!1});return o1({r3Injector:a.injector,platformInjector:o,rootComponent:e})}catch(o){return Promise.reject(o)}finally{Ce(9)}}function Ki(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function lC(n){let e=ir(n);if(!e)return null;let t=new Ui(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var fC=null;function tn(){return fC}function oy(n){fC??=n}var Ec=class{},Ic=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>N(pC),providedIn:"platform"})}return n})(),sy=new j(""),pC=(()=>{class n extends Ic{_location;_history;_doc=N(We);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return tn().getBaseHref(this._doc)}onPopState(t){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=tn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Bd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function dC(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function yn(n){return n&&n[0]!=="?"?`?${n}`:n}var vn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>N(Hd),providedIn:"root"})}return n})(),$d=new j(""),Hd=(()=>{class n extends vn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??N(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Bd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+yn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+yn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Ic),W($d,8))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kr=(()=>{class n{_subject=new He;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=m1(dC(hC(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+yn(r))}normalize(t){return n.stripTrailingSlash(g1(this._basePath,hC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=yn;static joinWithSlash=Bd;static stripTrailingSlash=dC;static \u0275fac=function(r){return new(r||n)(W(vn))};static \u0275prov=$({token:n,factory:()=>p1(),providedIn:"root"})}return n})();function p1(){return new Kr(W(vn))}function g1(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function hC(n){return n.replace(/\/index.html$/,"")}function m1(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var ay=(()=>{class n extends vn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Bd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+yn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+yn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(W(Ic),W($d,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();var qd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Qr=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new qd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),gC(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);gC(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(me(fs),me(Md),me(iy))};static \u0275dir=kt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function gC(n,e){n.context.$implicit=e.item}var Yr=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=dn({})}return n})();function cy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var wc=class{};var mC="browser";var yC=(()=>{class n{static \u0275prov=$({token:n,providedIn:"root",factory:()=>new uy(N(We),window)})}return n})(),uy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(re(k({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=y1(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){try{this.window.history.scrollRestoration=e}catch{console.warn(Ri(2400,!1))}}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(re(k({},t),{left:i-s[0],top:o-s[1]}))}};function y1(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Dc=class{_doc;constructor(e){this._doc=e}manager},Gd=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),Kd=new j(""),py=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(s=>{s.manager=this});let i=t.filter(s=>!(s instanceof Gd));this._plugins=i.slice().reverse();let o=t.find(s=>s instanceof Gd);o&&this._plugins.push(o)}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new H(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(W(Kd),W(Se))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),ly="ng-app-id";function vC(n){for(let e of n)e.remove()}function _C(n,e){let t=e.createElement("style");return t.textContent=n,t}function v1(n,e,t,r){let i=n.head?.querySelectorAll(`style[${ly}="${e}"],link[${ly}="${e}"]`);if(i)for(let o of i)o.removeAttribute(ly),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function hy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var gy=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,v1(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,_C);r?.forEach(i=>this.addUsage(i,this.external,hy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(vC(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])vC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,_C(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,hy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(W(We),W(Dd),W(Td,8),W(Hi))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),dy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},my=/%COMP%/g;var IC="%COMP%",_1=`_nghost-${IC}`,E1=`_ngcontent-${IC}`,I1=!0,w1=new j("",{providedIn:"root",factory:()=>I1});function D1(n){return E1.replace(my,n)}function b1(n){return _1.replace(my,n)}function wC(n,e){return e.map(t=>t.replace(my,n))}var yy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.ngZone=a,this.nonce=u,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new bc(t,s,a,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Wd?i.applyToHost(t):i instanceof Tc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case sr.Emulated:o=new Wd(u,l,r,this.appId,h,s,a,p,m);break;case sr.ShadowDom:return new fy(u,l,t,r,s,a,this.nonce,p,m);default:o=new Tc(u,l,r,h,s,a,p,m);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(W(py),W(gy),W(Dd),W(w1),W(We),W(Se),W(Td),W(qi,8))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),bc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(dy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(EC(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(EC(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new H(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=dy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=dy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(ar.DashCase|ar.Important)?e.style.setProperty(t,r,i&ar.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&ar.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=tn().getGlobalEventTarget(this.doc,e),!e))throw new H(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function EC(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var fy=class extends bc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=wC(i.id,h);for(let m of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=m,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let m of p){let y=hy(m,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Tc=class extends bc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?wC(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&as.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Wd=class extends Tc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=D1(h),this.hostAttr=b1(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var Qd=class n extends Ec{supportsDOMEvents=!0;static makeCurrent(){oy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=T1();return t==null?null:C1(t)}resetBaseElement(){Cc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cy(document.cookie,e)}},Cc=null;function T1(){return Cc=Cc||document.head.querySelector("base"),Cc?Cc.getAttribute("href"):null}function C1(n){return new URL(n,document.baseURI).pathname}var S1=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),DC=["alt","control","meta","shift"],A1={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},R1={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},bC=(()=>{class n extends Dc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>tn().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),DC.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=A1[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),DC.forEach(s=>{if(s!==i){let a=R1[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function vy(n,e,t){let r=k({rootComponent:n,platformRef:t?.platformRef},N1(e));return uC(r)}function N1(n){return{appProviders:[...O1,...n?.providers??[]],platformProviders:k1}}function M1(){Qd.makeCurrent()}function P1(){return new ln}function x1(){return Dm(document),document}var k1=[{provide:Hi,useValue:mC},{provide:bd,useValue:M1,multi:!0},{provide:We,useFactory:x1}];var O1=[{provide:Wa,useValue:"root"},{provide:ln,useFactory:P1},{provide:Kd,useClass:Gd,multi:!0,deps:[We]},{provide:Kd,useClass:bC,multi:!0,deps:[We]},yy,gy,py,{provide:ji,useExisting:yy},{provide:wc,useClass:S1},[]];var TC=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(W(We))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Z="primary",jc=Symbol("RouteTitle"),Dy=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Zi(n){return new Dy(n)}function xC(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function L1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!kn(n[t],e[t]))return!1;return!0}function kn(n,e){let t=n?by(n):void 0,r=e?by(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!kC(n[i],e[i]))return!1;return!0}function by(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function kC(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function OC(n){return n.length>0?n[n.length-1]:null}function lr(n){return Gp(n)?n:zi(n)?Pe(Promise.resolve(n)):G(n)}var V1={exact:LC,subset:VC},FC={exact:j1,subset:U1,ignored:()=>!0};function CC(n,e,t){return V1[t.paths](n.root,e.root,t.matrixParams)&&FC[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function j1(n,e){return kn(n,e)}function LC(n,e,t){if(!Qi(n.segments,e.segments)||!Jd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!LC(n.children[r],e.children[r],t))return!1;return!0}function U1(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>kC(n[t],e[t]))}function VC(n,e,t){return jC(n,e,e.segments,t)}function jC(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Qi(i,t)||e.hasChildren()||!Jd(i,t,r))}else if(n.segments.length===t.length){if(!Qi(n.segments,t)||!Jd(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!VC(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Qi(n.segments,i)||!Jd(n.segments,i,r)||!n.children[Z]?!1:jC(n.children[Z],e,o,r)}}function Jd(n,e,t){return e.every((r,i)=>FC[t](n[i].parameters,r.parameters))}var Fn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ve([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){return H1.serialize(this)}},ve=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Xd(this)}},Zr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Zi(this.parameters),this._parameterMap}toString(){return BC(this)}};function B1(n,e){return Qi(n,e)&&n.every((t,r)=>kn(t.parameters,e[r].parameters))}function Qi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $1(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Z&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Z&&(t=t.concat(e(i,r)))}),t}var Ji=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>new Jr,providedIn:"root"})}return n})(),Jr=class{parse(e){let t=new Cy(e);return new Fn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Sc(e.root,!0)}`,r=G1(e.queryParams),i=typeof e.fragment=="string"?`#${q1(e.fragment)}`:"";return`${t}${r}${i}`}},H1=new Jr;function Xd(n){return n.segments.map(e=>BC(e)).join("/")}function Sc(n,e){if(!n.hasChildren())return Xd(n);if(e){let t=n.children[Z]?Sc(n.children[Z],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==Z&&r.push(`${i}:${Sc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$1(n,(r,i)=>i===Z?[Sc(n.children[Z],!1)]:[`${i}:${Sc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Z]!=null?`${Xd(n)}/${t[0]}`:`${Xd(n)}/(${t.join("//")})`}}function UC(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(n){return UC(n).replace(/%3B/gi,";")}function q1(n){return encodeURI(n)}function Ty(n){return UC(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function eh(n){return decodeURIComponent(n)}function SC(n){return eh(n.replace(/\+/g,"%20"))}function BC(n){return`${Ty(n.path)}${z1(n.parameters)}`}function z1(n){return Object.entries(n).map(([e,t])=>`;${Ty(e)}=${Ty(t)}`).join("")}function G1(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Yd(t)}=${Yd(i)}`).join("&"):`${Yd(t)}=${Yd(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var W1=/^[^\/()?;#]+/;function _y(n){let e=n.match(W1);return e?e[0]:""}var K1=/^[^\/()?;=#]+/;function Q1(n){let e=n.match(K1);return e?e[0]:""}var Y1=/^[^=?&#]+/;function Z1(n){let e=n.match(Y1);return e?e[0]:""}var J1=/^[^&#]+/;function X1(n){let e=n.match(J1);return e?e[0]:""}var Cy=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ve([],{}):new ve([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Z]=new ve(e,t)),r}parseSegment(){let e=_y(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new H(4009,!1);return this.capture(e),new Zr(eh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Q1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=_y(this.remaining);i&&(r=i,this.capture(r))}e[eh(t)]=eh(r)}parseQueryParam(e){let t=Z1(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=X1(this.remaining);s&&(r=s,this.capture(r))}let i=SC(t),o=SC(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=_y(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new H(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=Z);let s=this.parseChildren();t[o??Z]=Object.keys(s).length===1&&s[Z]?s[Z]:new ve([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new H(4011,!1)}};function $C(n){return n.segments.length>0?new ve([],{[Z]:n}):n}function HC(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=HC(i);if(r===Z&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ve(n.segments,e);return eF(t)}function eF(n){if(n.numberOfChildren===1&&n.children[Z]){let e=n.children[Z];return new ve(n.segments.concat(e.segments),e.children)}return n}function Xr(n){return n instanceof Fn}function qC(n,e,t=null,r=null){let i=zC(n);return GC(i,e,t,r)}function zC(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ve(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=$C(r);return e??i}function GC(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return Ey(i,i,i,t,r);let o=tF(e);if(o.toRoot())return Ey(i,i,new ve([],{}),t,r);let s=nF(o,i,n),a=s.processChildren?Rc(s.segmentGroup,s.index,o.commands):KC(s.segmentGroup,s.index,o.commands);return Ey(i,s.segmentGroup,a,t,r)}function th(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Mc(n){return typeof n=="object"&&n!=null&&n.outlets}function Ey(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=WC(n,e,t);let a=$C(HC(s));return new Fn(a,o,i)}function WC(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=WC(o,e,t)}),new ve(n.segments,r)}var nh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&th(r[0]))throw new H(4003,!1);let i=r.find(Mc);if(i&&i!==OC(r))throw new H(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function tF(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new nh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new nh(t,e,r)}var ys=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function nF(n,e,t){if(n.isAbsolute)return new ys(e,!0,0);if(!t)return new ys(e,!1,NaN);if(t.parent===null)return new ys(t,!0,0);let r=th(n.commands[0])?0:1,i=t.segments.length-1+r;return rF(t,i,n.numberOfDoubleDots)}function rF(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new H(4005,!1);i=r.segments.length}return new ys(r,!1,i-o)}function iF(n){return Mc(n[0])?n[0].outlets:{[Z]:n}}function KC(n,e,t){if(n??=new ve([],{}),n.segments.length===0&&n.hasChildren())return Rc(n,e,t);let r=oF(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ve(n.segments.slice(0,r.pathIndex),{});return o.children[Z]=new ve(n.segments.slice(r.pathIndex),n.children),Rc(o,0,i)}else return r.match&&i.length===0?new ve(n.segments,{}):r.match&&!n.hasChildren()?Sy(n,e,t):r.match?Rc(n,0,i):Sy(n,e,t)}function Rc(n,e,t){if(t.length===0)return new ve(n.segments,{});{let r=iF(t),i={};if(Object.keys(r).some(o=>o!==Z)&&n.children[Z]&&n.numberOfChildren===1&&n.children[Z].segments.length===0){let o=Rc(n.children[Z],e,t);return new ve(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=KC(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ve(n.segments,i)}}function oF(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Mc(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!RC(u,l,s))return o;r+=2}else{if(!RC(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Sy(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Mc(o)){let u=sF(o.outlets);return new ve(r,u)}if(i===0&&th(t[0])){let u=n.segments[e];r.push(new Zr(u.path,AC(t[0]))),i++;continue}let s=Mc(o)?o.outlets[Z]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&th(a)?(r.push(new Zr(s,AC(a))),i+=2):(r.push(new Zr(s,{})),i++)}return new ve(r,{})}function sF(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=Sy(new ve([],{}),0,r))}),e}function AC(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function RC(n,e,t){return n==t.path&&kn(e,t.parameters)}var vs="imperative",Xe=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(Xe||{}),zt=class{id;url;constructor(e,t){this.id=e,this.url=t}},ei=class extends zt{type=Xe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},nn=class extends zt{urlAfterRedirects;type=Xe.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Rt||{}),Es=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(Es||{}),On=class extends zt{reason;code;type=Xe.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ln=class extends zt{reason;code;type=Xe.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},Is=class extends zt{error;target;type=Xe.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Pc=class extends zt{urlAfterRedirects;state;type=Xe.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rh=class extends zt{urlAfterRedirects;state;type=Xe.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ih=class extends zt{urlAfterRedirects;state;shouldActivate;type=Xe.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},oh=class extends zt{urlAfterRedirects;state;type=Xe.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sh=class extends zt{urlAfterRedirects;state;type=Xe.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ah=class{route;type=Xe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ch=class{route;type=Xe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},uh=class{snapshot;type=Xe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lh=class{snapshot;type=Xe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dh=class{snapshot;type=Xe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hh=class{snapshot;type=Xe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ws=class{routerEvent;position;anchor;type=Xe.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},xc=class{},Ds=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function aF(n){return!(n instanceof xc)&&!(n instanceof Ds)}function cF(n,e){return n.providers&&!n._injector&&(n._injector=ps(n.providers,e,`Route: ${n.path}`)),n._injector??e}function _n(n){return n.outlet||Z}function uF(n,e){let t=n.filter(r=>_n(r)===e);return t.push(...n.filter(r=>_n(r)!==e)),t}function Cs(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var fh=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Cs(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Xi(this.rootInjector)}},Xi=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new fh(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(W(Ue))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ph=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Ay(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Ay(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Ry(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Ry(e,this._root).map(t=>t.value)}};function Ay(n,e){if(n===e.value)return e;for(let t of e.children){let r=Ay(n,t);if(r)return r}return null}function Ry(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Ry(n,t);if(r.length)return r.unshift(e),r}return[]}var qt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ms(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var kc=class extends ph{snapshot;constructor(e,t){super(e),this.snapshot=t,Ly(this,e)}toString(){return this.snapshot.toString()}};function QC(n){let e=lF(n),t=new at([new Zr("",{})]),r=new at({}),i=new at({}),o=new at({}),s=new at(""),a=new Vn(t,r,o,s,i,Z,n,e.root);return a.snapshot=e.root,new kc(new qt(a,[]),e)}function lF(n){let e={},t={},r={},o=new Yi([],e,r,"",t,Z,n,null,{});return new Oc("",new qt(o,[]))}var Vn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ae(l=>l[jc]))??G(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ae(e=>Zi(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ae(e=>Zi(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function gh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:k(k({},e.params),n.params),data:k(k({},e.data),n.data),resolve:k(k(k(k({},n.data),e.data),i?.data),n._resolvedData)}:r={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},i&&ZC(i)&&(r.resolve[jc]=i.title),r}var Yi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[jc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Zi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Zi(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Oc=class extends ph{url;constructor(e,t){super(t),this.url=e,Ly(this,t)}toString(){return YC(this._root)}};function Ly(n,e){e.value._routerState=n,e.children.forEach(t=>Ly(n,t))}function YC(n){let e=n.children.length>0?` { ${n.children.map(YC).join(", ")} } `:"";return`${n.value}${e}`}function Iy(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,kn(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),kn(e.params,t.params)||n.paramsSubject.next(t.params),L1(e.url,t.url)||n.urlSubject.next(t.url),kn(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ny(n,e){let t=kn(n.params,e.params)&&B1(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ny(n.parent,e.parent))}function ZC(n){return typeof n.title=="string"||n.title===null}var JC=new j(""),Uc=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=Z;activateEvents=new Je;deactivateEvents=new Je;attachEvents=new Je;detachEvents=new Je;routerOutletData=cC();parentContexts=N(Xi);location=N(fs);changeDetector=N(Wi);inputBinder=N(Bc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new H(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new H(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new H(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new H(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new My(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=kt({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Hr]})}return n})(),My=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===Vn?this.route:e===Xi?this.childContexts:e===JC?this.outletData:this.parent.get(e,t)}},Bc=new j(""),Vy=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Va([r.queryParams,r.params,r.data]).pipe(At(([o,s,a],u)=>(a=k(k(k({},o),s),a),u===0?G(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=lC(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})(),jy=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=mn({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&en(0,"router-outlet")},dependencies:[Uc],encapsulation:2})}return n})();function Uy(n){let e=n.children&&n.children.map(Uy),t=e?re(k({},n),{children:e}):k({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Z&&(t.component=jy),t}function dF(n,e,t){let r=Fc(n,e._root,t?t._root:void 0);return new kc(r,e)}function Fc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=hF(n,e,t);return new qt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Fc(n,a)),s}}let r=fF(e.value),i=e.children.map(o=>Fc(n,o));return new qt(r,i)}}function hF(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Fc(n,r,i);return Fc(n,r)})}function fF(n){return new Vn(new at(n.url),new at(n.params),new at(n.queryParams),new at(n.fragment),new at(n.data),n.outlet,n.component,n)}var bs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},XC="ngNavigationCancelingError";function mh(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Xr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=eS(!1,Rt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function eS(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[XC]=!0,t.cancellationCode=e,t}function pF(n){return tS(n)&&Xr(n.url)}function tS(n){return!!n&&n[XC]}var gF=(n,e,t,r)=>ae(i=>(new Py(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Py=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Iy(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ms(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ms(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(Iy(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Iy(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},yh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},_s=class{component;route;constructor(e,t){this.component=e,this.route=t}};function mF(n,e,t){let r=n._root,i=e?e._root:null;return Ac(r,i,t,[r.value])}function yF(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Ss(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!lg(n)?n:e.get(n):r}function Ac(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ms(e);return n.children.forEach(s=>{vF(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Nc(a,t.getContext(s),i)),i}function vF(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=_F(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new yh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Ac(n,e,a?a.children:null,r,i):Ac(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new _s(a.outlet.component,s))}else s&&Nc(e,a,i),i.canActivateChecks.push(new yh(r)),o.component?Ac(n,null,a?a.children:null,r,i):Ac(n,null,t,r,i);return i}function _F(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Qi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Qi(n.url,e.url)||!kn(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ny(n,e)||!kn(n.queryParams,e.queryParams);case"paramsChange":default:return!Ny(n,e)}}function Nc(n,e,t){let r=ms(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Nc(s,e.children.getContext(o),t):Nc(s,null,t):Nc(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new _s(e.outlet.component,i)):t.canDeactivateChecks.push(new _s(null,i)):t.canDeactivateChecks.push(new _s(null,i))}function $c(n){return typeof n=="function"}function EF(n){return typeof n=="boolean"}function IF(n){return n&&$c(n.canLoad)}function wF(n){return n&&$c(n.canActivate)}function DF(n){return n&&$c(n.canActivateChild)}function bF(n){return n&&$c(n.canDeactivate)}function TF(n){return n&&$c(n.canMatch)}function nS(n){return n instanceof Zn||n?.name==="EmptyError"}var Zd=Symbol("INITIAL_VALUE");function Ts(){return At(n=>Va(n.map(e=>e.pipe(Xn(1),Nl(Zd)))).pipe(ae(e=>{for(let t of e)if(t!==!0){if(t===Zd)return Zd;if(t===!1||CF(t))return t}return!0}),St(e=>e!==Zd),Xn(1)))}function CF(n){return Xr(n)||n instanceof bs}function SF(n,e){return je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?G(re(k({},t),{guardsResult:!0})):AF(s,r,i,n).pipe(je(a=>a&&EF(a)?RF(r,o,n,e):G(a)),ae(a=>re(k({},t),{guardsResult:a})))})}function AF(n,e,t,r){return Pe(n).pipe(je(i=>kF(i.component,i.route,t,e,r)),er(i=>i!==!0,!0))}function RF(n,e,t,r){return Pe(e).pipe(Mr(i=>Wo(MF(i.route.parent,r),NF(i.route,r),xF(n,i.path,t),PF(n,i.route,t))),er(i=>i!==!0,!0))}function NF(n,e){return n!==null&&e&&e(new dh(n)),G(!0)}function MF(n,e){return n!==null&&e&&e(new uh(n)),G(!0)}function PF(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return G(!0);let i=r.map(o=>ja(()=>{let s=Cs(e)??t,a=Ss(o,s),u=wF(a)?a.canActivate(e,n):Ge(s,()=>a(e,n));return lr(u).pipe(er())}));return G(i).pipe(Ts())}function xF(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>yF(s)).filter(s=>s!==null).map(s=>ja(()=>{let a=s.guards.map(u=>{let l=Cs(s.node)??t,h=Ss(u,l),p=DF(h)?h.canActivateChild(r,n):Ge(l,()=>h(r,n));return lr(p).pipe(er())});return G(a).pipe(Ts())}));return G(o).pipe(Ts())}function kF(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return G(!0);let s=o.map(a=>{let u=Cs(e)??i,l=Ss(a,u),h=bF(l)?l.canDeactivate(n,e,t,r):Ge(u,()=>l(n,e,t,r));return lr(h).pipe(er())});return G(s).pipe(Ts())}function OF(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return G(!0);let o=i.map(s=>{let a=Ss(s,n),u=IF(a)?a.canLoad(e,t):Ge(n,()=>a(e,t));return lr(u)});return G(o).pipe(Ts(),rS(r))}function rS(n){return ul(tt(e=>{if(typeof e!="boolean")throw mh(n,e)}),ae(e=>e===!0))}function FF(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return G(!0);let o=i.map(s=>{let a=Ss(s,n),u=TF(a)?a.canMatch(e,t):Ge(n,()=>a(e,t));return lr(u)});return G(o).pipe(Ts(),rS(r))}var Lc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Vc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function gs(n){return zo(new Lc(n))}function LF(n){return zo(new H(4e3,!1))}function VF(n){return zo(eS(!1,Rt.GuardRejected))}var xy=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return G(r);if(i.numberOfChildren>1||!i.children[Z])return LF(`${e.redirectTo}`);i=i.children[Z]}}applyRedirectCommands(e,t,r,i,o){return jF(t,i,o).pipe(ae(s=>{if(s instanceof Fn)throw new Vc(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Vc(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Fn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ve(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new H(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function jF(n,e,t){if(typeof n=="string")return G(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return lr(Ge(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var ky={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function UF(n,e,t,r,i){let o=iS(n,e,t);return o.matched?(r=cF(e,r),FF(r,e,t,i).pipe(ae(s=>s===!0?o:k({},ky)))):G(o)}function iS(n,e,t){if(e.path==="**")return BF(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?k({},ky):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||xC)(t,n,e);if(!i)return k({},ky);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?k(k({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function BF(n){return{matched:!0,parameters:n.length>0?OC(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function NC(n,e,t,r){return t.length>0&&qF(n,t,r)?{segmentGroup:new ve(e,HF(r,new ve(t,n.children))),slicedSegments:[]}:t.length===0&&zF(n,t,r)?{segmentGroup:new ve(n.segments,$F(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ve(n.segments,n.children),slicedSegments:t}}function $F(n,e,t,r){let i={};for(let o of t)if(_h(n,e,o)&&!r[_n(o)]){let s=new ve([],{});i[_n(o)]=s}return k(k({},r),i)}function HF(n,e){let t={};t[Z]=e;for(let r of n)if(r.path===""&&_n(r)!==Z){let i=new ve([],{});t[_n(r)]=i}return t}function qF(n,e,t){return t.some(r=>_h(n,e,r)&&_n(r)!==Z)}function zF(n,e,t){return t.some(r=>_h(n,e,r))}function _h(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function GF(n,e,t){return e.length===0&&!n.children[t]}var Oy=class{};function WF(n,e,t,r,i,o,s="emptyOnly"){return new Fy(n,e,t,r,i,s,o).recognize()}var KF=31,Fy=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new xy(this.urlSerializer,this.urlTree)}noMatchError(e){return new H(4002,`'${e.segmentGroup}'`)}recognize(){let e=NC(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ae(({children:t,rootSnapshot:r})=>{let i=new qt(r,t),o=new Oc("",i),s=qC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Yi([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Z,t).pipe(ae(r=>({children:r,rootSnapshot:t})),Jn(r=>{if(r instanceof Vc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Lc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(ae(s=>s instanceof qt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Pe(o).pipe(Mr(s=>{let a=r.children[s],u=uF(t,s);return this.processSegmentGroup(e,u,a,s,i)}),Rl((s,a)=>(s.push(...a),s)),Pr(null),Kp(),je(s=>{if(s===null)return gs(r);let a=oS(s);return QF(a),G(a)}))}processSegment(e,t,r,i,o,s,a){return Pe(t).pipe(Mr(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(Jn(l=>{if(l instanceof Lc)return G(null);throw l}))),er(u=>!!u),Jn(u=>{if(nS(u))return GF(r,i,o)?G(new Oy):gs(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return _n(r)!==s&&(s===Z||!_h(i,o,r))?gs(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):gs(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=iS(t,i,o);if(!u)return gs(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>KF&&(this.allowRedirects=!1));let y=new Yi(o,l,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,MC(i),_n(i),i.component??i._loadedComponent??null,i,PC(i)),S=gh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(S.params),y.data=Object.freeze(S.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(At(R=>this.applyRedirects.lineralizeSegments(i,R)),je(R=>this.processSegment(e,r,t,R.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=UF(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(At(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(At(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:y}=u,S=new Yi(m,p,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,MC(r),_n(r),r.component??r._loadedComponent??null,r,PC(r)),M=gh(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(M.params),S.data=Object.freeze(M.data);let{segmentGroup:R,slicedSegments:F}=NC(t,m,y,l);if(F.length===0&&R.hasChildren())return this.processChildren(h,l,R,S).pipe(ae(Q=>new qt(S,Q)));if(l.length===0&&F.length===0)return G(new qt(S,[]));let K=_n(r)===o;return this.processSegment(h,l,R,F,K?Z:o,!0,S).pipe(ae(Q=>new qt(S,Q instanceof qt?[Q]:[])))}))):gs(t)))}getChildConfig(e,t,r){return t.children?G({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?G({routes:t._loadedRoutes,injector:t._loadedInjector}):OF(e,t,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,t).pipe(tt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):VF(t))):G({routes:[],injector:e})}};function QF(n){n.sort((e,t)=>e.value.outlet===Z?-1:t.value.outlet===Z?1:e.value.outlet.localeCompare(t.value.outlet))}function YF(n){let e=n.value.routeConfig;return e&&e.path===""}function oS(n){let e=[],t=new Set;for(let r of n){if(!YF(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=oS(r.children);e.push(new qt(r.value,i))}return e.filter(r=>!t.has(r))}function MC(n){return n.data||{}}function PC(n){return n.resolve||{}}function ZF(n,e,t,r,i,o){return je(s=>WF(n,e,t,r,s.extractedUrl,i,o).pipe(ae(({state:a,tree:u})=>re(k({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function JF(n,e){return je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return G(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of sS(u))s.add(l);let a=0;return Pe(s).pipe(Mr(u=>o.has(u)?XF(u,r,n,e):(u.data=gh(u,u.parent,n).resolve,G(void 0))),tt(()=>a++),Ko(1),je(u=>a===s.size?G(t):Mt))})}function sS(n){let e=n.children.map(t=>sS(t)).flat();return[n,...e]}function XF(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!ZC(i)&&(o[jc]=i.title),ja(()=>(n.data=gh(n,n.parent,t).resolve,eL(o,n,e,r).pipe(ae(s=>(n._resolvedData=s,n.data=k(k({},n.data),s),null)))))}function eL(n,e,t,r){let i=by(n);if(i.length===0)return G({});let o={};return Pe(i).pipe(je(s=>tL(n[s],e,t,r).pipe(er(),tt(a=>{if(a instanceof bs)throw mh(new Jr,a);o[s]=a}))),Ko(1),ae(()=>o),Jn(s=>nS(s)?Mt:zo(s)))}function tL(n,e,t,r){let i=Cs(e)??r,o=Ss(n,i),s=o.resolve?o.resolve(e,t):Ge(i,()=>o(e,t));return lr(s)}function wy(n){return At(e=>{let t=n(e);return t?Pe(t).pipe(ae(()=>e)):G(e)})}var By=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Z);return r}getResolvedTitleForRoute(t){return t.data[jc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>N(aS),providedIn:"root"})}return n})(),aS=(()=>{class n extends By{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(W(TC))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ti=new j("",{providedIn:"root",factory:()=>({})}),eo=new j(""),Eh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=N(Ym);loadComponent(t,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return G(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=lr(Ge(t,()=>r.loadComponent())).pipe(ae(uS),At(lS),tt(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Ua(()=>{this.componentLoaders.delete(r)})),o=new Bo(i,()=>new He).pipe(Uo());return this.componentLoaders.set(r,o),o}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return G({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=cS(r,this.compiler,t,this.onLoadEndListener).pipe(Ua(()=>{this.childrenLoaders.delete(r)})),s=new Bo(o,()=>new He).pipe(Uo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cS(n,e,t,r){return lr(Ge(t,()=>n.loadChildren())).pipe(ae(uS),At(lS),je(i=>i instanceof kd||Array.isArray(i)?G(i):Pe(e.compileModuleAsync(i))),ae(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(eo,[],{optional:!0,self:!0}).flat()),{routes:s.map(Uy),injector:o}}))}function nL(n){return n&&typeof n=="object"&&"default"in n}function uS(n){return nL(n)?n.default:n}function lS(n){return G(n)}var Ih=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>N(rL),providedIn:"root"})}return n})(),rL=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$y=new j(""),Hy=new j("");function dS(n,e,t){let r=n.get(Hy),i=n.get(We);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),iL(n)));a.ready.catch(l=>{});let{onViewTransitionCreated:u}=r;return u&&Ge(n,()=>u({transition:a,from:e,to:t})),s}function iL(n){return new Promise(e=>{Rd({read:()=>setTimeout(e)},{injector:n})})}var qy=new j(""),wh=(()=>{class n{currentNavigation=pe(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new He;transitionAbortWithErrorSubject=new He;configLoader=N(Eh);environmentInjector=N(Ue);destroyRef=N(Rn);urlSerializer=N(Ji);rootContexts=N(Xi);location=N(Kr);inputBindingEnabled=N(Bc,{optional:!0})!==null;titleStrategy=N(By);options=N(ti,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=N(Ih);createViewTransition=N($y,{optional:!0});navigationErrorHandler=N(qy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>G(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new ah(i)),r=i=>this.events.next(new ch(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;_t(()=>{this.transitions?.next(re(k({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))})}setupNavigations(t){return this.transitions=new at(null),this.transitions.pipe(St(r=>r!==null),At(r=>{let i=!1;return G(r).pipe(At(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),Mt;this.currentTransition=r,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?re(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload")return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.rawUrl),"",Es.IgnoredSameUrlNavigation)),o.resolve(!1),Mt;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return G(o).pipe(At(u=>(this.events.next(new ei(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Mt:Promise.resolve(u))),ZF(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),tt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let l=new Pc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:m}=o,y=new ei(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let S=QC(this.rootComponentType).snapshot;return this.currentTransition=r=re(k({},o),{targetSnapshot:S,urlAfterRedirects:l,extras:re(k({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(M=>(M.finalUrl=l,M)),G(r)}else return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),"",Es.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Mt}),tt(o=>{let s=new rh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),ae(o=>(this.currentTransition=r=re(k({},o),{guards:mF(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),SF(this.environmentInjector,o=>this.events.next(o)),tt(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw mh(this.urlSerializer,o.guardsResult);let s=new ih(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),St(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rt.GuardRejected),!1)),wy(o=>{if(o.guards.canActivateChecks.length!==0)return G(o).pipe(tt(s=>{let a=new oh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),At(s=>{let a=!1;return G(s).pipe(JF(this.paramsInheritanceStrategy,this.environmentInjector),tt({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Rt.NoDataFromResolver)}}))}),tt(s=>{let a=new sh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),wy(o=>{let s=a=>{let u=[];if(a.routeConfig?.loadComponent){let l=Cs(a)??this.environmentInjector;u.push(this.configLoader.loadComponent(l,a.routeConfig).pipe(tt(h=>{a.component=h}),ae(()=>{})))}for(let l of a.children)u.push(...s(l));return u};return Va(s(o.targetSnapshot.root)).pipe(Pr(null),Xn(1))}),wy(()=>this.afterPreactivation()),At(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Pe(a).pipe(ae(()=>r)):G(r)}),ae(o=>{let s=dF(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=re(k({},o),{targetRouterState:s}),this.currentNavigation.update(a=>(a.targetRouterState=s,a)),r}),tt(()=>{this.events.next(new xc)}),gF(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Xn(1),Ml(new ne(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(St(()=>!i&&!r.targetRouterState),tt(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Rt.Aborted)}))),tt({next:o=>{i=!0,this.lastSuccessfulNavigation=_t(this.currentNavigation),this.events.next(new nn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Ml(this.transitionAbortWithErrorSubject.pipe(tt(o=>{throw o}))),Ua(()=>{i||this.cancelNavigationTransition(r,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Jn(o=>{if(this.destroyed)return r.resolve(!1),Mt;if(i=!0,tS(o))this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),pF(o)?this.events.next(new Ds(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new Is(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ge(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof bs){let{message:u,cancellationCode:l}=mh(this.urlSerializer,a);this.events.next(new On(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new Ds(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Mt}))}))}cancelNavigationTransition(t,r,i){let o=new On(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=_t(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return t.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oL(n){return n!==vs}var hS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>N(sL),providedIn:"root"})}return n})(),vh=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},sL=(()=>{class n extends vh{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$i(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fS=(()=>{class n{urlSerializer=N(Ji);options=N(ti,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=N(Kr);urlHandlingStrategy=N(Ih);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Fn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Fn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=QC(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:()=>N(aL),providedIn:"root"})}return n})(),aL=(()=>{class n extends fS{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof ei?this.updateStateMemento():t instanceof Ln?this.commitTransition(r):t instanceof Pc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof xc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof On&&t.code!==Rt.SupersededByNewNavigation&&t.code!==Rt.Redirect?this.restoreHistory(r):t instanceof Is?this.restoreHistory(r,!0):t instanceof nn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=k(k({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=k(k({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$i(n)))(i||n)}})();static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Dh(n,e){n.events.pipe(St(t=>t instanceof nn||t instanceof On||t instanceof Is||t instanceof Ln),ae(t=>t instanceof nn||t instanceof Ln?0:(t instanceof On?t.code===Rt.Redirect||t.code===Rt.SupersededByNewNavigation:!1)?2:1),St(t=>t!==2),Xn(1)).subscribe(()=>{e()})}var cL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},uL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=N(Gm);stateManager=N(fS);options=N(ti,{optional:!0})||{};pendingTasks=N(Nn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=N(wh);urlSerializer=N(Ji);location=N(Kr);urlHandlingStrategy=N(Ih);injector=N(Ue);_events=new He;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=N(hS);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=N(eo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!N(Bc,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Fe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=_t(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof On&&r.code!==Rt.Redirect&&r.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof nn)this.navigated=!0;else if(r instanceof Ds){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=k({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||oL(i.source)},s);this.scheduleNavigation(a,vs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}aF(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),vs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=k({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.disposed||this.injector.get($t)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return _t(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Uy),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=k(k({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let m=i?i.snapshot:this.routerState.snapshot.root;p=zC(m)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return GC(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Xr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,vs,null,r)}navigate(t,r={skipLocationChange:!1}){return lL(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.console.warn(Ri(4018,!1)),this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=k({},cL):r===!1?i=k({},uL):i=r,Xr(t))return CC(this.currentUrlTree,t,i);let o=this.parseUrl(t);return CC(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,m)=>{a=p,u=m});let h=this.pendingTasks.add();return Dh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function lL(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new H(4008,!1)}var bh=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=pe(null);get href(){return _t(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new He;applicationErrorHandler=N($t);options=N(ti,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(N(new Vd("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof nn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Xr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Xr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(me(jn),me(Vn),dc("tabindex"),me(qr),me(ur),me(vn))};static \u0275dir=kt({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&se("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&gc("href",i.reactiveHref(),Sm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ki],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ki],replaceUrl:[2,"replaceUrl","replaceUrl",Ki],routerLink:"routerLink"},features:[Hr]})}return n})();var Hc=class{};var pS=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(St(t=>t instanceof nn),Mr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ps(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Pe(i).pipe(Go())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=G(null);let o=i.pipe(je(s=>s===null?G(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(t,r);return Pe([o,s]).pipe(Go())}else return o})}static \u0275fac=function(r){return new(r||n)(W(jn),W(Ue),W(Hc),W(Eh))};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),gS=new j(""),dL=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=vs;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ei?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof nn?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Ln&&t.code===Es.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ws))return;let r={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],r):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,r):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>C(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ws(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){qm()};static \u0275prov=$({token:n,factory:n.\u0275fac})}return n})();function Gy(n,...e){return or([{provide:eo,multi:!0,useValue:n},[],{provide:Vn,useFactory:mS,deps:[jn]},{provide:pc,multi:!0,useFactory:yS},e.map(t=>t.\u0275providers)])}function mS(n){return n.routerState.root}function qc(n,e){return{\u0275kind:n,\u0275providers:e}}function yS(){let n=N(ze);return e=>{let t=n.get(Wr);if(e!==t.components[0])return;let r=n.get(jn),i=n.get(vS);n.get(Wy)===1&&r.initialNavigation(),n.get(IS,null,{optional:!0})?.setUpPreloading(),n.get(gS,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var vS=new j("",{factory:()=>new He}),Wy=new j("",{providedIn:"root",factory:()=>1});function _S(){let n=[{provide:bm,useValue:!0},{provide:Wy,useValue:0},Od(()=>{let e=N(ze);return e.get(sy,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(jn),o=e.get(vS);Dh(i,()=>{r(!0)}),e.get(wh).afterPreactivation=()=>(r(!0),o.closed?G(void 0):o),i.initialNavigation()}))})];return qc(2,n)}function ES(){let n=[Od(()=>{N(jn).setUpLocationChangeListener()}),{provide:Wy,useValue:2}];return qc(3,n)}var IS=new j("");function wS(n){return qc(0,[{provide:IS,useExisting:pS},{provide:Hc,useExisting:n}])}function DS(){return qc(8,[Vy,{provide:Bc,useExisting:Vy}])}function bS(n){hs("NgRouterViewTransitions");let e=[{provide:$y,useValue:dS},{provide:Hy,useValue:k({skipNextTransition:!!n?.skipInitialTransition},n)}];return qc(9,e)}var TS=[Kr,{provide:Ji,useClass:Jr},jn,Xi,{provide:Vn,useFactory:mS,deps:[jn]},Eh,[]],Ky=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[TS,[],{provide:eo,multi:!0,useValue:t},[],r?.errorHandler?{provide:qy,useValue:r.errorHandler}:[],{provide:ti,useValue:r||{}},r?.useHash?fL():pL(),hL(),r?.preloadingStrategy?wS(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?gL(r):[],r?.bindToComponentInputs?DS().\u0275providers:[],r?.enableViewTransitions?bS().\u0275providers:[],mL()]}}static forChild(t){return{ngModule:n,providers:[{provide:eo,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=dn({})}return n})();function hL(){return{provide:gS,useFactory:()=>{let n=N(yC),e=N(Se),t=N(ti),r=N(wh),i=N(Ji);return t.scrollOffset&&n.setOffset(t.scrollOffset),new dL(i,r,n,e,t)}}}function fL(){return{provide:vn,useClass:ay}}function pL(){return{provide:vn,useClass:Hd}}function gL(n){return[n.initialNavigation==="disabled"?ES().\u0275providers:[],n.initialNavigation==="enabledBlocking"?_S().\u0275providers:[]]}var zy=new j("");function mL(){return[{provide:zy,useFactory:yS},{provide:pc,multi:!0,useExisting:zy}]}var Th=class n{title=pe("clinicv2");static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mn({type:n,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"navbar"],["routerLink","/daily-service-record"],["routerLink","/rabies-case"],["routerLink","/water-analysis"],[1,"container"]],template:function(t,r){t&1&&(U(0,"nav",0)(1,"a",1),Le(2,"Daily Service Records"),V(),U(3,"a",2),Le(4,"Rabies Case"),V(),U(5,"a",3),Le(6,"Water Analysis"),V()(),U(7,"div",4),en(8,"router-outlet"),V())},dependencies:[Uc,Ky,bh],styles:[".navbar[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:25px;padding:15px 0;background:#1f1b24;border-bottom:2px solid #bb86fc;box-shadow:0 2px 8px #0009}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#e0e0e0;font-weight:600;padding:8px 16px;border-radius:6px;transition:.3s}.navbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background:#bb86fc;color:#121212;transform:translateY(-2px)}"]})};var CS=()=>{};var RS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},vL=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Ch={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(m=64)),r.push(t[h],t[p],t[m],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(RS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):vL(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Yy;let m=o<<2|a>>4;if(r.push(m),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Yy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},_L=function(n){let e=RS(n);return Ch.encodeByteArray(e,!0)},Gc=function(n){return _L(n).replace(/\./g,"")},Sh=function(n){try{return Ch.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Jy(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var EL=()=>Jy().__FIREBASE_DEFAULTS__,IL=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wL=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Sh(n[1]);return e&&JSON.parse(e)},Ah=()=>{try{return CS()||EL()||IL()||wL()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},NS=n=>{var e,t;return(t=(e=Ah())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},MS=n=>{let e=NS(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Xy=()=>{var n;return(n=Ah())===null||n===void 0?void 0:n.config},PS=n=>{var e;return(e=Ah())===null||e===void 0?void 0:e[`_${n}`]};var to=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function no(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}function ev(n){return C(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function xS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Gc(JSON.stringify(t)),Gc(JSON.stringify(s)),""].join(".")}var zc={};function DL(){let n={prod:[],emulator:[]};for(let e of Object.keys(zc))zc[e]?n.emulator.push(e):n.prod.push(e);return n}function bL(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var SS=!1;function tv(n,e){if(typeof window>"u"||typeof document>"u"||!no(window.location.host)||zc[n]===e||zc[n]||SS)return;zc[n]=e;function t(m){return`__firebase__banner__${m}`}let r="__firebase__banner",o=DL().prod.length>0;function s(){let m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,y){m.setAttribute("width","24"),m.setAttribute("id",y),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function l(){let m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{SS=!0,s()},m}function h(m,y){m.setAttribute("id",y),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){let m=bL(r),y=t("text"),S=document.getElementById(y)||document.createElement("span"),M=t("learnmore"),R=document.getElementById(M)||document.createElement("a"),F=t("preprendIcon"),K=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){let Q=m.element;a(Q),h(R,M);let Ae=l();u(K,F),Q.append(K,S,R,Ae),document.body.appendChild(Q)}o?(S.innerText="Preview backend disconnected.",K.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(K.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Gt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Gt())}function TL(){var n;let e=(n=Ah())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function LS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function VS(){return!TL()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Wc(){try{return typeof indexedDB=="object"}catch{return!1}}function jS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var CL="FirebaseError",rn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=CL,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,En.prototype.create)}},En=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?SL(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new rn(i,a,r)}};function SL(n,e){return n.replace(AL,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var AL=/\{\$([^}]+)}/g;function ro(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(AS(o)&&AS(s)){if(!ro(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function AS(n){return n!==null&&typeof n=="object"}function nv(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function US(n,e){let t=new Zy(n,e);return t.subscribe.bind(t)}var Zy=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");RL(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Qy),i.error===void 0&&(i.error=Qy),i.complete===void 0&&(i.complete=Qy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function RL(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Qy(){}var SX=14400*1e3;function Et(n){return n&&n._delegate?n._delegate:n}var Nt=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var io="[DEFAULT]";var rv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new to;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ML(e))try{this.getOrInitializeService({instanceIdentifier:io})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=io){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=io){return this.instances.has(e)}getOptions(e=io){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:NL(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=io){return this.component?this.component.multipleInstances?e:io:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function NL(n){return n===io?void 0:n}function ML(n){return n.instantiationMode==="EAGER"}var Rh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new rv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var PL=[],ue=(function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n})(ue||{}),xL={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},kL=ue.INFO,OL={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},FL=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=OL[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Un=class{constructor(e){this.name=e,this._logLevel=kL,this._logHandler=FL,this._userLogHandler=null,PL.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?xL[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var LL=(n,e)=>e.some(t=>n instanceof t),BS,$S;function VL(){return BS||(BS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jL(){return $S||($S=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var HS=new WeakMap,ov=new WeakMap,qS=new WeakMap,iv=new WeakMap,av=new WeakMap;function UL(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Bn(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&HS.set(t,n)}).catch(()=>{}),av.set(e,n),e}function BL(n){if(ov.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ov.set(n,e)}var sv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ov.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bn(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function zS(n){sv=n(sv)}function $L(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Nh(this),e,...t);return qS.set(r,e.sort?e.sort():[e]),Bn(r)}:jL().includes(n)?function(...e){return n.apply(Nh(this),e),Bn(HS.get(this))}:function(...e){return Bn(n.apply(Nh(this),e))}}function HL(n){return typeof n=="function"?$L(n):(n instanceof IDBTransaction&&BL(n),LL(n,VL())?new Proxy(n,sv):n)}function Bn(n){if(n instanceof IDBRequest)return UL(n);if(iv.has(n))return iv.get(n);let e=HL(n);return e!==n&&(iv.set(n,e),av.set(e,n)),e}var Nh=n=>av.get(n);function WS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=Bn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Bn(s.result),u.oldVersion,u.newVersion,Bn(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var qL=["get","getKey","getAll","getAllKeys","count"],zL=["put","add","delete","clear"],cv=new Map;function GS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(cv.get(e))return cv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=zL.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qL.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return cv.set(e,o),o}zS(n=>re(k({},n),{get:(e,t,r)=>GS(e,t)||n.get(e,t,r),has:(e,t)=>!!GS(e,t)||n.has(e,t)}));var lv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(GL(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function GL(n){let e=n.getComponent();return e?.type==="VERSION"}var dv="@firebase/app",KS="0.13.2";var dr=new Un("@firebase/app"),WL="@firebase/app-compat",KL="@firebase/analytics-compat",QL="@firebase/analytics",YL="@firebase/app-check-compat",ZL="@firebase/app-check",JL="@firebase/auth",XL="@firebase/auth-compat",eV="@firebase/database",tV="@firebase/data-connect",nV="@firebase/database-compat",rV="@firebase/functions",iV="@firebase/functions-compat",oV="@firebase/installations",sV="@firebase/installations-compat",aV="@firebase/messaging",cV="@firebase/messaging-compat",uV="@firebase/performance",lV="@firebase/performance-compat",dV="@firebase/remote-config",hV="@firebase/remote-config-compat",fV="@firebase/storage",pV="@firebase/storage-compat",gV="@firebase/firestore",mV="@firebase/ai",yV="@firebase/firestore-compat",vV="firebase",_V="11.10.0";var hv="[DEFAULT]",EV={[dv]:"fire-core",[WL]:"fire-core-compat",[QL]:"fire-analytics",[KL]:"fire-analytics-compat",[ZL]:"fire-app-check",[YL]:"fire-app-check-compat",[JL]:"fire-auth",[XL]:"fire-auth-compat",[eV]:"fire-rtdb",[tV]:"fire-data-connect",[nV]:"fire-rtdb-compat",[rV]:"fire-fn",[iV]:"fire-fn-compat",[oV]:"fire-iid",[sV]:"fire-iid-compat",[aV]:"fire-fcm",[cV]:"fire-fcm-compat",[uV]:"fire-perf",[lV]:"fire-perf-compat",[dV]:"fire-rc",[hV]:"fire-rc-compat",[fV]:"fire-gcs",[pV]:"fire-gcs-compat",[gV]:"fire-fst",[yV]:"fire-fst-compat",[mV]:"fire-vertex","fire-js":"fire-js",[vV]:"fire-js-all"};var Kc=new Map,IV=new Map,fv=new Map;function QS(n,e){try{n.container.addComponent(e)}catch(t){dr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function In(n){let e=n.name;if(fv.has(e))return dr.debug(`There were multiple attempts to register component ${e}.`),!1;fv.set(e,n);for(let t of Kc.values())QS(t,n);for(let t of IV.values())QS(t,n);return!0}function Mh(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function hr(n){return n==null?!1:n.settings!==void 0}var wV={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ni=new En("app","Firebase",wV);var pv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Nt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ni.create("app-deleted",{appName:this._name})}};var As=_V;function yv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:hv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw ni.create("bad-app-name",{appName:String(i)});if(t||(t=Xy()),!t)throw ni.create("no-options");let o=Kc.get(i);if(o){if(ro(t,o.options)&&ro(r,o.config))return o;throw ni.create("duplicate-app",{appName:i})}let s=new Rh(i);for(let u of fv.values())s.addComponent(u);let a=new pv(t,r,s);return Kc.set(i,a),a}function Rs(n=hv){let e=Kc.get(n);if(!e&&n===hv&&Xy())return yv();if(!e)throw ni.create("no-app",{appName:n});return e}function Ph(){return Array.from(Kc.values())}function $e(n,e,t){var r;let i=(r=EV[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dr.warn(a.join(" "));return}In(new Nt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DV="firebase-heartbeat-database",bV=1,Qc="firebase-heartbeat-store",uv=null;function XS(){return uv||(uv=WS(DV,bV,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Qc)}catch(t){console.warn(t)}}}}).catch(n=>{throw ni.create("idb-open",{originalErrorMessage:n.message})})),uv}function TV(n){return C(this,null,function*(){try{let t=(yield XS()).transaction(Qc),r=yield t.objectStore(Qc).get(e0(n));return yield t.done,r}catch(e){if(e instanceof rn)dr.warn(e.message);else{let t=ni.create("idb-get",{originalErrorMessage:e?.message});dr.warn(t.message)}}})}function YS(n,e){return C(this,null,function*(){try{let r=(yield XS()).transaction(Qc,"readwrite");yield r.objectStore(Qc).put(e,e0(n)),yield r.done}catch(t){if(t instanceof rn)dr.warn(t.message);else{let r=ni.create("idb-set",{originalErrorMessage:t?.message});dr.warn(r.message)}}})}function e0(n){return`${n.name}!${n.options.appId}`}var CV=1024,SV=30,gv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new mv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ZS();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>SV){let s=RV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=ZS(),{heartbeatsToSend:r,unsentEntries:i}=AV(this._heartbeatsCache.heartbeats),o=Gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return dr.warn(t),""}})}};function ZS(){return new Date().toISOString().substring(0,10)}function AV(n,e=CV){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),JS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),JS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var mv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Wc()?jS().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield TV(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return YS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return YS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function JS(n){return Gc(JSON.stringify({version:2,heartbeats:n})).length}function RV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function NV(n){In(new Nt("platform-logger",e=>new lv(e),"PRIVATE")),In(new Nt("heartbeat",e=>new gv(e),"PRIVATE")),$e(dv,KS,n),$e(dv,KS,"esm2017"),$e("fire-js","")}NV("");var MV="firebase",PV="11.10.0";$e(MV,PV,"app");function t0(n){n===void 0&&(n=N(ze));let e=n.get(rs);return t=>new ne(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var so=new xr("ANGULARFIRE2_VERSION");function kh(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Ms=(n,e)=>{let t=e?[e]:Ph(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ns=(function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n})(Ns||{}),n0=ry()&&typeof Zone<"u"?Ns.WARN:Ns.SILENT;var xh=class{zone;delegate;constructor(e,t=qp){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},ao=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=N(Se);this.outsideAngular=t.runOutsideAngular(()=>new xh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new xh(typeof Zone>"u"?void 0:Zone.current,Hp))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=$({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),r0=!1;function xV(n,e){!r0&&(n0>Ns.SILENT||ry())&&(r0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),n0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function kV(n){let e=N(Se,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function oo(n){let e=N(Se,{optional:!0});return e?e.run(()=>n()):n()}var OV=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ge(t,()=>oo(()=>n.apply(void 0,r)))),on=(n,e,t)=>(t||=e?Ns.WARN:Ns.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=N(ao),s=N(rs),a=N(Ue)}catch{return xV(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=oo(()=>s.add())),i[l]=OV(i[l],r,a));let u=kV(()=>n.apply(this,i));return e?u instanceof ne?u.pipe(Nr(o.outsideAngular),Rr(o.insideAngular),t0(a)):u instanceof Promise?oo(()=>{let l=s.add();return new Promise((h,p)=>{u.then(m=>Ge(a,()=>oo(()=>h(m))),m=>Ge(a,()=>oo(()=>p(m)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:oo(()=>u):u instanceof ne?u.pipe(Nr(o.outsideAngular),Rr(o.insideAngular)):oo(()=>u)});var co=class{constructor(e){return e}},Yc=class{constructor(){return Ph()}};function FV(n){return n&&n.length===1?n[0]:new co(Rs())}var vv=new j("angularfire2._apps"),LV={provide:co,useFactory:FV,deps:[[new cr,vv]]},VV={provide:Yc,deps:[[new cr,vv]]};function jV(n){return(e,t)=>{let r=t.get(Hi);$e("angularfire",so.full,"core"),$e("angularfire",so.full,"app"),$e("angular",ag.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new co(i)}}function i0(n,...e){return or([LV,VV,{provide:vv,useFactory:jV(n),multi:!0,deps:[Se,ze,ao,...e]}])}var o0=on(yv,!0);var UV=new Map,BV={activated:!1,tokenObservers:[]},$V={initialized:!1,enabled:!1};function wn(n){return UV.get(n)||Object.assign({},BV)}function u0(){return $V}var HV="https://content-firebaseappcheck.googleapis.com/v1";var qV="exchangeDebugToken",s0={OFFSET_DURATION:300*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:960*1e3},Nee=1440*60*1e3;var Iv=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return C(this,null,function*(){this.stop();try{this.pending=new to,this.pending.promise.catch(t=>{}),yield zV(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new to,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function zV(n){return new Promise(e=>{setTimeout(e,n)})}var GV={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ri=new En("appCheck","AppCheck",GV);function l0(n){if(!wn(n).activated)throw ri.create("use-before-activation",{appName:n.name})}function d0(r,i){return C(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw ri.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ri.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ri.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,m=Date.now();return{token:l.token,expireTimeMillis:m+p,issuedAtTimeMillis:m}})}function h0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${HV}/projects/${t}/apps/${r}:${qV}?key=${i}`,body:{debug_token:e}}}var WV="firebase-app-check-database",KV=1,wv="firebase-app-check-store";var Oh=null;function QV(){return Oh||(Oh=new Promise((n,e)=>{try{let t=indexedDB.open(WV,KV);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ri.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(wv,{keyPath:"compositeKey"})}}}catch(t){e(ri.create("storage-open",{originalErrorMessage:t?.message}))}}),Oh)}function YV(n,e){return ZV(JV(n),e)}function ZV(n,e){return C(this,null,function*(){let r=(yield QV()).transaction(wv,"readwrite"),o=r.objectStore(wv).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ri.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function JV(n){return`${n.options.appId}-${n.name}`}var Zc=new Un("@firebase/app-check");function _v(n,e){return Wc()?YV(n,e).catch(t=>{Zc.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function f0(){return u0().enabled}function p0(){return C(this,null,function*(){let n=u0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var XV={error:"UNKNOWN_ERROR"};function e2(n){return Ch.encodeString(JSON.stringify(n),!1)}function Dv(n,e=!1,t=!1){return C(this,null,function*(){let r=n.app;l0(r);let i=wn(r),o=i.token,s;if(o&&!Jc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Jc(l)?o=l:yield _v(r,void 0))}if(!e&&o&&Jc(o))return{token:o.token};let a=!1;if(f0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=d0(h0(r,yield p0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield _v(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Zc.warn(l.message):t&&Zc.error(l),Ev(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield wn(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?Zc.warn(l.message):t&&Zc.error(l),s=l}let u;return o?s?Jc(o)?u={token:o.token,internalError:s}:u=Ev(s):(u={token:o.token},i.token=o,yield _v(r,o)):u=Ev(s),a&&i2(r,u),u})}function t2(n){return C(this,null,function*(){let e=n.app;l0(e);let{provider:t}=wn(e);if(f0()){let r=yield p0(),{token:i}=yield d0(h0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function n2(n,e,t,r){let{app:i}=n,o=wn(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Jc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),a0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>a0(n))}function g0(n,e){let t=wn(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function a0(n){let{app:e}=n,t=wn(e),r=t.tokenRefresher;r||(r=r2(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function r2(n){let{app:e}=n;return new Iv(()=>C(null,null,function*(){let t=wn(e),r;if(t.token?r=yield Dv(n,!0):r=yield Dv(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=wn(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-300*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},s0.RETRIAL_MIN_WAIT,s0.RETRIAL_MAX_WAIT)}function i2(n,e){let t=wn(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Jc(n){return n.expireTimeMillis-Date.now()>0}function Ev(n){return{token:e2(XV),error:n}}var bv=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=wn(this.app);for(let t of e)g0(this.app,t.next);return Promise.resolve()}};function o2(n,e){return new bv(n,e)}function s2(n){return{getToken:e=>Dv(n,e),getLimitedUseToken:()=>t2(n),addTokenListener:e=>n2(n,"INTERNAL",e),removeTokenListener:e=>g0(n.app,e)}}var a2="@firebase/app-check",c2="0.10.1";var u2="app-check",c0="app-check-internal";function l2(){In(new Nt(u2,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return o2(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(c0).initialize()})),In(new Nt(c0,n=>{let e=n.getProvider("app-check").getImmediate();return s2(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),$e(a2,c2)}l2();var d2="app-check";var Fh=class{constructor(){return Ms(d2)}};var h2=["localhost","0.0.0.0","127.0.0.1"],Hee=typeof window<"u"&&h2.includes(window.location.hostname);function D0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var b0=D0,T0=new En("auth","Firebase",D0());var Uh=new Un("@firebase/auth");function p2(n,...e){Uh.logLevel<=ue.WARN&&Uh.warn(`Auth (${As}): ${n}`,...e)}function Vh(n,...e){Uh.logLevel<=ue.ERROR&&Uh.error(`Auth (${As}): ${n}`,...e)}function m0(n,...e){throw Fv(n,...e)}function Ov(n,...e){return Fv(n,...e)}function C0(n,e,t){let r=Object.assign(Object.assign({},b0()),{[e]:t});return new En("auth","Firebase",r).create(e,{appName:n.name})}function jh(n){return C0(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fv(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return T0.create(n,...e)}function _e(n,e,...t){if(!n)throw Fv(e,...t)}function Xc(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Vh(e),new Error(e)}function Bh(n,e){n||Xc(e)}function g2(){return y0()==="http:"||y0()==="https:"}function y0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function m2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(g2()||FS()||"connection"in navigator)?navigator.onLine:!0}function y2(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var ho=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Bh(t>e,"Short delay should be less than long delay!"),this.isMobile=kS()||LS()}get(){return m2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function v2(n,e){Bh(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var $h=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var E2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],I2=new ho(3e4,6e4);function S0(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Wh(o,s,a,u){return C(this,arguments,function*(n,e,t,r,i={}){return A0(n,i,()=>C(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=nv(Object.assign({key:n.config.apiKey},h)).slice(1),m=yield n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:m},l);return OS()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&no(n.emulatorConfig.host)&&(y.credentials="include"),$h.fetch()(yield R0(n,n.config.apiHost,t,p),y)}))})}function A0(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},_2),e);try{let i=new Sv(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Lh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Lh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Lh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw C0(n,h,l);m0(n,h)}}catch(i){if(i instanceof rn)throw i;m0(n,"network-request-failed",{message:String(i)})}})}function R0(n,e,t,r){return C(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?v2(n.config,i):`${n.config.apiScheme}://${i}`;return E2.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}var Sv=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ov(this.auth,"network-request-failed")),I2.get())})}};function Lh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Ov(n,e,r);return i.customData._tokenResponse=t,i}function w2(n,e){return C(this,null,function*(){return Wh(n,"POST","/v1/accounts:delete",e)})}function Hh(n,e){return C(this,null,function*(){return Wh(n,"POST","/v1/accounts:lookup",e)})}function eu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Lv(n,e=!1){return C(this,null,function*(){let t=Et(n),r=yield t.getIdToken(e),i=N0(r);_e(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:eu(Tv(i.auth_time)),issuedAtTime:eu(Tv(i.iat)),expirationTime:eu(Tv(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Tv(n){return Number(n)*1e3}function N0(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Sh(t);return i?JSON.parse(i):(Vh("Failed to decode base64 JWT payload"),null)}catch(i){return Vh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function v0(n){let e=N0(n);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Av(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof rn&&D2(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function D2({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Rv=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var nu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function qh(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Av(n,Hh(t,{idToken:r}));_e(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?M0(o.providerUserInfo):[],a=b2(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new nu(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function Vv(n){return C(this,null,function*(){let e=Et(n);yield qh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function b2(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function M0(n){return n.map(e=>{var{providerId:t}=e,r=zp(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function T2(n,e){return C(this,null,function*(){let t=yield A0(n,{},()=>C(null,null,function*(){let r=nv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield R0(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&no(n.emulatorConfig.host)&&(u.credentials="include"),$h.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function C2(n,e){return C(this,null,function*(){return Wh(n,"POST","/v2/accounts:revokeToken",S0(n,e))})}var tu=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):v0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){_e(e.length!==0,"internal-error");let t=v0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield T2(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(_e(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(_e(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(_e(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Xc("not implemented")}};function ii(n,e){_e(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var uo=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=zp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Rv(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new nu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Av(this,this.stsTokenManager.getToken(this.auth,e));return _e(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Lv(this,e)}reload(){return Vv(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield qh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(hr(this.auth.app))return Promise.reject(jh(this.auth));let e=yield this.getIdToken();return yield Av(this,w2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,m=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=t.photoURL)!==null&&s!==void 0?s:void 0,M=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,F=(l=t.createdAt)!==null&&l!==void 0?l:void 0,K=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:Q,emailVerified:Ae,isAnonymous:bt,providerData:De,stsTokenManager:w}=t;_e(Q&&w,e,"internal-error");let v=tu.fromJSON(this.name,w);_e(typeof Q=="string",e,"internal-error"),ii(p,e.name),ii(m,e.name),_e(typeof Ae=="boolean",e,"internal-error"),_e(typeof bt=="boolean",e,"internal-error"),ii(y,e.name),ii(S,e.name),ii(M,e.name),ii(R,e.name),ii(F,e.name),ii(K,e.name);let E=new n({uid:Q,auth:e,email:m,emailVerified:Ae,displayName:p,isAnonymous:bt,photoURL:S,phoneNumber:y,tenantId:M,stsTokenManager:v,createdAt:F,lastLoginAt:K});return De&&Array.isArray(De)&&(E.providerData=De.map(I=>Object.assign({},I))),R&&(E._redirectEventId=R),E}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new tu;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield qh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];_e(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?M0(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new tu;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new nu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var _0=new Map;function lo(n){Bh(n instanceof Function,"Expected a class definition");let e=_0.get(n);return e?(Bh(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_0.set(n,e),e)}var S2=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Nv=S2;function Cv(n,e,t){return`firebase:${n}:${e}:${t}`}var zh=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Cv(this.userKey,i.apiKey,o),this.fullPersistenceKey=Cv("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Hh(this.auth,{idToken:e}).catch(()=>{});return t?uo._fromGetAccountInfoResponse(this.auth,t,e):null}return uo._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(lo(Nv),e,r);let i=(yield Promise.all(t.map(l=>C(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||lo(Nv),s=Cv(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let m=yield Hh(e,{idToken:h}).catch(()=>{});if(!m)break;p=yield uo._fromGetAccountInfoResponse(e,m,h)}else p=uo._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>C(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function E0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(M2(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(A2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(x2(e))return"Blackberry";if(k2(e))return"Webos";if(R2(e))return"Safari";if((e.includes("chrome/")||N2(e))&&!e.includes("edge/"))return"Chrome";if(P2(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function A2(n=Gt()){return/firefox\//i.test(n)}function R2(n=Gt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function N2(n=Gt()){return/crios\//i.test(n)}function M2(n=Gt()){return/iemobile/i.test(n)}function P2(n=Gt()){return/android/i.test(n)}function x2(n=Gt()){return/blackberry/i.test(n)}function k2(n=Gt()){return/webos/i.test(n)}function P0(n,e=[]){let t;switch(n){case"Browser":t=E0(Gt());break;case"Worker":t=`${E0(Gt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${As}/${r}`}var Mv=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function O2(t){return C(this,arguments,function*(n,e={}){return Wh(n,"GET","/v2/passwordPolicy",S0(n,e))})}var F2=6,Pv=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:F2,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var xv=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gh(this),this.idTokenSubscription=new Gh(this),this.beforeStateQueue=new Mv(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lo(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield zh.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield Hh(this,{idToken:e}),r=yield uo._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(hr(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield qh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=y2()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(hr(this.app))return Promise.reject(jh(this));let t=e?Et(e):null;return t&&_e(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return hr(this.app)?Promise.reject(jh(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return hr(this.app)?Promise.reject(jh(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(lo(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield O2(this),t=new Pv(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new En("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield C2(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&lo(e)||this._popupRedirectResolver;_e(t,this,"argument-error"),this.redirectPersistenceManager=yield zh.create(this,[lo(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=P0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;if(hr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&p2(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function L2(n){return Et(n)}var Gh=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=US(t=>this.observer=t)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var V2={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j2(n){V2=n}function U2(n){return`__${n}${Math.floor(Math.random()*1e6)}`}function B2(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(lo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}var tte=U2("rcb"),nte=new ho(3e4,6e4);var rte=new ho(2e3,1e4);var ite=600*1e3;var ote=new ho(3e4,6e4);var ste=new ho(5e3,15e3);var ate=encodeURIComponent("fac");var I0="@firebase/auth",w0="1.10.8";var kv=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function $2(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function H2(n){In(new Nt("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;_e(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:P0(n)},l=new xv(r,i,o,u);return B2(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),In(new Nt("auth-internal",e=>{let t=L2(e.getProvider("auth").getImmediate());return(r=>new kv(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(I0,w0,$2(n)),$e(I0,w0,"esm2017")}var q2=300,cte=PS("authIdTokenMaxAge")||q2;function z2(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}j2({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=Ov("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",z2().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});H2("Browser");var Hj="auth";var Kh=class{constructor(){return Ms(Hj)}};var x0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k0={};var fr,jv;(function(){var n;function e(w,v){function E(){}E.prototype=v.prototype,w.D=v.prototype,w.prototype=new E,w.prototype.constructor=w,w.C=function(I,D,T){for(var _=Array(arguments.length-2),Kn=2;Kn<arguments.length;Kn++)_[Kn-2]=arguments[Kn];return v.prototype[D].apply(I,_)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,v,E){E||(E=0);var I=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)I[D]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(D=0;16>D;++D)I[D]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;v=w.g[0],E=w.g[1],D=w.g[2];var T=w.g[3],_=v+(T^E&(D^T))+I[0]+3614090360&4294967295;v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[1]+3905402710&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[2]+606105819&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[3]+3250441966&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[4]+4118548399&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[5]+1200080426&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[6]+2821735955&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[7]+4249261313&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[8]+1770035416&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[9]+2336552879&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[10]+4294925233&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[11]+2304563134&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(T^E&(D^T))+I[12]+1804603682&4294967295,v=E+(_<<7&4294967295|_>>>25),_=T+(D^v&(E^D))+I[13]+4254626195&4294967295,T=v+(_<<12&4294967295|_>>>20),_=D+(E^T&(v^E))+I[14]+2792965006&4294967295,D=T+(_<<17&4294967295|_>>>15),_=E+(v^D&(T^v))+I[15]+1236535329&4294967295,E=D+(_<<22&4294967295|_>>>10),_=v+(D^T&(E^D))+I[1]+4129170786&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[6]+3225465664&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[11]+643717713&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[0]+3921069994&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[5]+3593408605&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[10]+38016083&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[15]+3634488961&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[4]+3889429448&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[9]+568446438&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[14]+3275163606&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[3]+4107603335&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[8]+1163531501&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(D^T&(E^D))+I[13]+2850285829&4294967295,v=E+(_<<5&4294967295|_>>>27),_=T+(E^D&(v^E))+I[2]+4243563512&4294967295,T=v+(_<<9&4294967295|_>>>23),_=D+(v^E&(T^v))+I[7]+1735328473&4294967295,D=T+(_<<14&4294967295|_>>>18),_=E+(T^v&(D^T))+I[12]+2368359562&4294967295,E=D+(_<<20&4294967295|_>>>12),_=v+(E^D^T)+I[5]+4294588738&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[8]+2272392833&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[11]+1839030562&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[14]+4259657740&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[1]+2763975236&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[4]+1272893353&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[7]+4139469664&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[10]+3200236656&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[13]+681279174&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[0]+3936430074&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[3]+3572445317&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[6]+76029189&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(E^D^T)+I[9]+3654602809&4294967295,v=E+(_<<4&4294967295|_>>>28),_=T+(v^E^D)+I[12]+3873151461&4294967295,T=v+(_<<11&4294967295|_>>>21),_=D+(T^v^E)+I[15]+530742520&4294967295,D=T+(_<<16&4294967295|_>>>16),_=E+(D^T^v)+I[2]+3299628645&4294967295,E=D+(_<<23&4294967295|_>>>9),_=v+(D^(E|~T))+I[0]+4096336452&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[7]+1126891415&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[14]+2878612391&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[5]+4237533241&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[12]+1700485571&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[3]+2399980690&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[10]+4293915773&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[1]+2240044497&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[8]+1873313359&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[15]+4264355552&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[6]+2734768916&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[13]+1309151649&4294967295,E=D+(_<<21&4294967295|_>>>11),_=v+(D^(E|~T))+I[4]+4149444226&4294967295,v=E+(_<<6&4294967295|_>>>26),_=T+(E^(v|~D))+I[11]+3174756917&4294967295,T=v+(_<<10&4294967295|_>>>22),_=D+(v^(T|~E))+I[2]+718787259&4294967295,D=T+(_<<15&4294967295|_>>>17),_=E+(T^(D|~v))+I[9]+3951481745&4294967295,w.g[0]=w.g[0]+v&4294967295,w.g[1]=w.g[1]+(D+(_<<21&4294967295|_>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+T&4294967295}r.prototype.u=function(w,v){v===void 0&&(v=w.length);for(var E=v-this.blockSize,I=this.B,D=this.h,T=0;T<v;){if(D==0)for(;T<=E;)i(this,w,T),T+=this.blockSize;if(typeof w=="string"){for(;T<v;)if(I[D++]=w.charCodeAt(T++),D==this.blockSize){i(this,I),D=0;break}}else for(;T<v;)if(I[D++]=w[T++],D==this.blockSize){i(this,I),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var v=1;v<w.length-8;++v)w[v]=0;var E=8*this.o;for(v=w.length-8;v<w.length;++v)w[v]=E&255,E/=256;for(this.u(w),w=Array(16),v=E=0;4>v;++v)for(var I=0;32>I;I+=8)w[E++]=this.g[v]>>>I&255;return w};function o(w,v){var E=a;return Object.prototype.hasOwnProperty.call(E,w)?E[w]:E[w]=v(w)}function s(w,v){this.h=v;for(var E=[],I=!0,D=w.length-1;0<=D;D--){var T=w[D]|0;I&&T==v||(E[D]=T,I=!1)}this.g=E}var a={};function u(w){return-128<=w&&128>w?o(w,function(v){return new s([v|0],0>v?-1:0)}):new s([w|0],0>w?-1:0)}function l(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return R(l(-w));for(var v=[],E=1,I=0;w>=E;I++)v[I]=w/E|0,E*=4294967296;return new s(v,0)}function h(w,v){if(w.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(w.charAt(0)=="-")return R(h(w.substring(1),v));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=l(Math.pow(v,8)),I=p,D=0;D<w.length;D+=8){var T=Math.min(8,w.length-D),_=parseInt(w.substring(D,D+T),v);8>T?(T=l(Math.pow(v,T)),I=I.j(T).add(l(_))):(I=I.j(E),I=I.add(l(_)))}return I}var p=u(0),m=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(M(this))return-R(this).m();for(var w=0,v=1,E=0;E<this.g.length;E++){var I=this.i(E);w+=(0<=I?I:4294967296+I)*v,v*=4294967296}return w},n.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(S(this))return"0";if(M(this))return"-"+R(this).toString(w);for(var v=l(Math.pow(w,6)),E=this,I="";;){var D=Ae(E,v).g;E=F(E,D.j(v));var T=((0<E.g.length?E.g[0]:E.h)>>>0).toString(w);if(E=D,S(E))return T+I;for(;6>T.length;)T="0"+T;I=T+I}},n.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function S(w){if(w.h!=0)return!1;for(var v=0;v<w.g.length;v++)if(w.g[v]!=0)return!1;return!0}function M(w){return w.h==-1}n.l=function(w){return w=F(this,w),M(w)?-1:S(w)?0:1};function R(w){for(var v=w.g.length,E=[],I=0;I<v;I++)E[I]=~w.g[I];return new s(E,~w.h).add(m)}n.abs=function(){return M(this)?R(this):this},n.add=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0,D=0;D<=v;D++){var T=I+(this.i(D)&65535)+(w.i(D)&65535),_=(T>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);I=_>>>16,T&=65535,_&=65535,E[D]=_<<16|T}return new s(E,E[E.length-1]&-2147483648?-1:0)};function F(w,v){return w.add(R(v))}n.j=function(w){if(S(this)||S(w))return p;if(M(this))return M(w)?R(this).j(R(w)):R(R(this).j(w));if(M(w))return R(this.j(R(w)));if(0>this.l(y)&&0>w.l(y))return l(this.m()*w.m());for(var v=this.g.length+w.g.length,E=[],I=0;I<2*v;I++)E[I]=0;for(I=0;I<this.g.length;I++)for(var D=0;D<w.g.length;D++){var T=this.i(I)>>>16,_=this.i(I)&65535,Kn=w.i(D)>>>16,fa=w.i(D)&65535;E[2*I+2*D]+=_*fa,K(E,2*I+2*D),E[2*I+2*D+1]+=T*fa,K(E,2*I+2*D+1),E[2*I+2*D+1]+=_*Kn,K(E,2*I+2*D+1),E[2*I+2*D+2]+=T*Kn,K(E,2*I+2*D+2)}for(I=0;I<v;I++)E[I]=E[2*I+1]<<16|E[2*I];for(I=v;I<2*v;I++)E[I]=0;return new s(E,0)};function K(w,v){for(;(w[v]&65535)!=w[v];)w[v+1]+=w[v]>>>16,w[v]&=65535,v++}function Q(w,v){this.g=w,this.h=v}function Ae(w,v){if(S(v))throw Error("division by zero");if(S(w))return new Q(p,p);if(M(w))return v=Ae(R(w),v),new Q(R(v.g),R(v.h));if(M(v))return v=Ae(w,R(v)),new Q(R(v.g),v.h);if(30<w.g.length){if(M(w)||M(v))throw Error("slowDivide_ only works with positive integers.");for(var E=m,I=v;0>=I.l(w);)E=bt(E),I=bt(I);var D=De(E,1),T=De(I,1);for(I=De(I,2),E=De(E,2);!S(I);){var _=T.add(I);0>=_.l(w)&&(D=D.add(E),T=_),I=De(I,1),E=De(E,1)}return v=F(w,D.j(v)),new Q(D,v)}for(D=p;0<=w.l(v);){for(E=Math.max(1,Math.floor(w.m()/v.m())),I=Math.ceil(Math.log(E)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),T=l(E),_=T.j(v);M(_)||0<_.l(w);)E-=I,T=l(E),_=T.j(v);S(T)&&(T=m),D=D.add(T),w=F(w,_)}return new Q(D,w)}n.A=function(w){return Ae(this,w).h},n.and=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)&w.i(I);return new s(E,this.h&w.h)},n.or=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)|w.i(I);return new s(E,this.h|w.h)},n.xor=function(w){for(var v=Math.max(this.g.length,w.g.length),E=[],I=0;I<v;I++)E[I]=this.i(I)^w.i(I);return new s(E,this.h^w.h)};function bt(w){for(var v=w.g.length+1,E=[],I=0;I<v;I++)E[I]=w.i(I)<<1|w.i(I-1)>>>31;return new s(E,w.h)}function De(w,v){var E=v>>5;v%=32;for(var I=w.g.length-E,D=[],T=0;T<I;T++)D[T]=0<v?w.i(T+E)>>>v|w.i(T+E+1)<<32-v:w.i(T+E);return new s(D,w.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,jv=k0.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,fr=k0.Integer=s}).apply(typeof x0<"u"?x0:typeof self<"u"?self:typeof window<"u"?window:{});var Qh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pr={};var Uv,qj,Ps,Bv,ru,Yh,$v,Hv,qv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Qh=="object"&&Qh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var b=c[g];if(!(b in f))break e;f=f[b]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,b={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,g),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,b,A){for(var O=Array(arguments.length-2),Re=2;Re<arguments.length;Re++)O[Re-2]=arguments[Re];return d.prototype[b].apply(g,O)}}function M(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let b=c.length||0,A=g.length||0;c.length=b+A;for(let O=0;O<A;O++)c[b+O]=g[O]}else c.push(g)}}class F{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(c){return/^[\s\xa0]*$/.test(c)}function Q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function Ae(c){return Ae[" "](c),c}Ae[" "]=function(){};var bt=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function De(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function w(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,d){let f,g;for(let b=1;b<arguments.length;b++){g=arguments[b];for(f in g)c[f]=g[f];for(let A=0;A<E.length;A++)f=E[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function _(){var c=tp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Kn{constructor(){this.h=this.g=null}add(d,f){let g=fa.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var fa=new F(()=>new NN,c=>c.reset());class NN{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let pa,ga=!1,tp=new Kn,pI=()=>{let c=a.Promise.resolve(void 0);pa=()=>{c.then(MN)}};var MN=()=>{for(var c;c=_();){try{c.h.call(c.g)}catch(f){T(f)}var d=fa;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ga=!1};function br(){this.s=this.s,this.C=this.C}br.prototype.s=!1,br.prototype.ma=function(){this.s||(this.s=!0,this.N())},br.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function dt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}dt.prototype.h=function(){this.defaultPrevented=!0};var PN=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c})();function ma(c,d){if(dt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(bt){e:{try{Ae(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:xN[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ma.aa.h.call(this)}}S(ma,dt);var xN={2:"touch",3:"pen",4:"mouse"};ma.prototype.h=function(){ma.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ya="closure_listenable_"+(1e6*Math.random()|0),kN=0;function ON(c,d,f,g,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=b,this.key=++kN,this.da=this.fa=!1}function Nu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Mu(c){this.src=c,this.g={},this.h=0}Mu.prototype.add=function(c,d,f,g,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=rp(c,d,g,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new ON(d,this.src,A,!!g,b),d.fa=f,c.push(d)),d};function np(c,d){var f=d.type;if(f in c.g){var g=c.g[f],b=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(g,b,1),A&&(Nu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function rp(c,d,f,g){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return b}return-1}var ip="closure_lm_"+(1e6*Math.random()|0),op={};function gI(c,d,f,g,b){if(g&&g.once)return yI(c,d,f,g,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)gI(c,d[A],f,g,b);return null}return f=up(f),c&&c[ya]?c.K(d,f,l(g)?!!g.capture:!!g,b):mI(c,d,f,!1,g,b)}function mI(c,d,f,g,b,A){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,Re=ap(c);if(Re||(c[ip]=Re=new Mu(c)),f=Re.add(d,f,g,O,A),f.proxy)return f;if(g=FN(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)PN||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),g,b);else if(c.attachEvent)c.attachEvent(_I(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function FN(){function c(f){return d.call(c.src,c.listener,f)}let d=LN;return c}function yI(c,d,f,g,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)yI(c,d[A],f,g,b);return null}return f=up(f),c&&c[ya]?c.L(d,f,l(g)?!!g.capture:!!g,b):mI(c,d,f,!0,g,b)}function vI(c,d,f,g,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)vI(c,d[A],f,g,b);else g=l(g)?!!g.capture:!!g,f=up(f),c&&c[ya]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=rp(A,f,g,b),-1<f&&(Nu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=ap(c))&&(d=c.g[d.toString()],c=-1,d&&(c=rp(d,f,g,b)),(f=-1<c?d[c]:null)&&sp(f))}function sp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ya])np(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(_I(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=ap(d))?(np(f,c),f.h==0&&(f.src=null,d[ip]=null)):Nu(c)}}}function _I(c){return c in op?op[c]:op[c]="on"+c}function LN(c,d){if(c.da)c=!0;else{d=new ma(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&sp(c),c=f.call(g,d)}return c}function ap(c){return c=c[ip],c instanceof Mu?c:null}var cp="__closure_events_fn_"+(1e9*Math.random()>>>0);function up(c){return typeof c=="function"?c:(c[cp]||(c[cp]=function(d){return c.handleEvent(d)}),c[cp])}function ht(){br.call(this),this.i=new Mu(this),this.M=this,this.F=null}S(ht,br),ht.prototype[ya]=!0,ht.prototype.removeEventListener=function(c,d,f,g){vI(this,c,d,f,g)};function Tt(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new dt(d,c);else if(d instanceof dt)d.target=d.target||c;else{var b=d;d=new dt(g,c),I(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];b=Pu(O,g,!0,d)&&b}if(O=d.g=c,b=Pu(O,g,!0,d)&&b,b=Pu(O,g,!1,d)&&b,f)for(A=0;A<f.length;A++)O=d.g=f[A],b=Pu(O,g,!1,d)&&b}ht.prototype.N=function(){if(ht.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)Nu(f[g]);delete c.g[d],c.h--}}this.F=null},ht.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},ht.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function Pu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var Re=O.listener,st=O.ha||O.src;O.fa&&np(c.i,O),b=Re.call(st,g)!==!1&&b}}return b&&!g.defaultPrevented}function EI(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function II(c){c.g=EI(()=>{c.g=null,c.i&&(c.i=!1,II(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class VN extends br{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:II(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function va(c){br.call(this),this.h=c,this.g={}}S(va,br);var wI=[];function DI(c){De(c.g,function(d,f){this.g.hasOwnProperty(f)&&sp(d)},c),c.g={}}va.prototype.N=function(){va.aa.N.call(this),DI(this)},va.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var lp=a.JSON.stringify,jN=a.JSON.parse,UN=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function dp(){}dp.prototype.h=null;function bI(c){return c.h||(c.h=c.i())}function TI(){}var _a={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hp(){dt.call(this,"d")}S(hp,dt);function fp(){dt.call(this,"c")}S(fp,dt);var mi={},CI=null;function xu(){return CI=CI||new ht}mi.La="serverreachability";function SI(c){dt.call(this,mi.La,c)}S(SI,dt);function Ea(c){let d=xu();Tt(d,new SI(d))}mi.STAT_EVENT="statevent";function AI(c,d){dt.call(this,mi.STAT_EVENT,c),this.stat=d}S(AI,dt);function Ct(c){let d=xu();Tt(d,new AI(d,c))}mi.Ma="timingevent";function RI(c,d){dt.call(this,mi.Ma,c),this.size=d}S(RI,dt);function Ia(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function wa(){this.g=!0}wa.prototype.xa=function(){this.g=!1};function BN(c,d,f,g,b,A){c.info(function(){if(c.g)if(A)for(var O="",Re=A.split("&"),st=0;st<Re.length;st++){var ye=Re[st].split("=");if(1<ye.length){var ft=ye[0];ye=ye[1];var pt=ft.split("_");O=2<=pt.length&&pt[1]=="type"?O+(ft+"="+ye+"&"):O+(ft+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+g+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function $N(c,d,f,g,b,A,O){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+O})}function To(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+qN(c,f)+(g?" "+g:"")})}function HN(c,d){c.info(function(){return"TIMEOUT: "+d})}wa.prototype.info=function(){};function qN(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var b=g[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return lp(f)}catch{return d}}var ku={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},NI={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},pp;function Ou(){}S(Ou,dp),Ou.prototype.g=function(){return new XMLHttpRequest},Ou.prototype.i=function(){return{}},pp=new Ou;function Tr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new va(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new MI}function MI(){this.i=null,this.g="",this.h=!1}var PI={},gp={};function mp(c,d,f){c.L=1,c.v=ju(Qn(d)),c.m=f,c.P=!0,xI(c,null)}function xI(c,d){c.F=Date.now(),Fu(c),c.A=Qn(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),WI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new MI,c.g=dw(c.j,f?d:null,!c.m),0<c.O&&(c.M=new VN(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(wI[0]=b.toString()),b=wI);for(var A=0;A<b.length;A++){var O=gI(f,b[A],g||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),Ea(),BN(c.i,c.u,c.A,c.l,c.R,c.m)}Tr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Yn(c)==3?d.j():this.Y(c)},Tr.prototype.Y=function(c){try{if(c==this.g)e:{let pt=Yn(this.g);var d=this.g.Ba();let Ao=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||ew(this.g)))){this.J||pt!=4||d==7||(d==8||0>=Ao?Ea(3):Ea(2)),yp(this);var f=this.g.Z();this.X=f;t:if(kI(this)){var g=ew(this.g);c="";var b=g.length,A=Yn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yi(this),Da(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==b-1)});g.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,$N(this.i,this.u,this.A,this.l,this.R,pt,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Re,st=this.g;if((Re=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Re)){var ye=Re;break t}}ye=null}if(f=ye)To(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vp(this,f);else{this.o=!1,this.s=3,Ct(12),yi(this),Da(this);break e}}if(this.P){f=!0;let cn;for(;!this.J&&this.C<O.length;)if(cn=zN(this,O),cn==gp){pt==4&&(this.s=4,Ct(14),f=!1),To(this.i,this.l,null,"[Incomplete Response]");break}else if(cn==PI){this.s=4,Ct(15),To(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else To(this.i,this.l,cn,null),vp(this,cn);if(kI(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||O.length!=0||this.h.h||(this.s=1,Ct(16),f=!1),this.o=this.o&&f,!f)To(this.i,this.l,O,"[Invalid Chunked Response]"),yi(this),Da(this);else if(0<O.length&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.ba&&!ft.M&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),bp(ft),ft.M=!0,Ct(11))}}else To(this.i,this.l,O,null),vp(this,O);pt==4&&yi(this),this.o&&!this.J&&(pt==4?aw(this.j,this):(this.o=!1,Fu(this)))}else cM(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,Ct(12)):(this.s=0,Ct(13)),yi(this),Da(this)}}}catch{}finally{}};function kI(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function zN(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?gp:(f=Number(d.substring(f,g)),isNaN(f)?PI:(g+=1,g+f>d.length?gp:(d=d.slice(g,g+f),c.C=g+f,d)))}Tr.prototype.cancel=function(){this.J=!0,yi(this)};function Fu(c){c.S=Date.now()+c.I,OI(c,c.I)}function OI(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ia(m(c.ba,c),d)}function yp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Tr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(HN(this.i,this.A),this.L!=2&&(Ea(),Ct(17)),yi(this),this.s=2,Da(this)):OI(this,this.S-c)};function Da(c){c.j.G==0||c.J||aw(c.j,c)}function yi(c){yp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,DI(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function vp(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||_p(f.h,c))){if(!c.K&&_p(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var b=g;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)qu(f),$u(f);else break e;Dp(f),Ct(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=Ia(m(f.Za,f),6e3));if(1>=VI(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else _i(f,11)}else if((c.K||f.g==c)&&qu(f),!K(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let ye=b[d];if(f.T=ye[0],ye=ye[1],f.G==2)if(ye[0]=="c"){f.K=ye[1],f.ia=ye[2];let ft=ye[3];ft!=null&&(f.la=ft,f.j.info("VER="+f.la));let pt=ye[4];pt!=null&&(f.Aa=pt,f.j.info("SVER="+f.Aa));let Ao=ye[5];Ao!=null&&typeof Ao=="number"&&0<Ao&&(g=1.5*Ao,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let cn=c.g;if(cn){let Gu=cn.g?cn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gu){var A=g.h;A.g||Gu.indexOf("spdy")==-1&&Gu.indexOf("quic")==-1&&Gu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Ep(A,A.h),A.h=null))}if(g.D){let Tp=cn.g?cn.g.getResponseHeader("X-HTTP-Session-Id"):null;Tp&&(g.ya=Tp,Me(g.I,g.D,Tp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var O=c;if(g.qa=lw(g,g.J?g.ia:null,g.W),O.K){jI(g.h,O);var Re=O,st=g.L;st&&(Re.I=st),Re.B&&(yp(Re),Fu(Re)),g.g=O}else ow(g);0<f.i.length&&Hu(f)}else ye[0]!="stop"&&ye[0]!="close"||_i(f,7);else f.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?_i(f,7):wp(f):ye[0]!="noop"&&f.l&&f.l.ta(ye),f.v=0)}}Ea(4)}catch{}}var GN=class{constructor(c,d){this.g=c,this.map=d}};function FI(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function LI(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function VI(c){return c.h?1:c.g?c.g.size:0}function _p(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Ep(c,d){c.g?c.g.add(d):c.h=d}function jI(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}FI.prototype.cancel=function(){if(this.i=UI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function UI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return M(c.i)}function WN(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function KN(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function BI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=KN(c),g=WN(c),b=g.length,A=0;A<b;A++)d.call(void 0,g[A],f&&f[A],c)}var $I=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function QN(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),b=null;if(0<=g){var A=c[f].substring(0,g);b=c[f].substring(g+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof vi){this.h=c.h,Lu(this,c.j),this.o=c.o,this.g=c.g,Vu(this,c.s),this.l=c.l;var d=c.i,f=new Ca;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),HI(this,f),this.m=c.m}else c&&(d=String(c).match($I))?(this.h=!1,Lu(this,d[1]||"",!0),this.o=ba(d[2]||""),this.g=ba(d[3]||"",!0),Vu(this,d[4]),this.l=ba(d[5]||"",!0),HI(this,d[6]||"",!0),this.m=ba(d[7]||"")):(this.h=!1,this.i=new Ca(null,this.h))}vi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(Ta(d,qI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(Ta(d,qI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(Ta(f,f.charAt(0)=="/"?JN:ZN,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",Ta(f,eM)),c.join("")};function Qn(c){return new vi(c)}function Lu(c,d,f){c.j=f?ba(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Vu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function HI(c,d,f){d instanceof Ca?(c.i=d,tM(c.i,c.h)):(f||(d=Ta(d,XN)),c.i=new Ca(d,c.h))}function Me(c,d,f){c.i.set(d,f)}function ju(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ba(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ta(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,YN),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function YN(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var qI=/[#\/\?@]/g,ZN=/[#\?:]/g,JN=/[#\?]/g,XN=/[#\?@]/g,eM=/#/g;function Ca(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Cr(c){c.g||(c.g=new Map,c.h=0,c.i&&QN(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=Ca.prototype,n.add=function(c,d){Cr(this),this.i=null,c=Co(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function zI(c,d){Cr(c),d=Co(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function GI(c,d){return Cr(c),d=Co(c,d),c.g.has(d)}n.forEach=function(c,d){Cr(this),this.g.forEach(function(f,g){f.forEach(function(b){c.call(d,b,g,this)},this)},this)},n.na=function(){Cr(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let b=c[g];for(let A=0;A<b.length;A++)f.push(d[g])}return f},n.V=function(c){Cr(this);let d=[];if(typeof c=="string")GI(this,c)&&(d=d.concat(this.g.get(Co(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Cr(this),this.i=null,c=Co(this,c),GI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function WI(c,d,f){zI(c,d),0<f.length&&(c.i=null,c.g.set(Co(c,d),M(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),O=this.V(g);for(g=0;g<O.length;g++){var b=A;O[g]!==""&&(b+="="+encodeURIComponent(String(O[g]))),c.push(b)}}return this.i=c.join("&")};function Co(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function tM(c,d){d&&!c.j&&(Cr(c),c.i=null,c.g.forEach(function(f,g){var b=g.toLowerCase();g!=b&&(zI(this,g),WI(this,b,f))},c)),c.j=d}function nM(c,d){let f=new wa;if(a.Image){let g=new Image;g.onload=y(Sr,f,"TestLoadImage: loaded",!0,d,g),g.onerror=y(Sr,f,"TestLoadImage: error",!1,d,g),g.onabort=y(Sr,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=y(Sr,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function rM(c,d){let f=new wa,g=new AbortController,b=setTimeout(()=>{g.abort(),Sr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(b),A.ok?Sr(f,"TestPingServer: ok",!0,d):Sr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),Sr(f,"TestPingServer: error",!1,d)})}function Sr(c,d,f,g,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),g(f)}catch{}}function iM(){this.g=new UN}function oM(c,d,f){let g=f||"";try{BI(c,function(b,A){let O=b;l(b)&&(O=lp(b)),d.push(g+A+"="+encodeURIComponent(O))})}catch(b){throw d.push(g+"type="+encodeURIComponent("_badmap")),b}}function Sa(c){this.l=c.Ub||null,this.j=c.eb||!1}S(Sa,dp),Sa.prototype.g=function(){return new Uu(this.l,this.j)},Sa.prototype.i=(function(c){return function(){return c}})({});function Uu(c,d){ht.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Uu,ht),n=Uu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,Ra(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Aa(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ra(this)),this.g&&(this.readyState=3,Ra(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;KI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function KI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?Aa(this):Ra(this),this.readyState==3&&KI(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,Aa(this))},n.Qa=function(c){this.g&&(this.response=c,Aa(this))},n.ga=function(){this.g&&Aa(this)};function Aa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ra(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function Ra(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Uu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function QI(c){let d="";return De(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Ip(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=QI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Me(c,d,f))}function Oe(c){ht.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Oe,ht);var sM=/^https?$/i,aM=["POST","PUT"];n=Oe.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():pp.g(),this.v=this.o?bI(this.o):bI(pp),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){YI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var b in g)f.set(b,g[b]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(aM,d,void 0))||g||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{XI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){YI(this,A)}};function YI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,ZI(c),Bu(c)}function ZI(c){c.A||(c.A=!0,Tt(c,"complete"),Tt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Tt(this,"complete"),Tt(this,"abort"),Bu(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bu(this,!0)),Oe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?JI(this):this.bb())},n.bb=function(){JI(this)};function JI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Yn(c)!=4||c.Z()!=2)){if(c.u&&Yn(c)==4)EI(c.Ea,0,c);else if(Tt(c,"readystatechange"),Yn(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=O===0){var b=String(c.D).match($I)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),g=!sM.test(b?b.toLowerCase():"")}f=g}if(f)Tt(c,"complete"),Tt(c,"success");else{c.m=6;try{var A=2<Yn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",ZI(c)}}finally{Bu(c)}}}}function Bu(c,d){if(c.g){XI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||Tt(c,"ready");try{f.onreadystatechange=g}catch{}}}function XI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Yn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Yn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),jN(d)}};function ew(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function cM(c){let d={};c=(c.g&&2<=Yn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(K(c[g]))continue;var f=D(c[g]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}w(d,function(g){return g.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Na(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function tw(c){this.Aa=0,this.i=[],this.j=new wa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Na("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Na("baseRetryDelayMs",5e3,c),this.cb=Na("retryDelaySeedMs",1e4,c),this.Wa=Na("forwardChannelMaxRetries",2,c),this.wa=Na("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new FI(c&&c.concurrentRequestLimit),this.Da=new iM,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=tw.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,g){Ct(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=lw(this,null,this.W),Hu(this)};function wp(c){if(nw(c),c.G==3){var d=c.U++,f=Qn(c.I);if(Me(f,"SID",c.K),Me(f,"RID",d),Me(f,"TYPE","terminate"),Ma(c,f),d=new Tr(c,c.j,d),d.L=2,d.v=ju(Qn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=dw(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Fu(d)}uw(c)}function $u(c){c.g&&(bp(c),c.g.cancel(),c.g=null)}function nw(c){$u(c),c.u&&(a.clearTimeout(c.u),c.u=null),qu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Hu(c){if(!LI(c.h)&&!c.s){c.s=!0;var d=c.Ga;pa||pI(),ga||(pa(),ga=!0),tp.add(d,c),c.B=0}}function uM(c,d){return VI(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ia(m(c.Ga,c,d),cw(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Tr(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),I(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=iw(this,b,d),f=Qn(this.I),Me(f,"RID",c),Me(f,"CVER",22),this.D&&Me(f,"X-HTTP-Session-Id",this.D),Ma(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(QI(A)))+"&"+d:this.m&&Ip(f,this.m,A)),Ep(this.h,b),this.Ua&&Me(f,"TYPE","init"),this.P?(Me(f,"$req",d),Me(f,"SID","null"),b.T=!0,mp(b,f,null)):mp(b,f,d),this.G=2}}else this.G==3&&(c?rw(this,c):this.i.length==0||LI(this.h)||rw(this))};function rw(c,d){var f;d?f=d.l:f=c.U++;let g=Qn(c.I);Me(g,"SID",c.K),Me(g,"RID",f),Me(g,"AID",c.T),Ma(c,g),c.m&&c.o&&Ip(g,c.m,c.o),f=new Tr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=iw(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ep(c.h,f),mp(f,g,d)}function Ma(c,d){c.H&&De(c.H,function(f,g){Me(d,g,f)}),c.l&&BI({},function(f,g){Me(d,g,f)})}function iw(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let Re=!0;for(let st=0;st<f;st++){let ye=b[st].g,ft=b[st].map;if(ye-=A,0>ye)A=Math.max(0,b[st].g-100),Re=!1;else try{oM(ft,O,"req"+ye+"_")}catch{g&&g(ft)}}if(Re){g=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function ow(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;pa||pI(),ga||(pa(),ga=!0),tp.add(d,c),c.v=0}}function Dp(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ia(m(c.Fa,c),cw(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,sw(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ia(m(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ct(10),$u(this),sw(this))};function bp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function sw(c){c.g=new Tr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Qn(c.qa);Me(d,"RID","rpc"),Me(d,"SID",c.K),Me(d,"AID",c.T),Me(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(d,"TO",c.ja),Me(d,"TYPE","xmlhttp"),Ma(c,d),c.m&&c.o&&Ip(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=ju(Qn(d)),f.m=null,f.P=!0,xI(f,c)}n.Za=function(){this.C!=null&&(this.C=null,$u(this),Dp(this),Ct(19))};function qu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function aw(c,d){var f=null;if(c.g==d){qu(c),bp(c),c.g=null;var g=2}else if(_p(c.h,d))f=d.D,jI(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;g=xu(),Tt(g,new RI(g,f)),Hu(c)}else ow(c);else if(b=d.s,b==3||b==0&&0<d.X||!(g==1&&uM(c,d)||g==2&&Dp(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:_i(c,5);break;case 4:_i(c,10);break;case 3:_i(c,6);break;default:_i(c,2)}}}function cw(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function _i(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let b=!g;g=new vi(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Lu(g,"https"),ju(g),b?nM(g.toString(),f):rM(g.toString(),f)}else Ct(2);c.G=0,c.l&&c.l.sa(d),uw(c),nw(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ct(2)):(this.j.info("Failed to ping google.com"),Ct(1))};function uw(c){if(c.G=0,c.ka=[],c.l){let d=UI(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,M(c.i),c.i.length=0),c.l.ra()}}function lw(c,d,f){var g=f instanceof vi?Qn(f):new vi(f);if(g.g!="")d&&(g.g=d+"."+g.g),Vu(g,g.s);else{var b=a.location;g=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new vi(null);g&&Lu(A,g),d&&(A.g=d),b&&Vu(A,b),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Me(g,f,d),Me(g,"VER",c.la),Ma(c,g),g}function dw(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Oe(new Sa({eb:f})):new Oe(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function hw(){}n=hw.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function zu(){}zu.prototype.g=function(c,d){return new Ot(c,d)};function Ot(c,d){ht.call(this),this.g=new tw(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!K(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new So(this)}S(Ot,ht),Ot.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ot.prototype.close=function(){wp(this.g)},Ot.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=lp(c),c=f);d.i.push(new GN(d.Ya++,c)),d.G==3&&Hu(d)},Ot.prototype.N=function(){this.g.l=null,delete this.j,wp(this.g),delete this.g,Ot.aa.N.call(this)};function fw(c){hp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(fw,hp);function pw(){fp.call(this),this.status=1}S(pw,fp);function So(c){this.g=c}S(So,hw),So.prototype.ua=function(){Tt(this.g,"a")},So.prototype.ta=function(c){Tt(this.g,new fw(c))},So.prototype.sa=function(c){Tt(this.g,new pw)},So.prototype.ra=function(){Tt(this.g,"b")},zu.prototype.createWebChannel=zu.prototype.g,Ot.prototype.send=Ot.prototype.o,Ot.prototype.open=Ot.prototype.m,Ot.prototype.close=Ot.prototype.close,qv=pr.createWebChannelTransport=function(){return new zu},Hv=pr.getStatEventTarget=function(){return xu()},$v=pr.Event=mi,Yh=pr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ku.NO_ERROR=0,ku.TIMEOUT=8,ku.HTTP_ERROR=6,ru=pr.ErrorCode=ku,NI.COMPLETE="complete",Bv=pr.EventType=NI,TI.EventType=_a,_a.OPEN="a",_a.CLOSE="b",_a.ERROR="c",_a.MESSAGE="d",ht.prototype.listen=ht.prototype.K,Ps=pr.WebChannel=TI,qj=pr.FetchXmlHttpFactory=Sa,Oe.prototype.listenOnce=Oe.prototype.L,Oe.prototype.getLastError=Oe.prototype.Ka,Oe.prototype.getLastErrorCode=Oe.prototype.Ba,Oe.prototype.getStatus=Oe.prototype.Z,Oe.prototype.getResponseJson=Oe.prototype.Oa,Oe.prototype.getResponseText=Oe.prototype.oa,Oe.prototype.send=Oe.prototype.ea,Oe.prototype.setWithCredentials=Oe.prototype.Ha,Uv=pr.XhrIo=Oe}).apply(typeof Qh<"u"?Qh:typeof self<"u"?self:typeof window<"u"?window:{});var O0="@firebase/firestore",F0="4.8.0";var it=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};it.UNAUTHENTICATED=new it(null),it.GOOGLE_CREDENTIALS=new it("google-credentials-uid"),it.FIRST_PARTY=new it("first-party-uid"),it.MOCK_USER=new it("mock-user");var ta="11.10.0";var yo=new Un("@firebase/firestore");function xs(){return yo.logLevel}function L(n,...e){if(yo.logLevel<=ue.DEBUG){let t=e.map(ME);yo.debug(`Firestore (${ta}): ${n}`,...t)}}function yr(n,...e){if(yo.logLevel<=ue.ERROR){let t=e.map(ME);yo.error(`Firestore (${ta}): ${n}`,...t)}}function li(n,...e){if(yo.logLevel<=ue.WARN){let t=e.map(ME);yo.warn(`Firestore (${ta}): ${n}`,...t)}}function ME(n){if(typeof n=="string")return n;try{return(function(t){return JSON.stringify(t)})(n)}catch{return n}}function z(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,CA(n,r,t)}function CA(n,e,t){let r=`FIRESTORE (${ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw yr(r),new Error(r)}function we(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||CA(e,i,r)}function J(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},B=class extends rn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gr=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var rf=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Qv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(it.UNAUTHENTICATED))}shutdown(){}},Yv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},Zv=class{constructor(e){this.t=e,this.currentUser=it.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){we(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new gr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new gr)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(we(typeof r.accessToken=="string",31837,{l:r}),new rf(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return we(e===null||typeof e=="string",2055,{h:e}),new it(e)}},Jv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=it.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},Xv=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Jv(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(it.FIRST_PARTY))}shutdown(){}invalidateToken(){}},of=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},e_=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){we(this.o===void 0,3512);let r=o=>{o.error!=null&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,L("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new of(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(we(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new of(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function zj(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function SA(){return new TextEncoder}var uu=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=zj(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function ce(n,e){return n<e?-1:n>e?1:0}function t_(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return ce(r,i);{let o=SA(),s=Gj(o.encode(L0(n,t)),o.encode(L0(e,t)));return s!==0?s:ce(r,i)}}t+=r>65535?2:1}return ce(n.length,e.length)}function L0(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function Gj(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return ce(n[t],e[t]);return ce(n.length,e.length)}function Bs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var V0="__name__",sf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&z(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&z(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return ce(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):t_(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return fr.fromString(e.substring(4,e.length-2))}},ke=class n extends sf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new B(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},Wj=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Kt=class n extends sf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return Wj.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===V0}static keyField(){return new n([V0])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new B(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new B(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new B(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new B(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var q=class n{constructor(e){this.path=e}static fromPath(e){return new n(ke.fromString(e))}static fromName(e){return new n(ke.fromString(e).popFirst(5))}static empty(){return new n(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ke.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new ke(e.slice()))}};function AA(n,e,t){if(!t)throw new B(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Kj(n,e,t,r){if(e===!0&&r===!0)throw new B(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function j0(n){if(!q.isDocumentKey(n))throw new B(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function U0(n){if(q.isDocumentKey(n))throw new B(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function RA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function PE(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":z(12329,{type:typeof n})}function oi(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new B(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=PE(n);throw new B(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function Ye(n,e){let t={typeString:n};return e&&(t.value=e),t}function Eu(n,e){if(!RA(n))throw new B(P.INVALID_ARGUMENT,"JSON must be an object");let t;for(let r in e)if(e[r]){let i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}let s=n[r];if(i&&typeof s!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&s!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new B(P.INVALID_ARGUMENT,t);return!0}var B0=-62135596800,$0=1e6,Ze=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$0);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new B(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<B0)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new B(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$0}_compareTo(e){return this.seconds===e.seconds?ce(this.nanoseconds,e.nanoseconds):ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:n._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Eu(e,n._jsonSchema))return new n(e.seconds,e.nanoseconds)}valueOf(){let e=this.seconds-B0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:Ye("string",Ze._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};var te=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new Ze(0,0))}static max(){return new n(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var lu=-1,n_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};n_.UNKNOWN_ID=-1;function Qj(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=te.fromTimestamp(r===1e9?new Ze(t+1,0):new Ze(t,r));return new vo(i,q.empty(),e)}function Yj(n){return new vo(n.readTime,n.key,lu)}var vo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(te.min(),q.empty(),lu)}static max(){return new n(te.max(),q.empty(),lu)}};function Zj(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=q.comparator(n.documentKey,e.documentKey),t!==0?t:ce(n.largestBatchId,e.largestBatchId))}var Jj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",r_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function na(n){return C(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==Jj)throw n;L("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&z(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function Xj(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function ra(n){return n.name==="IndexedDbTransactionError"}var xE=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this._e(i),this.ae=i=>r.writeSequenceNumber(i))}_e(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ae&&this.ae(t),t}}n.ue=-1;return n})(),kE=-1;function Lf(n){return n==null}function du(n){return n===0&&1/n==-1/0}function eU(n){return typeof n=="number"&&Number.isInteger(n)&&!du(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var NA="";function tU(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=H0(e)),e=nU(n.get(t),e);return H0(e)}function nU(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case NA:t+="";break;default:t+=o}}return t}function H0(n){return n+NA+""}var rU="remoteDocuments",MA="owner";var PA="mutationQueues";var xA="mutations";var kA="documentMutations",iU="remoteDocumentsV14";var OA="remoteDocumentGlobal";var FA="targets";var LA="targetDocuments";var VA="targetGlobal",jA="collectionParents";var UA="clientMetadata";var BA="bundles";var $A="namedQueries";var oU="indexConfiguration";var sU="indexState";var aU="indexEntries";var HA="documentOverlays";var cU="globals";var uU=[PA,xA,kA,rU,FA,MA,VA,LA,UA,OA,jA,BA,$A],hne=[...uU,HA],lU=[PA,xA,kA,iU,FA,MA,VA,LA,UA,OA,jA,BA,$A,HA],dU=lU,hU=[...dU,oU,sU,aU];var fne=[...hU,cU];function q0(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gi(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function qA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var Ve=class n{constructor(e,t){this.comparator=e,this.root=t||$n.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$n.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$n.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ls(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ls(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ls(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ls(this.root,e,this.comparator,!0)}},Ls=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},$n=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw z(43730,{key:this.key,value:this.value});if(this.right.isRed())throw z(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw z(27949);return e+(this.isRed()?0:1)}};$n.EMPTY=null,$n.RED=!0,$n.BLACK=!1;$n.EMPTY=new class{constructor(){this.size=0}get key(){throw z(57766)}get value(){throw z(16141)}get color(){throw z(16727)}get left(){throw z(29726)}get right(){throw z(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new $n(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var ot=class n{constructor(e){this.comparator=e,this.data=new Ve(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new af(this.data.getIterator())}getIteratorFrom(e){return new af(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},af=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var an=class n{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new n([])}unionWith(e){let t=new ot(Kt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var cf=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Dt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new cf("Invalid base64 string: "+o):o}})(e);return new n(t)}static fromUint8Array(e){let t=(function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o})(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Dt.EMPTY_BYTE_STRING=new Dt("");var fU=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vr(n){if(we(!!n,39018),typeof n=="string"){let e=0,t=fU.exec(n);if(we(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:xe(n.seconds),nanos:xe(n.nanos)}}function xe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _r(n){return typeof n=="string"?Dt.fromBase64String(n):Dt.fromUint8Array(n)}var zA="server_timestamp",GA="__type__",WA="__previous_value__",KA="__local_write_time__";function OE(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[GA])===null||t===void 0?void 0:t.stringValue)===zA}function Vf(n){let e=n.mapValue.fields[WA];return OE(e)?Vf(e):e}function hu(n){let e=vr(n.mapValue.fields[KA].timestampValue);return new Ze(e.seconds,e.nanos)}var i_=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},uf="(default)",lf=class n{constructor(e,t){this.projectId=e,this.database=t||uf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===uf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var FE="__type__",QA="__max__",Zh={mapValue:{fields:{__type__:{stringValue:QA}}}},LE="__vector__",$s="value";function di(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?OE(n)?4:ZA(n)?9007199254740991:YA(n)?10:11:z(28295,{value:n})}function zn(n,e){if(n===e)return!0;let t=di(n);if(t!==di(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return hu(n).isEqual(hu(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=vr(i.timestampValue),a=vr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return _r(i.bytesValue).isEqual(_r(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return xe(i.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(i.geoPointValue.longitude)===xe(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return xe(i.integerValue)===xe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=xe(i.doubleValue),a=xe(o.doubleValue);return s===a?du(s)===du(a):isNaN(s)&&isNaN(a)}return!1})(n,e);case 9:return Bs(n.arrayValue.values||[],e.arrayValue.values||[],zn);case 10:case 11:return(function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(q0(s)!==q0(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!zn(s[u],a[u])))return!1;return!0})(n,e);default:return z(52216,{left:n})}}function fu(n,e){return(n.values||[]).find(t=>zn(t,e))!==void 0}function Hs(n,e){if(n===e)return 0;let t=di(n),r=di(e);if(t!==r)return ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return ce(n.booleanValue,e.booleanValue);case 2:return(function(o,s){let a=xe(o.integerValue||o.doubleValue),u=xe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1})(n,e);case 3:return z0(n.timestampValue,e.timestampValue);case 4:return z0(hu(n),hu(e));case 5:return t_(n.stringValue,e.stringValue);case 6:return(function(o,s){let a=_r(o),u=_r(s);return a.compareTo(u)})(n.bytesValue,e.bytesValue);case 7:return(function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=ce(a[l],u[l]);if(h!==0)return h}return ce(a.length,u.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,s){let a=ce(xe(o.latitude),xe(s.latitude));return a!==0?a:ce(xe(o.longitude),xe(s.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return G0(n.arrayValue,e.arrayValue);case 10:return(function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},y=(a=p[$s])===null||a===void 0?void 0:a.arrayValue,S=(u=m[$s])===null||u===void 0?void 0:u.arrayValue,M=ce(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return M!==0?M:G0(y,S)})(n.mapValue,e.mapValue);case 11:return(function(o,s){if(o===Zh.mapValue&&s===Zh.mapValue)return 0;if(o===Zh.mapValue)return 1;if(s===Zh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=t_(u[p],h[p]);if(m!==0)return m;let y=Hs(a[u[p]],l[h[p]]);if(y!==0)return y}return ce(u.length,h.length)})(n.mapValue,e.mapValue);default:throw z(23264,{le:t})}}function z0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ce(n,e);let t=vr(n),r=vr(e),i=ce(t.seconds,r.seconds);return i!==0?i:ce(t.nanos,r.nanos)}function G0(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Hs(t[i],r[i]);if(o)return o}return ce(t.length,r.length)}function qs(n){return o_(n)}function o_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){let r=vr(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return _r(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return q.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=o_(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${o_(t.fields[s])}`;return i+"}"})(n.mapValue):z(61005,{value:n})}function ef(n){switch(di(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=Vf(n);return e?16+ef(e):16;case 5:return 2*n.stringValue.length;case 6:return _r(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce((i,o)=>i+ef(o),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return gi(r.fields,(o,s)=>{i+=o.length+ef(s)}),i})(n.mapValue);default:throw z(13486,{value:n})}}function s_(n){return!!n&&"integerValue"in n}function VE(n){return!!n&&"arrayValue"in n}function W0(n){return!!n&&"nullValue"in n}function K0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function tf(n){return!!n&&"mapValue"in n}function YA(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[FE])===null||t===void 0?void 0:t.stringValue)===LE}function ou(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return gi(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ou(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ou(n.arrayValue.values[t]);return e}return Object.assign({},n)}function ZA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QA}var gne={mapValue:{fields:{[FE]:{stringValue:LE},[$s]:{arrayValue:{}}}}};var Wt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!tf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ou(t)}setAll(e){let t=Kt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ou(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());tf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return zn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];tf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){gi(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ou(this.value))}};function JA(n){let e=[];return gi(n.fields,(t,r)=>{let i=new Kt([t]);if(tf(r)){let o=JA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new an(e)}var Dn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,te.min(),te.min(),te.min(),Wt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,te.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,te.min(),te.min(),Wt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,te.min(),te.min(),Wt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var zs=class{constructor(e,t){this.position=e,this.inclusive=t}};function Q0(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=q.comparator(q.fromName(s.referenceValue),t.key):r=Hs(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!zn(n.position[t],e.position[t]))return!1;return!0}var Gs=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function pU(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var df=class{},et=class n extends df{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new c_(e,t,r):t==="array-contains"?new d_(e,r):t==="in"?new h_(e,r):t==="not-in"?new f_(e,r):t==="array-contains-any"?new p_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new u_(e,r):new l_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hs(t,this.value)):t!==null&&di(this.value)===di(t)&&this.matchesComparison(Hs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Gn=class n extends df{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new n(e,t)}matches(e){return XA(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}};function XA(n){return n.op==="and"}function eR(n){return gU(n)&&XA(n)}function gU(n){for(let e of n.filters)if(e instanceof Gn)return!1;return!0}function a_(n){if(n instanceof et)return n.field.canonicalString()+n.op.toString()+qs(n.value);if(eR(n))return n.filters.map(e=>a_(e)).join(",");{let e=n.filters.map(t=>a_(t)).join(",");return`${n.op}(${e})`}}function tR(n,e){return n instanceof et?(function(r,i){return i instanceof et&&r.op===i.op&&r.field.isEqual(i.field)&&zn(r.value,i.value)})(n,e):n instanceof Gn?(function(r,i){return i instanceof Gn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&tR(s,i.filters[a]),!0):!1})(n,e):void z(19439)}function nR(n){return n instanceof et?(function(t){return`${t.field.canonicalString()} ${t.op} ${qs(t.value)}`})(n):n instanceof Gn?(function(t){return t.op.toString()+" {"+t.getFilters().map(nR).join(" ,")+"}"})(n):"Filter"}var c_=class extends et{constructor(e,t,r){super(e,t,r),this.key=q.fromName(r.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},u_=class extends et{constructor(e,t){super(e,"in",t),this.keys=rR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},l_=class extends et{constructor(e,t){super(e,"not-in",t),this.keys=rR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function rR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>q.fromName(r.referenceValue))}var d_=class extends et{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return VE(t)&&fu(t.arrayValue,this.value)}},h_=class extends et{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&fu(this.value.arrayValue,t)}},f_=class extends et{constructor(e,t){super(e,"not-in",t)}matches(e){if(fu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!fu(this.value.arrayValue,t)}},p_=class extends et{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!VE(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>fu(this.value.arrayValue,r))}};var g_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Pe=null}};function Z0(n,e=null,t=[],r=[],i=null,o=null,s=null){return new g_(n,e,t,r,i,o,s)}function jE(n){let e=J(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>a_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>(function(o){return o.field.canonicalString()+o.dir})(r)).join(","),Lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>qs(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>qs(r)).join(",")),e.Pe=t}return e.Pe}function UE(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!pU(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tR(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Y0(n.startAt,e.startAt)&&Y0(n.endAt,e.endAt)}function m_(n){return q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Ws=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}};function mU(n,e,t,r,i,o,s,a){return new Ws(n,e,t,r,i,o,s,a)}function BE(n){return new Ws(n)}function J0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yU(n){return n.collectionGroup!==null}function su(n){let e=J(n);if(e.Te===null){e.Te=[];let t=new Set;for(let o of e.explicitOrderBy)e.Te.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new ot(Kt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Te.push(new Gs(o,r))}),t.has(Kt.keyField().canonicalString())||e.Te.push(new Gs(Kt.keyField(),r))}return e.Te}function Hn(n){let e=J(n);return e.Ie||(e.Ie=vU(e,su(n))),e.Ie}function vU(n,e){if(n.limitType==="F")return Z0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Gs(i.field,o)});let t=n.endAt?new zs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new zs(n.startAt.position,n.startAt.inclusive):null;return Z0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function y_(n,e,t){return new Ws(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function jf(n,e){return UE(Hn(n),Hn(e))&&n.limitType===e.limitType}function iR(n){return`${jE(Hn(n))}|lt:${n.limitType}`}function ks(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nR(i)).join(", ")}]`),Lf(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>qs(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>qs(i)).join(",")),`Target(${r})`})(Hn(n))}; limitType=${n.limitType})`}function Uf(n,e){return e.isFoundDocument()&&(function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(let o of su(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(s,a,u){let l=Q0(s,a,u);return s.inclusive?l<=0:l<0})(r.startAt,su(r),i)||r.endAt&&!(function(s,a,u){let l=Q0(s,a,u);return s.inclusive?l>=0:l>0})(r.endAt,su(r),i))})(n,e)}function _U(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oR(n){return(e,t)=>{let r=!1;for(let i of su(n)){let o=EU(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function EU(n,e,t){let r=n.field.isKeyField()?q.comparator(e.key,t.key):(function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Hs(u,l):z(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return z(19790,{direction:n.dir})}}var Er=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){gi(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return qA(this.inner)}size(){return this.innerSize}};var IU=new Ve(q.comparator);function Ir(){return IU}var sR=new Ve(q.comparator);function iu(...n){let e=sR;for(let t of n)e=e.insert(t.key,t);return e}function aR(n){let e=sR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function fo(){return au()}function cR(){return au()}function au(){return new Er(n=>n.toString(),(n,e)=>n.isEqual(e))}var wU=new Ve(q.comparator),DU=new ot(q.comparator);function he(...n){let e=DU;for(let t of n)e=e.add(t);return e}var bU=new ot(ce);function TU(){return bU}function $E(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:du(e)?"-0":e}}function uR(n){return{integerValue:""+n}}function CU(n,e){return eU(e)?uR(e):$E(n,e)}var Ks=class{constructor(){this._=void 0}};function SU(n,e,t){return n instanceof Qs?(function(i,o){let s={fields:{[GA]:{stringValue:zA},[KA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&OE(o)&&(o=Vf(o)),o&&(s.fields[WA]=o),{mapValue:s}})(t,e):n instanceof _o?dR(n,e):n instanceof Eo?hR(n,e):(function(i,o){let s=lR(i,o),a=X0(s)+X0(i.Ee);return s_(s)&&s_(i.Ee)?uR(a):$E(i.serializer,a)})(n,e)}function AU(n,e,t){return n instanceof _o?dR(n,e):n instanceof Eo?hR(n,e):t}function lR(n,e){return n instanceof Ys?(function(r){return s_(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}var Qs=class extends Ks{},_o=class extends Ks{constructor(e){super(),this.elements=e}};function dR(n,e){let t=fR(e);for(let r of n.elements)t.some(i=>zn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Eo=class extends Ks{constructor(e){super(),this.elements=e}};function hR(n,e){let t=fR(e);for(let r of n.elements)t=t.filter(i=>!zn(i,r));return{arrayValue:{values:t}}}var Ys=class extends Ks{constructor(e,t){super(),this.serializer=e,this.Ee=t}};function X0(n){return xe(n.integerValue||n.doubleValue)}function fR(n){return VE(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function RU(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof _o&&i instanceof _o||r instanceof Eo&&i instanceof Eo?Bs(r.elements,i.elements,zn):r instanceof Ys&&i instanceof Ys?zn(r.Ee,i.Ee):r instanceof Qs&&i instanceof Qs})(n.transform,e.transform)}var v_=class{constructor(e,t){this.version=e,this.transformResults=t}},mr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function nf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Zs=class{};function pR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pu(n.key,mr.none()):new Io(n.key,n.data,mr.none());{let t=n.data,r=Wt.empty(),i=new ot(Kt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Wn(n.key,r,new an(i.toArray()),mr.none())}}function NU(n,e,t){n instanceof Io?(function(i,o,s){let a=i.value.clone(),u=tA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()})(n,e,t):n instanceof Wn?(function(i,o,s){if(!nf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=tA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(gR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()})(n,e,t):(function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,t)}function cu(n,e,t,r){return n instanceof Io?(function(o,s,a,u){if(!nf(o.precondition,s))return a;let l=o.value.clone(),h=nA(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null})(n,e,t,r):n instanceof Wn?(function(o,s,a,u){if(!nf(o.precondition,s))return a;let l=nA(o.fieldTransforms,u,s),h=s.data;return h.setAll(gR(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))})(n,e,t,r):(function(o,s,a){return nf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a})(n,e,t)}function MU(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=lR(r.transform,i||null);o!=null&&(t===null&&(t=Wt.empty()),t.set(r.field,o))}return t||null}function eA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bs(r,i,(o,s)=>RU(o,s))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var Io=class extends Zs{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Wn=class extends Zs{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function tA(n,e,t){let r=new Map;we(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,AU(s,a,t[i]))}return r}function nA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,SU(o,s,e))}return r}var pu=class extends Zs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},__=class extends Zs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var E_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&NU(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=cu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=cu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=cR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=pR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(te.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),he())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(t,r)=>eA(t,r))&&Bs(this.baseMutations,e.baseMutations,(t,r)=>eA(t,r))}},I_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){we(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=(function(){return wU})(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var w_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var D_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ke,ge;function PU(n){switch(n){case P.OK:return z(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return z(15467,{code:n})}}function mR(n){if(n===void 0)return yr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ke.OK:return P.OK;case Ke.CANCELLED:return P.CANCELLED;case Ke.UNKNOWN:return P.UNKNOWN;case Ke.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ke.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ke.INTERNAL:return P.INTERNAL;case Ke.UNAVAILABLE:return P.UNAVAILABLE;case Ke.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ke.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ke.NOT_FOUND:return P.NOT_FOUND;case Ke.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ke.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ke.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ke.ABORTED:return P.ABORTED;case Ke.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ke.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ke.DATA_LOSS:return P.DATA_LOSS;default:return z(39323,{code:n})}}(ge=Ke||(Ke={}))[ge.OK=0]="OK",ge[ge.CANCELLED=1]="CANCELLED",ge[ge.UNKNOWN=2]="UNKNOWN",ge[ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ge[ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ge[ge.NOT_FOUND=5]="NOT_FOUND",ge[ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",ge[ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",ge[ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",ge[ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ge[ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ge[ge.ABORTED=10]="ABORTED",ge[ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",ge[ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",ge[ge.INTERNAL=13]="INTERNAL",ge[ge.UNAVAILABLE=14]="UNAVAILABLE",ge[ge.DATA_LOSS=15]="DATA_LOSS";var rA=null;var xU=new fr([4294967295,4294967295],0);function iA(n){let e=SA().encode(n),t=new jv;return t.update(e),new Uint8Array(t.digest())}function oA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new fr([t,r],0),new fr([i,o],0)]}var b_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new po(`Invalid padding: ${t}`);if(r<0)throw new po(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new po(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new po(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=fr.fromNumber(this.fe)}pe(e,t,r){let i=e.add(t.multiply(fr.fromNumber(r)));return i.compare(xU)===1&&(i=new fr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;let t=iA(e),[r,i]=oA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);if(!this.ye(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.fe===0)return;let t=iA(e),[r,i]=oA(t);for(let o=0;o<this.hashCount;o++){let s=this.pe(r,i,o);this.we(s)}}we(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},po=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var hf=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(te.min(),i,new Ve(ce),Ir(),he())}},gu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,he(),he(),he())}};var Vs=class{constructor(e,t,r,i){this.Se=e,this.removedTargetIds=t,this.key=r,this.be=i}},ff=class{constructor(e,t){this.targetId=e,this.De=t}},pf=class{constructor(e,t,r=Dt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},gf=class{constructor(){this.ve=0,this.Ce=sA(),this.Fe=Dt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=he(),t=he(),r=he();return this.Ce.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:z(38017,{changeType:o})}}),new gu(this.Fe,this.Me,e,t,r)}ke(){this.xe=!1,this.Ce=sA()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,we(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}},T_=class{constructor(e){this.We=e,this.Ge=new Map,this.ze=Ir(),this.je=Jh(),this.Je=Jh(),this.He=new Ve(ce)}Ye(e){for(let t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(let t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,t=>{let r=this.tt(t);switch(e.state){case 0:this.nt(t)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),r.Be(e.resumeToken));break;default:z(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach((r,i)=>{this.nt(i)&&t(i)})}it(e){let t=e.targetId,r=e.De.count,i=this.st(t);if(i){let o=i.target;if(m_(o))if(r===0){let s=new q(o.path);this.Xe(t,s,Dn.newNoDocument(s,te.min()))}else we(r===1,20013,{expectedCount:r});else{let s=this.ot(t);if(s!==r){let a=this._t(e),u=a?this.ut(a,e,s):1;if(u!==0){this.rt(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,l)}rA?.ct((function(h,p,m,y,S){var M,R,F,K,Q,Ae;let bt={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},De=p.unchangedNames;return De&&(bt.bloomFilter={applied:S===0,hashCount:(M=De?.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(K=(F=(R=De?.bits)===null||R===void 0?void 0:R.bitmap)===null||F===void 0?void 0:F.length)!==null&&K!==void 0?K:0,padding:(Ae=(Q=De?.bits)===null||Q===void 0?void 0:Q.padding)!==null&&Ae!==void 0?Ae:0,mightContain:w=>{var v;return(v=y?.mightContain(w))!==null&&v!==void 0&&v}}),bt})(s,e.De,this.We.lt(),a,u))}}}}_t(e){let t=e.De.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=_r(r).toUint8Array()}catch(u){if(u instanceof cf)return li("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new b_(s,i,o)}catch(u){return li(u instanceof po?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.fe===0?null:a}ut(e,t,r){return t.De.count===r-this.ht(e,t.targetId)?0:2}ht(e,t){let r=this.We.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.We.lt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Xe(t,o,null),i++)}),i}Pt(e){let t=new Map;this.Ge.forEach((o,s)=>{let a=this.st(s);if(a){if(o.current&&m_(a.target)){let u=new q(a.target.path);this.Tt(u).has(s)||this.It(s,u)||this.Xe(s,u,Dn.newNoDocument(u,e))}o.Ne&&(t.set(s,o.Le()),o.ke())}});let r=he();this.Je.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.st(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ze.forEach((o,s)=>s.setReadTime(e));let i=new hf(e,t,this.He,this.ze,r);return this.ze=Ir(),this.je=Jh(),this.Je=Jh(),this.He=new Ve(ce),i}Ze(e,t){if(!this.nt(e))return;let r=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,r),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,r){if(!this.nt(e))return;let i=this.tt(e);this.It(e,t)?i.qe(t,1):i.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),r&&(this.ze=this.ze.insert(t,r))}removeTarget(e){this.Ge.delete(e)}ot(e){let t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new gf,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new ot(ce),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new ot(ce),this.je=this.je.insert(e,t)),t}nt(e){let t=this.st(e)!==null;return t||L("WatchChangeAggregator","Detected inactive target",e),t}st(e){let t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new gf),this.We.getRemoteKeysForTarget(e).forEach(t=>{this.Xe(e,t,null)})}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}};function Jh(){return new Ve(q.comparator)}function sA(){return new Ve(q.comparator)}var kU={asc:"ASCENDING",desc:"DESCENDING"},OU={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FU={and:"AND",or:"OR"},C_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function S_(n,e){return n.useProto3Json||Lf(e)?e:{value:e}}function mf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function LU(n,e){return mf(n,e.toTimestamp())}function qn(n){return we(!!n,49232),te.fromTimestamp((function(t){let r=vr(t);return new Ze(r.seconds,r.nanos)})(n))}function HE(n,e){return A_(n,e).canonicalString()}function A_(n,e){let t=(function(i){return new ke(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function vR(n){let e=ke.fromString(n);return we(DR(e),10190,{key:e.toString()}),e}function R_(n,e){return HE(n.databaseId,e.path)}function zv(n,e){let t=vR(e);if(t.get(1)!==n.databaseId.projectId)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new B(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new q(ER(t))}function _R(n,e){return HE(n.databaseId,e)}function VU(n){let e=vR(n);return e.length===4?ke.emptyPath():ER(e)}function N_(n){return new ke(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ER(n){return we(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function aA(n,e,t){return{name:R_(n,e),fields:t.value.mapValue.fields}}function jU(n,e){let t;if("targetChange"in e){e.targetChange;let r=(function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:z(39313,{state:l})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(l,h){return l.useProto3Json?(we(h===void 0||typeof h=="string",58123),Dt.fromBase64String(h||"")):(we(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Dt.fromUint8Array(h||new Uint8Array))})(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&(function(l){let h=l.code===void 0?P.UNKNOWN:mR(l.code);return new B(h,l.message||"")})(s);t=new pf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=zv(n,r.document.name),o=qn(r.document.updateTime),s=r.document.createTime?qn(r.document.createTime):te.min(),a=new Wt({mapValue:{fields:r.document.fields}}),u=Dn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new Vs(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=zv(n,r.document),o=r.readTime?qn(r.readTime):te.min(),s=Dn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Vs([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=zv(n,r.document),o=r.removedTargetIds||[];t=new Vs([],o,i,null)}else{if(!("filter"in e))return z(11601,{At:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new D_(i,o),a=r.targetId;t=new ff(a,s)}}return t}function UU(n,e){let t;if(e instanceof Io)t={update:aA(n,e.key,e.value)};else if(e instanceof pu)t={delete:R_(n,e.key)};else if(e instanceof Wn)t={update:aA(n,e.key,e.data),updateMask:QU(e.fieldMask)};else{if(!(e instanceof __))return z(16599,{Rt:e.type});t={verify:R_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>(function(o,s){let a=s.transform;if(a instanceof Qs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof _o)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Eo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ys)return{fieldPath:s.field.canonicalString(),increment:a.Ee};throw z(20930,{transform:s.transform})})(0,r))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:LU(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:z(27497)})(n,e.precondition)),t}function BU(n,e){return n&&n.length>0?(we(e!==void 0,14353),n.map(t=>(function(i,o){let s=i.updateTime?qn(i.updateTime):qn(o);return s.isEqual(te.min())&&(s=qn(o)),new v_(s,i.transformResults||[])})(t,e))):[]}function $U(n,e){return{documents:[_R(n,e.path)]}}function HU(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_R(n,i);let o=(function(l){if(l.length!==0)return wR(Gn.create(l,"and"))})(e.filters);o&&(t.structuredQuery.where=o);let s=(function(l){if(l.length!==0)return l.map(h=>(function(m){return{field:Os(m.field),direction:GU(m.dir)}})(h))})(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=S_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=(function(l){return{before:l.inclusive,values:l.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(l){return{before:!l.inclusive,values:l.position}})(e.endAt)),{Vt:t,parent:i}}function qU(n){let e=VU(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){we(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=(function(p){let m=IR(p);return m instanceof Gn&&eR(m)?m.getFilters():[m]})(t.where));let s=[];t.orderBy&&(s=(function(p){return p.map(m=>(function(S){return new Gs(Fs(S.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(m))})(t.orderBy));let a=null;t.limit&&(a=(function(p){let m;return m=typeof p=="object"?p.value:p,Lf(m)?null:m})(t.limit));let u=null;t.startAt&&(u=(function(p){let m=!!p.before,y=p.values||[];return new zs(y,m)})(t.startAt));let l=null;return t.endAt&&(l=(function(p){let m=!p.before,y=p.values||[];return new zs(y,m)})(t.endAt)),mU(e,i,s,o,a,"F",u,l)}function zU(n,e){let t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IR(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Fs(t.unaryFilter.field);return et.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Fs(t.unaryFilter.field);return et.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Fs(t.unaryFilter.field);return et.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Fs(t.unaryFilter.field);return et.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return z(61313);default:return z(60726)}})(n):n.fieldFilter!==void 0?(function(t){return et.create(Fs(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return z(58110);default:return z(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Gn.create(t.compositeFilter.filters.map(r=>IR(r)),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return z(1026)}})(t.compositeFilter.op))})(n):z(30097,{filter:n})}function GU(n){return kU[n]}function WU(n){return OU[n]}function KU(n){return FU[n]}function Os(n){return{fieldPath:n.canonicalString()}}function Fs(n){return Kt.fromServerFormat(n.fieldPath)}function wR(n){return n instanceof et?(function(t){if(t.op==="=="){if(K0(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NAN"}};if(W0(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(K0(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NOT_NAN"}};if(W0(t.value))return{unaryFilter:{field:Os(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Os(t.field),op:WU(t.op),value:t.value}}})(n):n instanceof Gn?(function(t){let r=t.getFilters().map(i=>wR(i));return r.length===1?r[0]:{compositeFilter:{op:KU(t.op),filters:r}}})(n):z(54877,{filter:n})}function QU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function DR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var mu=class n{constructor(e,t,r,i,o=te.min(),s=te.min(),a=Dt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var M_=class{constructor(e){this.gt=e}};function YU(n){let e=qU({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?y_(e,e.limit,"L"):e}var yf=class{constructor(){}bt(e,t){this.Dt(e,t),t.vt()}Dt(e,t){if("nullValue"in e)this.Ct(t,5);else if("booleanValue"in e)this.Ct(t,10),t.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(t,15),t.Ft(xe(e.integerValue));else if("doubleValue"in e){let r=xe(e.doubleValue);isNaN(r)?this.Ct(t,13):(this.Ct(t,15),du(r)?t.Ft(0):t.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(t,20),typeof r=="string"&&(r=vr(r)),t.Mt(`${r.seconds||""}`),t.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,t),this.Ot(t);else if("bytesValue"in e)this.Ct(t,30),t.Nt(_r(e.bytesValue)),this.Ot(t);else if("referenceValue"in e)this.Bt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Ct(t,45),t.Ft(r.latitude||0),t.Ft(r.longitude||0)}else"mapValue"in e?ZA(e)?this.Ct(t,Number.MAX_SAFE_INTEGER):YA(e)?this.Lt(e.mapValue,t):(this.kt(e.mapValue,t),this.Ot(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Ot(t)):z(19022,{Qt:e})}xt(e,t){this.Ct(t,25),this.$t(e,t)}$t(e,t){t.Mt(e)}kt(e,t){let r=e.fields||{};this.Ct(t,55);for(let i of Object.keys(r))this.xt(i,t),this.Dt(r[i],t)}Lt(e,t){var r,i;let o=e.fields||{};this.Ct(t,53);let s=$s,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(t,15),t.Ft(xe(a)),this.xt(s,t),this.Dt(o[s],t)}qt(e,t){let r=e.values||[];this.Ct(t,50);for(let i of r)this.Dt(i,t)}Bt(e,t){this.Ct(t,37),q.fromName(e).path.forEach(r=>{this.Ct(t,60),this.$t(r,t)})}Ct(e,t){e.Ft(t)}Ot(e){e.Ft(2)}};yf.Ut=new yf;var P_=class{constructor(){this.Dn=new x_}addToCollectionParentIndex(e,t){return this.Dn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(vo.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(vo.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},x_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new ot(ke.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new ot(ke.comparator)).toArray()}};var mne=new Uint8Array(0);var cA={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bR=41943040,sn=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(bR,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);var yu=class n{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new n(0)}static ur(){return new n(-1)}};var uA="LruGarbageCollector",ZU=1048576;function lA([n,e],[t,r]){let i=ce(n,t);return i===0?ce(e,r):i}var k_=class{constructor(e){this.Tr=e,this.buffer=new ot(lA),this.Ir=0}dr(){return++this.Ir}Er(e){let t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();lA(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},O_=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){L(uA,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>C(this,null,function*(){this.Ar=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){ra(t)?L(uA,"Ignoring IndexedDB error during garbage collection: ",t):yield na(t)}yield this.Rr(3e5)}))}},F_=class{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(xE.ue);let r=new k_(t);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(L("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(cA)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(L("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cA):this.pr(e,t))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(L("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),xs()<=ue.DEBUG&&L("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function JU(n,e){return new F_(n,e)}var L_=class{constructor(){this.changes=new Er(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var V_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var j_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&cu(r.mutation,i,an.empty(),Ze.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,he()).next(()=>r))}getLocalViewOfDocuments(e,t,r=he()){let i=fo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=iu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=fo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,he()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Ir(),s=au(),a=(function(){return au()})();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Wn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),cu(h.mutation,l,h.mutation.getFieldMask(),Ze.now())):s.set(l.key,an.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new V_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=au(),i=new Ve((s,a)=>s-a),o=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||an.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||he()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=cR();h.forEach(m=>{if(!o.has(m)){let y=pR(t.get(m),r.get(m));y!==null&&p.set(m,y),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return(function(s){return q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yU(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(fo()),a=lu,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,he())).next(h=>({batchId:a,changes:aR(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next(r=>{let i=iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=iu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=(function(p,m){return new Ws(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,Dn.newInvalidDocument(h)))});let a=iu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&cu(h.mutation,l,an.empty(),Ze.now()),Uf(t,l)&&(a=a.insert(u,l))}),a})}};var U_=class{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return x.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:qn(i.createTime)}})(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(i){return{name:i.name,query:YU(i.bundledQuery),readTime:qn(i.readTime)}})(t)),x.resolve()}};var B_=class{constructor(){this.overlays=new Ve(q.comparator),this.kr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=fo();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.wt(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.kr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.kr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=fo(),o=t.length+1,s=new q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Ve((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=fo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=fo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}wt(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new w_(t,r));let o=this.kr.get(t);o===void 0&&(o=he(),this.kr.set(t,o)),this.kr.set(t,o.add(r.key))}};var $_=class{constructor(){this.sessionToken=Dt.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var vu=class{constructor(){this.qr=new ot(Qe.Qr),this.$r=new ot(Qe.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){let r=new Qe(e,t);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Wr(new Qe(e,t))}Gr(e,t){e.forEach(r=>this.removeReference(r,t))}zr(e){let t=new q(new ke([])),r=new Qe(t,e),i=new Qe(t,e+1),o=[];return this.$r.forEachInRange([r,i],s=>{this.Wr(s),o.push(s.key)}),o}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){let t=new q(new ke([])),r=new Qe(t,e),i=new Qe(t,e+1),o=he();return this.$r.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Qe(e,0),r=this.qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Qe=class{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return q.comparator(e.key,t.key)||ce(e.Hr,t.Hr)}static Ur(e,t){return ce(e.Hr,t.Hr)||q.comparator(e.key,t.key)}};var H_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new ot(Qe.Qr)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new E_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Yr=this.Yr.add(new Qe(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Xr(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?kE:this.er-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Qe(t,0),i=new Qe(t,Number.POSITIVE_INFINITY),o=[];return this.Yr.forEachInRange([r,i],s=>{let a=this.Zr(s.Hr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new ot(ce);return t.forEach(i=>{let o=new Qe(i,0),s=new Qe(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([o,s],a=>{r=r.add(a.Hr)})}),x.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;q.isDocumentKey(o)||(o=o.child(""));let s=new Qe(new q(o),0),a=new ot(ce);return this.Yr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Hr)),!0)},s),x.resolve(this.ei(a))}ei(e){let t=[];return e.forEach(r=>{let i=this.Zr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){we(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return x.forEach(t.mutations,i=>{let o=new Qe(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,t){let r=new Qe(t,0),i=this.Yr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){let t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var q_=class{constructor(e){this.ni=e,this.docs=(function(){return new Ve(q.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ni(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():Dn.newInvalidDocument(t))}getEntries(e,t){let r=Ir();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Dn.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Ir(),s=t.path,a=new q(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||Zj(Yj(h),r)<=0||(i.has(h.key)||Uf(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){z(9500)}ri(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new z_(this)}getSize(e){return x.resolve(this.size)}},z_=class extends L_{constructor(e){super(),this.Or=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}};var G_=class{constructor(e){this.persistence=e,this.ii=new Er(t=>jE(t),UE),this.lastRemoteSnapshotVersion=te.min(),this.highestTargetId=0,this.si=0,this.oi=new vu,this.targetCount=0,this._i=yu.ar()}forEachTarget(e,t){return this.ii.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.si&&(this.si=t),x.resolve()}hr(e){this.ii.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this._i=new yu(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.hr(t),x.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.ii.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.ii.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.ii.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.oi.Kr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.oi.Gr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.oi.Jr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.oi.containsKey(t))}};var vf=class{constructor(e,t){this.ai={},this.overlays={},this.ui=new xE(0),this.ci=!1,this.ci=!0,this.li=new $_,this.referenceDelegate=e(this),this.hi=new G_(this),this.indexManager=new P_,this.remoteDocumentCache=(function(i){return new q_(i)})(r=>this.referenceDelegate.Pi(r)),this.serializer=new M_(t),this.Ti=new U_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new B_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ai[e.toKey()];return r||(r=new H_(t,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,r){L("MemoryPersistence","Starting transaction:",e);let i=new W_(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(o=>this.referenceDelegate.di(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ei(e,t){return x.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,t)))}},W_=class extends r_{constructor(e){super(),this.currentSequenceNumber=e}},K_=class n{constructor(e){this.persistence=e,this.Ai=new vu,this.Ri=null}static Vi(e){return new n(e)}get mi(){if(this.Ri)return this.Ri;throw z(60996)}addReference(e,t,r){return this.Ai.addReference(r,t),this.mi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Ai.removeReference(r,t),this.mi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach(i=>this.mi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.mi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}Ii(){this.Ri=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.mi,r=>{let i=q.fromPath(r);return this.fi(e,i).next(o=>{o||t.removeEntry(i,te.min())})}).next(()=>(this.Ri=null,t.apply(e)))}updateLimboDocument(e,t){return this.fi(e,t).next(r=>{r?this.mi.delete(t.toString()):this.mi.add(t.toString())})}Pi(e){return 0}fi(e,t){return x.or([()=>x.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}},_f=class n{constructor(e,t){this.persistence=e,this.gi=new Er(r=>tU(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=JU(this,t)}static Vi(e,t){return new n(e,t)}Ii(){}di(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){let t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}yr(e){let t=0;return this.gr(e,r=>{t++}).next(()=>t)}gr(e,t){return x.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ri(e,s=>this.Sr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,te.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.gi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),x.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ef(e.data.value)),t}Sr(e,t,r){return x.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.gi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var Q_=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Is=r,this.ds=i}static Es(e,t){let r=he(),i=he();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var Y_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Z_=class{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return VS()?8:Xj(Gt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ps(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ys(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Y_;return this.ws(e,t,s).next(a=>{if(o.result=a,this.Rs)return this.Ss(e,t,s,a.size)})}).next(()=>o.result)}Ss(e,t,r,i){return r.documentReadCount<this.Vs?(xs()<=ue.DEBUG&&L("QueryEngine","SDK will not create cache indexes for query:",ks(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),x.resolve()):(xs()<=ue.DEBUG&&L("QueryEngine","Query:",ks(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(xs()<=ue.DEBUG&&L("QueryEngine","The SDK decides to create cache indexes for query:",ks(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Hn(t))):x.resolve())}ps(e,t){if(J0(t))return x.resolve(null);let r=Hn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=y_(t,null,"F"),r=Hn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=he(...o);return this.gs.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.bs(t,a);return this.Ds(t,l,s,u.readTime)?this.ps(e,y_(t,null,"F")):this.vs(e,l,t,u)}))})))}ys(e,t,r,i){return J0(t)||i.isEqual(te.min())?x.resolve(null):this.gs.getDocuments(e,r).next(o=>{let s=this.bs(t,o);return this.Ds(t,s,r,i)?x.resolve(null):(xs()<=ue.DEBUG&&L("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ks(t)),this.vs(e,s,t,Qj(i,lu)).next(a=>a))})}bs(e,t){let r=new ot(oR(e));return t.forEach((i,o)=>{Uf(e,o)&&(r=r.add(o))}),r}Ds(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}ws(e,t,r){return xs()<=ue.DEBUG&&L("QueryEngine","Using full collection scan to execute query:",ks(t)),this.gs.getDocumentsMatchingQuery(e,t,vo.min(),r)}vs(e,t,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var qE="LocalStore",XU=3e8,J_=class{constructor(e,t,r,i){this.persistence=e,this.Cs=t,this.serializer=i,this.Fs=new Ve(ce),this.Ms=new Er(o=>jE(o),UE),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j_(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Fs))}};function eB(n,e,t,r){return new J_(n,e,t,r)}function TR(n,e){return C(this,null,function*(){let t=J(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ns(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=he();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({Bs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function tB(n,e){let t=J(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Os.newChangeBuffer({trackRemovals:!0});return(function(a,u,l,h){let p=l.batch,m=p.keys(),y=x.resolve();return m.forEach(S=>{y=y.next(()=>h.getEntry(u,S)).next(M=>{let R=l.docVersions.get(S);we(R!==null,48541),M.version.compareTo(R)<0&&(p.applyToRemoteDocument(M,l),M.isValidDocument()&&(M.setReadTime(l.commitVersion),h.addEntry(M)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))})(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(a){let u=he();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u})(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function CR(n){let e=J(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hi.getLastRemoteSnapshotVersion(t))}function nB(n,e){let t=J(n),r=e.snapshotVersion,i=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Os.newChangeBuffer({trackRemovals:!0});i=t.Fs;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(t.hi.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.hi.addMatchingKeys(o,h.addedDocuments,p)));let y=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(Dt.EMPTY_BYTE_STRING,te.min()).withLastLimboFreeSnapshotVersion(te.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),(function(M,R,F){return M.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=XU?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(m,y,h)&&a.push(t.hi.updateTargetData(o,y))});let u=Ir(),l=he();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(rB(o,s,e.documentUpdates).next(h=>{u=h.Ls,l=h.ks})),!r.isEqual(te.min())){let h=t.hi.getLastRemoteSnapshotVersion(o).next(p=>t.hi.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.Fs=i,o))}function rB(n,e,t){let r=he(),i=he();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Ir();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(te.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):L(qE,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ls:s,ks:i}})}function iB(n,e){let t=J(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=kE),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function oB(n,e){let t=J(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.hi.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.hi.allocateTargetId(r).next(s=>(i=new mu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(r.targetId,r),t.Ms.set(e,r.targetId)),r})}function X_(n,e,t){return C(this,null,function*(){let r=J(n),i=r.Fs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!ra(s))throw s;L(qE,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)})}function dA(n,e,t){let r=J(n),i=te.min(),o=he();return r.persistence.runTransaction("Execute query","readwrite",s=>(function(u,l,h){let p=J(u),m=p.Ms.get(h);return m!==void 0?x.resolve(p.Fs.get(m)):p.hi.getTargetData(l,h)})(r,s,Hn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Cs.getDocumentsMatchingQuery(s,e,t?i:te.min(),t?o:he())).next(a=>(sB(r,_U(e),a),{documents:a,qs:o})))}function sB(n,e,t){let r=n.xs.get(e)||te.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.xs.set(e,r)}var Ef=class{constructor(){this.activeTargetIds=TU()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var eE=class{constructor(){this.Fo=new Ef,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,r){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new Ef,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var tE=class{xo(e){}shutdown(){}};var hA="ConnectivityMonitor",If=class{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){L(hA,"Network connectivity changed: AVAILABLE");for(let e of this.ko)e(0)}Lo(){L(hA,"Network connectivity changed: UNAVAILABLE");for(let e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Xh=null;function nE(){return Xh===null?Xh=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xh++,"0x"+Xh.toString(16)}var Gv="RestConnection",aB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},rE=class{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===uf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,t,r,i,o){let s=nE(),a=this.Go(e,t.toUriEncodedString());L(Gv,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(u,i,o);let{host:l}=new URL(a),h=no(l);return this.jo(e,a,u,r,h).then(p=>(L(Gv,`Received RPC '${e}' ${s}: `,p),p),p=>{throw li(Gv,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Jo(e,t,r,i,o,s){return this.Wo(e,t,r,i,o)}zo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Go(e,t){let r=aB[e];return`${this.$o}/v1/${t}:${r}`}terminate(){}};var iE=class{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}};var It="WebChannelConnection",oE=class extends rE{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,r,i,o){let s=nE();return new Promise((a,u)=>{let l=new Uv;l.setWithCredentials(!0),l.listenOnce(Bv.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case ru.NO_ERROR:let p=l.getResponseJson();L(It,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case ru.TIMEOUT:L(It,`RPC '${e}' ${s} timed out`),u(new B(P.DEADLINE_EXCEEDED,"Request time out"));break;case ru.HTTP_ERROR:let m=l.getStatus();if(L(It,`RPC '${e}' ${s} failed with status:`,m,"response text:",l.getResponseText()),m>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let S=y?.error;if(S&&S.status&&S.message){let M=(function(F){let K=F.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(K)>=0?K:P.UNKNOWN})(S.status);u(new B(M,S.message))}else u(new B(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new B(P.UNAVAILABLE,"Connection failed."));break;default:z(9055,{c_:e,streamId:s,l_:l.getLastErrorCode(),h_:l.getLastError()})}}finally{L(It,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);L(It,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}P_(e,t,r){let i=nE(),o=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=qv(),a=Hv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.zo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");L(It,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.T_(p);let m=!1,y=!1,S=new iE({Ho:R=>{y?L(It,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(m||(L(It,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),L(It,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Yo:()=>p.close()}),M=(R,F,K)=>{R.listen(F,Q=>{try{K(Q)}catch(Ae){setTimeout(()=>{throw Ae},0)}})};return M(p,Ps.EventType.OPEN,()=>{y||(L(It,`RPC '${e}' stream ${i} transport opened.`),S.s_())}),M(p,Ps.EventType.CLOSE,()=>{y||(y=!0,L(It,`RPC '${e}' stream ${i} transport closed`),S.__(),this.I_(p))}),M(p,Ps.EventType.ERROR,R=>{y||(y=!0,li(It,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),S.__(new B(P.UNAVAILABLE,"The operation could not be completed")))}),M(p,Ps.EventType.MESSAGE,R=>{var F;if(!y){let K=R.data[0];we(!!K,16349);let Q=K,Ae=Q?.error||((F=Q[0])===null||F===void 0?void 0:F.error);if(Ae){L(It,`RPC '${e}' stream ${i} received error:`,Ae);let bt=Ae.status,De=(function(E){let I=Ke[E];if(I!==void 0)return mR(I)})(bt),w=Ae.message;De===void 0&&(De=P.INTERNAL,w="Unknown error status: "+bt+" with message "+Ae.message),y=!0,S.__(new B(De,w)),p.close()}else L(It,`RPC '${e}' stream ${i} received:`,K),S.a_(K)}}),M(a,$v.STAT_EVENT,R=>{R.stat===Yh.PROXY?L(It,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Yh.NOPROXY&&L(It,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.o_()},0),S}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(t=>t===e)}};function Wv(){return typeof document<"u"?document:null}function Bf(n){return new C_(n,!0)}var wf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Fi=e,this.timerId=t,this.d_=r,this.E_=i,this.A_=o,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();let t=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,t-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}};var fA="PersistentStream",Df=class{constructor(e,t,r,i,o,s,a,u){this.Fi=e,this.w_=r,this.S_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new wf(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}stop(){return C(this,null,function*(){this.M_()&&(yield this.close(0))})}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}L_(){return C(this,null,function*(){if(this.x_())return this.close(0)})}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}close(e,t){return C(this,null,function*(){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(yr(t.toString()),yr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.n_(t)})}U_(){}auth(){this.state=1;let e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===t&&this.W_(r,i)},r=>{e(()=>{let i=new B(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,t){let r=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(()=>C(this,null,function*(){this.state=0,this.start()}))}G_(e){return L(fA,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget(()=>this.b_===e?t():(L(fA,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},sE=class extends Df{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();let t=jU(this.serializer,e),r=(function(o){if(!("targetChange"in o))return te.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?te.min():s.readTime?qn(s.readTime):te.min()})(e);return this.listener.J_(t,r)}H_(e){let t={};t.database=N_(this.serializer),t.addTarget=(function(o,s){let a,u=s.target;if(a=m_(u)?{documents:$U(o,u)}:{query:HU(o,u).Vt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yR(o,s.resumeToken);let l=S_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(te.min())>0){a.readTime=mf(o,s.snapshotVersion.toTimestamp());let l=S_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a})(this.serializer,e);let r=zU(this.serializer,e);r&&(t.labels=r),this.k_(t)}Y_(e){let t={};t.database=N_(this.serializer),t.removeTarget=e,this.k_(t)}},aE=class extends Df{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return we(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,we(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){we(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();let t=BU(e.writeResults,e.commitTime),r=qn(e.commitTime);return this.listener.ta(r,t)}na(){let e={};e.database=N_(this.serializer),this.k_(e)}X_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>UU(this.serializer,r))};this.k_(t)}};var cE=class{},uE=class extends cE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Wo(e,A_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new B(P.UNKNOWN,o.toString())})}Jo(e,t,r,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Jo(e,A_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new B(P.UNKNOWN,s.toString())})}terminate(){this.ra=!0,this.connection.terminate()}},lE=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(yr(t),this._a=!1):L("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}};var wo="RemoteStore",dE=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=o,this.Ea.xo(s=>{r.enqueueAndForget(()=>C(this,null,function*(){Do(this)&&(L(wo,"Restarting streams for network reachability change."),yield(function(u){return C(this,null,function*(){let l=J(u);l.Ia.add(4),yield Iu(l),l.Aa.set("Unknown"),l.Ia.delete(4),yield $f(l)})})(this))}))}),this.Aa=new lE(r,i)}};function $f(n){return C(this,null,function*(){if(Do(n))for(let e of n.da)yield e(!0)})}function Iu(n){return C(this,null,function*(){for(let e of n.da)yield e(!1)})}function SR(n,e){let t=J(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),KE(t)?WE(t):ia(t).x_()&&GE(t,e))}function zE(n,e){let t=J(n),r=ia(t);t.Ta.delete(e),r.x_()&&AR(t,e),t.Ta.size===0&&(r.x_()?r.B_():Do(t)&&t.Aa.set("Unknown"))}function GE(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(te.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ia(n).H_(e)}function AR(n,e){n.Ra.$e(e),ia(n).Y_(e)}function WE(n){n.Ra=new T_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ia(n).start(),n.Aa.aa()}function KE(n){return Do(n)&&!ia(n).M_()&&n.Ta.size>0}function Do(n){return J(n).Ia.size===0}function RR(n){n.Ra=void 0}function cB(n){return C(this,null,function*(){n.Aa.set("Online")})}function uB(n){return C(this,null,function*(){n.Ta.forEach((e,t)=>{GE(n,e)})})}function lB(n,e){return C(this,null,function*(){RR(n),KE(n)?(n.Aa.la(e),WE(n)):n.Aa.set("Unknown")})}function dB(n,e,t){return C(this,null,function*(){if(n.Aa.set("Online"),e instanceof pf&&e.state===2&&e.cause)try{yield(function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ta.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ta.delete(a),i.Ra.removeTarget(a))})})(n,e)}catch(r){L(wo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield bf(n,r)}else if(e instanceof Vs?n.Ra.Ye(e):e instanceof ff?n.Ra.it(e):n.Ra.et(e),!t.isEqual(te.min()))try{let r=yield CR(n.localStore);t.compareTo(r)>=0&&(yield(function(o,s){let a=o.Ra.Pt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ta.get(l);h&&o.Ta.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ta.get(u);if(!h)return;o.Ta.set(u,h.withResumeToken(Dt.EMPTY_BYTE_STRING,h.snapshotVersion)),AR(o,u);let p=new mu(h.target,u,l,h.sequenceNumber);GE(o,p)}),o.remoteSyncer.applyRemoteEvent(a)})(n,t))}catch(r){L(wo,"Failed to raise snapshot:",r),yield bf(n,r)}})}function bf(n,e,t){return C(this,null,function*(){if(!ra(e))throw e;n.Ia.add(1),yield Iu(n),n.Aa.set("Offline"),t||(t=()=>CR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(null,null,function*(){L(wo,"Retrying IndexedDB access"),yield t(),n.Ia.delete(1),yield $f(n)}))})}function NR(n,e){return e().catch(t=>bf(n,t,e))}function Hf(n){return C(this,null,function*(){let e=J(n),t=hi(e),r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:kE;for(;hB(e);)try{let i=yield iB(e.localStore,r);if(i===null){e.Pa.length===0&&t.B_();break}r=i.batchId,fB(e,i)}catch(i){yield bf(e,i)}MR(e)&&PR(e)})}function hB(n){return Do(n)&&n.Pa.length<10}function fB(n,e){n.Pa.push(e);let t=hi(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function MR(n){return Do(n)&&!hi(n).M_()&&n.Pa.length>0}function PR(n){hi(n).start()}function pB(n){return C(this,null,function*(){hi(n).na()})}function gB(n){return C(this,null,function*(){let e=hi(n);for(let t of n.Pa)e.X_(t.mutations)})}function mB(n,e,t){return C(this,null,function*(){let r=n.Pa.shift(),i=I_.from(r,e,t);yield NR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Hf(n)})}function yB(n,e){return C(this,null,function*(){e&&hi(n).Z_&&(yield(function(r,i){return C(this,null,function*(){if((function(s){return PU(s)&&s!==P.ABORTED})(i.code)){let o=r.Pa.shift();hi(r).N_(),yield NR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Hf(r)}})})(n,e)),MR(n)&&PR(n)})}function pA(n,e){return C(this,null,function*(){let t=J(n);t.asyncQueue.verifyOperationInProgress(),L(wo,"RemoteStore received new credentials");let r=Do(t);t.Ia.add(3),yield Iu(t),r&&t.Aa.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),yield $f(t)})}function vB(n,e){return C(this,null,function*(){let t=J(n);e?(t.Ia.delete(2),yield $f(t)):e||(t.Ia.add(2),yield Iu(t),t.Aa.set("Unknown"))})}function ia(n){return n.Va||(n.Va=(function(t,r,i){let o=J(t);return o.ia(),new sE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:cB.bind(null,n),e_:uB.bind(null,n),n_:lB.bind(null,n),J_:dB.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.Va.N_(),KE(n)?WE(n):n.Aa.set("Unknown")):(yield n.Va.stop(),RR(n))}))),n.Va}function hi(n){return n.ma||(n.ma=(function(t,r,i){let o=J(t);return o.ia(),new aE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:pB.bind(null,n),n_:yB.bind(null,n),ea:gB.bind(null,n),ta:mB.bind(null,n)}),n.da.push(e=>C(null,null,function*(){e?(n.ma.N_(),yield Hf(n)):(yield n.ma.stop(),n.Pa.length>0&&(L(wo,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}var hE=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new B(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function QE(n,e){if(yr("AsyncQueue",`${e}: ${n}`),ra(n))return new B(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Tf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||q.comparator(t.key,r.key):(t,r)=>q.comparator(t.key,r.key),this.keyedMap=iu(),this.sortedSet=new Ve(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Cf=class{constructor(){this.fa=new Ve(q.comparator)}track(e){let t=e.doc.key,r=this.fa.get(t);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(t,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(t):e.type===1&&r.type===2?this.fa=this.fa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):z(63341,{At:e,ga:r}):this.fa=this.fa.insert(t,e)}pa(){let e=[];return this.fa.inorderTraversal((t,r)=>{e.push(r)}),e}},Js=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Tf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var fE=class{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}},pE=class{constructor(){this.queries=gA(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,r){let i=J(t),o=i.queries;i.queries=gA(),o.forEach((s,a)=>{for(let u of a.wa)u.onError(r)})})(this,new B(P.ABORTED,"Firestore shutting down"))}};function gA(){return new Er(n=>iR(n),jf)}function _B(n,e){return C(this,null,function*(){let t=J(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Sa()&&e.ba()&&(r=2):(o=new fE,r=e.ba()?0:1);try{switch(r){case 0:o.ya=yield t.onListen(i,!0);break;case 1:o.ya=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=QE(s,`Initialization of query '${ks(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.wa.push(e),e.va(t.onlineState),o.ya&&e.Ca(o.ya)&&YE(t)})}function EB(n,e){return C(this,null,function*(){let t=J(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.wa.indexOf(e);s>=0&&(o.wa.splice(s,1),o.wa.length===0?i=e.ba()?0:1:!o.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function IB(n,e){let t=J(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.wa)a.Ca(i)&&(r=!0);s.ya=i}}r&&YE(t)}function wB(n,e,t){let r=J(n),i=r.queries.get(e);if(i)for(let o of i.wa)o.onError(t);r.queries.delete(e)}function YE(n){n.Da.forEach(e=>{e.next()})}var gE,mA;(mA=gE||(gE={})).Fa="default",mA.Cache="cache";var mE=class{constructor(e,t,r){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Js(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;let r=t!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;let t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Js.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==gE.Cache}};var Sf=class{constructor(e){this.key=e}},Af=class{constructor(e){this.key=e}},yE=class{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=he(),this.mutatedKeys=he(),this.Xa=oR(e),this.eu=new Tf(this.Xa)}get tu(){return this.Ha}nu(e,t){let r=t?t.ru:new Cf,i=t?t.eu:this.eu,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),y=Uf(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),M=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;m&&y?m.data.isEqual(y.data)?S!==M&&(r.track({type:3,doc:y}),R=!0):this.iu(m,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Xa(y,u)>0||l&&this.Xa(y,l)<0)&&(a=!0)):!m&&y?(r.track({type:0,doc:y}),R=!0):m&&!y&&(r.track({type:1,doc:m}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=M?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{eu:s,ru:r,Ds:a,mutatedKeys:o}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;let s=e.ru.pa();s.sort((h,p)=>(function(y,S){let M=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z(20277,{At:R})}};return M(y)-M(S)})(h.type,p.type)||this.Xa(h.doc,p.doc)),this.su(r),i=i!=null&&i;let a=t&&!i?this.ou():[],u=this.Za.size===0&&this.current&&!i?1:0,l=u!==this.Ya;return this.Ya=u,s.length!==0||l?{snapshot:new Js(this.query,e.eu,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Cf,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}ou(){if(!this.current)return[];let e=this.Za;this.Za=he(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});let t=[];return e.forEach(r=>{this.Za.has(r)||t.push(new Af(r))}),this.Za.forEach(r=>{e.has(r)||t.push(new Sf(r))}),t}uu(e){this.Ha=e.qs,this.Za=he();let t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Js.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}},ZE="SyncEngine",vE=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},_E=class{constructor(e){this.key=e,this.lu=!1}},EE=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.hu={},this.Pu=new Er(a=>iR(a),jf),this.Tu=new Map,this.Iu=new Set,this.du=new Ve(q.comparator),this.Eu=new Map,this.Au=new vu,this.Ru={},this.Vu=new Map,this.mu=yu.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}};function DB(n,e,t=!0){return C(this,null,function*(){let r=VR(n),i,o=r.Pu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.cu()):i=yield xR(r,e,t,!0),i})}function bB(n,e){return C(this,null,function*(){let t=VR(n);yield xR(t,e,!0,!1)})}function xR(n,e,t,r){return C(this,null,function*(){let i=yield oB(n.localStore,Hn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield TB(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&SR(n.remoteStore,i),a})}function TB(n,e,t,r,i){return C(this,null,function*(){n.gu=(p,m,y)=>(function(M,R,F,K){return C(this,null,function*(){let Q=R.view.nu(F);Q.Ds&&(Q=yield dA(M.localStore,R.query,!1).then(({documents:w})=>R.view.nu(w,Q)));let Ae=K&&K.targetChanges.get(R.targetId),bt=K&&K.targetMismatches.get(R.targetId)!=null,De=R.view.applyChanges(Q,M.isPrimaryClient,Ae,bt);return vA(M,R.targetId,De._u),De.snapshot})})(n,p,m,y);let o=yield dA(n.localStore,e,!0),s=new yE(e,o.qs),a=s.nu(o.documents),u=gu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);vA(n,t,l._u);let h=new vE(e,t,s);return n.Pu.set(e,h),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),l.snapshot})}function CB(n,e,t){return C(this,null,function*(){let r=J(n),i=r.Pu.get(e),o=r.Tu.get(i.targetId);if(o.length>1)return r.Tu.set(i.targetId,o.filter(s=>!jf(s,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield X_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&zE(r.remoteStore,i.targetId),IE(r,i.targetId)}).catch(na))):(IE(r,i.targetId),yield X_(r.localStore,i.targetId,!0))})}function SB(n,e){return C(this,null,function*(){let t=J(n),r=t.Pu.get(e),i=t.Tu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zE(t.remoteStore,r.targetId))})}function AB(n,e,t){return C(this,null,function*(){let r=OB(n);try{let i=yield(function(s,a){let u=J(s),l=Ze.now(),h=a.reduce((y,S)=>y.add(S.key),he()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let S=Ir(),M=he();return u.Os.getEntries(y,h).next(R=>{S=R,S.forEach((F,K)=>{K.isValidDocument()||(M=M.add(F))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,S)).next(R=>{p=R;let F=[];for(let K of a){let Q=MU(K,p.get(K.key).overlayedDocument);Q!=null&&F.push(new Wn(K.key,Q,JA(Q.value.mapValue),mr.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,F,a)}).next(R=>{m=R;let F=R.applyToLocalDocumentSet(p,M);return u.documentOverlayCache.saveOverlays(y,R.batchId,F)})}).then(()=>({batchId:m.batchId,changes:aR(p)}))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(s,a,u){let l=s.Ru[s.currentUser.toKey()];l||(l=new Ve(ce)),l=l.insert(a,u),s.Ru[s.currentUser.toKey()]=l})(r,i.batchId,t),yield wu(r,i.changes),yield Hf(r.remoteStore)}catch(i){let o=QE(i,"Failed to persist write");t.reject(o)}})}function kR(n,e){return C(this,null,function*(){let t=J(n);try{let r=yield nB(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(we(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.lu=!0:i.modifiedDocuments.size>0?we(s.lu,14607):i.removedDocuments.size>0&&(we(s.lu,42227),s.lu=!1))}),yield wu(t,r,e)}catch(r){yield na(r)}})}function yA(n,e,t){let r=J(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Pu.forEach((o,s)=>{let a=s.view.va(e);a.snapshot&&i.push(a.snapshot)}),(function(s,a){let u=J(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.wa)m.va(a)&&(l=!0)}),l&&YE(u)})(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function RB(n,e,t){return C(this,null,function*(){let r=J(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new Ve(q.comparator);s=s.insert(o,Dn.newNoDocument(o,te.min()));let a=he().add(o),u=new hf(te.min(),new Map,new Ve(ce),s,a);yield kR(r,u),r.du=r.du.remove(o),r.Eu.delete(e),JE(r)}else yield X_(r.localStore,e,!1).then(()=>IE(r,e,t)).catch(na)})}function NB(n,e){return C(this,null,function*(){let t=J(n),r=e.batch.batchId;try{let i=yield tB(t.localStore,e);FR(t,r,null),OR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield wu(t,i)}catch(i){yield na(i)}})}function MB(n,e,t){return C(this,null,function*(){let r=J(n);try{let i=yield(function(s,a){let u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(we(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})})(r.localStore,e);FR(r,e,t),OR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield wu(r,i)}catch(i){yield na(i)}})}function OR(n,e){(n.Vu.get(e)||[]).forEach(t=>{t.resolve()}),n.Vu.delete(e)}function FR(n,e,t){let r=J(n),i=r.Ru[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function IE(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Tu.get(e))n.Pu.delete(r),t&&n.hu.pu(r,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach(r=>{n.Au.containsKey(r)||LR(n,r)})}function LR(n,e){n.Iu.delete(e.path.canonicalString());let t=n.du.get(e);t!==null&&(zE(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),JE(n))}function vA(n,e,t){for(let r of t)r instanceof Sf?(n.Au.addReference(r.key,e),PB(n,r)):r instanceof Af?(L(ZE,"Document no longer in limbo: "+r.key),n.Au.removeReference(r.key,e),n.Au.containsKey(r.key)||LR(n,r.key)):z(19791,{yu:r})}function PB(n,e){let t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Iu.has(r)||(L(ZE,"New document in limbo: "+t),n.Iu.add(r),JE(n))}function JE(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){let e=n.Iu.values().next().value;n.Iu.delete(e);let t=new q(ke.fromString(e)),r=n.mu.next();n.Eu.set(r,new _E(t)),n.du=n.du.insert(t,r),SR(n.remoteStore,new mu(Hn(BE(t.path)),r,"TargetPurposeLimboResolution",xE.ue))}}function wu(n,e,t){return C(this,null,function*(){let r=J(n),i=[],o=[],s=[];r.Pu.isEmpty()||(r.Pu.forEach((a,u)=>{s.push(r.gu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=Q_.Es(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.hu.J_(i),yield(function(u,l){return C(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,m=>x.forEach(m.Is,y=>h.persistence.referenceDelegate.addReference(p,m.targetId,y)).next(()=>x.forEach(m.ds,y=>h.persistence.referenceDelegate.removeReference(p,m.targetId,y)))))}catch(p){if(!ra(p))throw p;L(qE,"Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let y=h.Fs.get(m),S=y.snapshotVersion,M=y.withLastLimboFreeSnapshotVersion(S);h.Fs=h.Fs.insert(m,M)}}})})(r.localStore,o))})}function xB(n,e){return C(this,null,function*(){let t=J(n);if(!t.currentUser.isEqual(e)){L(ZE,"User change. New user:",e.toKey());let r=yield TR(t.localStore,e);t.currentUser=e,(function(o,s){o.Vu.forEach(a=>{a.forEach(u=>{u.reject(new B(P.CANCELLED,s))})}),o.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield wu(t,r.Bs)}})}function kB(n,e){let t=J(n),r=t.Eu.get(e);if(r&&r.lu)return he().add(r.key);{let i=he(),o=t.Tu.get(e);if(!o)return i;for(let s of o){let a=t.Pu.get(s);i=i.unionWith(a.view.tu)}return i}}function VR(n){let e=J(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=RB.bind(null,e),e.hu.J_=IB.bind(null,e.eventManager),e.hu.pu=wB.bind(null,e.eventManager),e}function OB(n){let e=J(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=MB.bind(null,e),e}var jR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=Bf(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Du(t),yield this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Cu(t,this.localStore),this.indexBackfillerScheduler=this.Fu(t,this.localStore)})}Cu(t,r){return null}Fu(t,r){return null}vu(t){return eB(this.persistence,new Z_,t.initialUser,this.serializer)}Du(t){return new vf(K_.Vi,this.serializer)}bu(t){return new eE}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),wE=class extends jR{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){we(this.persistence.referenceDelegate instanceof _f,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new O_(r,e.asyncQueue,t)}Du(e){let t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new vf(r=>_f.Vi(r,t),this.serializer)}};var FB=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>yA(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=xB.bind(null,this.syncEngine),yield vB(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return(function(){return new pE})()}createDatastore(t){let r=Bf(t.databaseInfo.databaseId),i=(function(s){return new oE(s)})(t.databaseInfo);return(function(s,a,u,l){return new uE(s,a,u,l)})(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return(function(i,o,s,a,u){return new dE(i,o,s,a,u)})(this.localStore,this.datastore,t.asyncQueue,r=>yA(this.syncEngine,r,0),(function(){return If.C()?new If:new tE})())}createSyncEngine(t,r){return(function(o,s,a,u,l,h,p){let m=new EE(o,s,a,u,l,h);return p&&(m.fu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield(function(o){return C(this,null,function*(){let s=J(o);L(wo,"RemoteStore shutting down."),s.Ia.add(5),yield Iu(s),s.Ea.shutdown(),s.Aa.set("Unknown")})})(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var DE=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):yr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var fi="FirestoreClient",bE=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=it.UNAUTHENTICATED,this.clientId=uu.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){L(fi,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(L(fi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=QE(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function Kv(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),L(fi,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(null,null,function*(){r.isEqual(i)||(yield TR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>{li("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then(()=>{L("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{li("Terminating Firestore due to IndexedDb database deletion failed",i)})}),n._offlineComponents=e})}function _A(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield LB(n);L(fi,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>pA(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>pA(e.remoteStore,i)),n._onlineComponents=e})}function LB(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){L(fi,"Using user provided OfflineComponentProvider");try{yield Kv(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;li("Error using user provided cache. Falling back to memory cache: "+t),yield Kv(n,new jR)}}else L(fi,"Using default OfflineComponentProvider"),yield Kv(n,new wE(void 0));return n._offlineComponents})}function UR(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(L(fi,"Using user provided OnlineComponentProvider"),yield _A(n,n._uninitializedComponentsProvider._online)):(L(fi,"Using default OnlineComponentProvider"),yield _A(n,new FB))),n._onlineComponents})}function VB(n){return UR(n).then(e=>e.syncEngine)}function EA(n){return C(this,null,function*(){let e=yield UR(n),t=e.eventManager;return t.onListen=DB.bind(null,e.syncEngine),t.onUnlisten=CB.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=bB.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SB.bind(null,e.syncEngine),t})}function BR(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var IA=new Map;var $R="firestore.googleapis.com",wA=!0,Rf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new B(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$R,this.ssl=wA}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:wA;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bR;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ZU)throw new B(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BR((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new B(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Xs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Rf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new B(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new B(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Rf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Qv;switch(r.type){case"firstParty":return new Xv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new B(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){let r=IA.get(t);r&&(L("ComponentProvider","Removing Datastore"),IA.delete(t),r.terminate())})(this),Promise.resolve()}};function HR(n,e,t,r={}){var i;n=oi(n,Xs);let o=no(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(ev(`https://${u}`),tv("Firestore",!0)),s.host!==$R&&s.host!==u&&li("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!ro(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=it.MOCK_USER;else{h=xS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new B(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new it(m)}n._authCredentials=new Yv(new rf(h,p))}}var Nf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},wt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}toJSON(){return{type:n._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Eu(t,n._jsonSchema))return new n(e,r||null,new q(ke.fromString(t.referencePath)))}};wt._jsonSchemaVersion="firestore/documentReference/1.0",wt._jsonSchema={type:Ye("string",wt._jsonSchemaVersion),referencePath:Ye("string")};var si=class n extends Nf{constructor(e,t,r){super(e,t,BE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function qR(n,e,...t){if(n=Et(n),AA("collection","path",e),n instanceof Xs){let r=ke.fromString(e,...t);return U0(r),new si(n,null,r)}{if(!(n instanceof wt||n instanceof si))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return U0(r),new si(n.firestore,null,r)}}function XE(n,e,...t){if(n=Et(n),arguments.length===1&&(e=uu.newId()),AA("doc","path",e),n instanceof Xs){let r=ke.fromString(e,...t);return j0(r),new wt(n,null,new q(r))}{if(!(n instanceof wt||n instanceof si))throw new B(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(ke.fromString(e,...t));return j0(r),new wt(n.firestore,n instanceof si?n.converter:null,new q(r))}}var DA="AsyncQueue",Mf=class{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new wf(this,"async_queue_retry"),this.oc=()=>{let r=Wv();r&&L(DA,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;let t=Wv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;let t=Wv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});let t=new gr;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}cc(){return C(this,null,function*(){if(this.Zu.length!==0){try{yield this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!ra(e))throw e;L(DA,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}})}uc(e){let t=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,yr("INTERNAL UNHANDLED ERROR: ",bA(r)),r}).then(r=>(this.nc=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.ac(),this.sc.indexOf(e)>-1&&(t=0);let i=hE.createAndSchedule(this,e,t,r,o=>this.lc(o));return this.ec.push(i),i}ac(){this.tc&&z(47125,{hc:bA(this.tc)})}verifyOperationInProgress(){}Pc(){return C(this,null,function*(){let e;do e=this._c,yield e;while(e!==this._c)})}Tc(e){for(let t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){let t=this.ec.indexOf(e);this.ec.splice(t,1)}};function bA(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function TA(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1})(n,["next","error","complete"])}var pi=class extends Xs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Mf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Mf(e),this._firestoreClient=void 0,yield e}})}};function zR(n,e){let t=typeof n=="object"?n:Rs(),r=typeof n=="string"?n:e||uf,i=Mh(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=MS("firestore");o&&HR(i,...o)}return i}function GR(n){if(n._terminated)throw new B(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jB(n),n._firestoreClient}function jB(n){var e,t,r;let i=n._freezeSettings(),o=(function(a,u,l,h){return new i_(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,BR(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new bE(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&(function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}})(n._componentsProvider))}var ai=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Dt.fromBase64String(e))}catch(t){throw new B(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Dt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Eu(e,n._jsonSchema))return n.fromBase64String(e.bytes)}};ai._jsonSchemaVersion="firestore/bytes/1.0",ai._jsonSchema={type:Ye("string",ai._jsonSchemaVersion),bytes:Ye("string")};var ea=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new B(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var _u=class{constructor(e){this._methodName=e}};var ci=class n{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new B(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new B(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ce(this._lat,e._lat)||ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:n._jsonSchemaVersion}}static fromJSON(e){if(Eu(e,n._jsonSchema))return new n(e.latitude,e.longitude)}};ci._jsonSchemaVersion="firestore/geoPoint/1.0",ci._jsonSchema={type:Ye("string",ci._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};var ui=class n{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:n._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Eu(e,n._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(t=>typeof t=="number"))return new n(e.vectorValues);throw new B(P.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}};ui._jsonSchemaVersion="firestore/vectorValue/1.0",ui._jsonSchema={type:Ye("string",ui._jsonSchemaVersion),vectorValues:Ye("object")};var UB=/^__.*__$/,TE=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Wn(e,this.data,this.fieldMask,t,this.fieldTransforms):new Io(e,this.data,t,this.fieldTransforms)}},Pf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Wn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function WR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z(40011,{Ec:n})}}var CE=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ac(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return kf(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(WR(this.Ec)&&UB.test(e))throw this.wc('Document fields cannot begin and end with "__"')}},SE=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Bf(e)}Dc(e,t,r,i=!1){return new CE({Ec:e,methodName:t,bc:r,path:Kt.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function KR(n){let e=n._freezeSettings(),t=Bf(n._databaseId);return new SE(n._databaseId,!!e.ignoreUndefinedProperties,t)}function BB(n,e,t,r,i,o={}){let s=n.Dc(o.merge||o.mergeFields?2:0,e,t,i);eI("Data must be an object, but it was:",s,r);let a=QR(r,s),u,l;if(o.merge)u=new an(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=AE(e,p,t);if(!s.contains(m))throw new B(P.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);ZR(h,m)||h.push(m)}u=new an(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new TE(new Wt(a),u,l)}var xf=class n extends _u{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function $B(n,e,t,r){let i=n.Dc(1,e,t);eI("Data must be an object, but it was:",i,r);let o=[],s=Wt.empty();gi(r,(u,l)=>{let h=tI(e,u,t);l=Et(l);let p=i.gc(h);if(l instanceof xf)o.push(h);else{let m=qf(l,p);m!=null&&(o.push(h),s.set(h,m))}});let a=new an(o);return new Pf(s,a,i.fieldTransforms)}function HB(n,e,t,r,i,o){let s=n.Dc(1,e,t),a=[AE(e,r,t)],u=[i];if(o.length%2!=0)throw new B(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<o.length;m+=2)a.push(AE(e,o[m])),u.push(o[m+1]);let l=[],h=Wt.empty();for(let m=a.length-1;m>=0;--m)if(!ZR(l,a[m])){let y=a[m],S=u[m];S=Et(S);let M=s.gc(y);if(S instanceof xf)l.push(y);else{let R=qf(S,M);R!=null&&(l.push(y),h.set(y,R))}}let p=new an(l);return new Pf(h,p,s.fieldTransforms)}function qf(n,e){if(YR(n=Et(n)))return eI("Unsupported field value:",e,n),QR(n,e);if(n instanceof _u)return(function(r,i){if(!WR(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(r,i){let o=[],s=0;for(let a of r){let u=qf(a,i.yc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=Et(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CU(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=Ze.fromDate(r);return{timestampValue:mf(i.serializer,o)}}if(r instanceof Ze){let o=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:mf(i.serializer,o)}}if(r instanceof ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ai)return{bytesValue:yR(i.serializer,r._byteString)};if(r instanceof wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.wc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:HE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof ui)return(function(s,a){return{mapValue:{fields:{[FE]:{stringValue:LE},[$s]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.wc("VectorValues must only contain numeric values.");return $E(a.serializer,l)})}}}}}})(r,i);throw i.wc(`Unsupported field value: ${PE(r)}`)})(n,e)}function QR(n,e){let t={};return qA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gi(n,(r,i)=>{let o=qf(i,e.Vc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function YR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof ci||n instanceof ai||n instanceof wt||n instanceof _u||n instanceof ui)}function eI(n,e,t){if(!YR(t)||!RA(t)){let r=PE(t);throw r==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+r)}}function AE(n,e,t){if((e=Et(e))instanceof ea)return e._internalPath;if(typeof e=="string")return tI(n,e);throw kf("Field path arguments must be of type string or ",n,!1,void 0,t)}var qB=new RegExp("[~\\*/\\[\\]]");function tI(n,e,t){if(e.search(qB)>=0)throw kf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ea(...e.split("."))._internalPath}catch{throw kf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function kf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new B(P.INVALID_ARGUMENT,a+n+u)}function ZR(n,e){return n.some(t=>t.isEqual(e))}var Of=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new RE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(JR("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},RE=class extends Of{data(){return super.data()}};function JR(n,e){return typeof e=="string"?tI(n,e):e instanceof ea?e._internalPath:e._delegate._internalPath}function zB(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new B(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var NE=class{convertValue(e,t="none"){switch(di(e)){case 0:return null;case 1:return e.booleanValue;case 2:return xe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(_r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw z(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return gi(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[$s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>xe(s.doubleValue));return new ui(o)}convertGeoPoint(e){return new ci(xe(e.latitude),xe(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=Vf(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(hu(e));default:return null}}convertTimestamp(e){let t=vr(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=ke.fromString(e);we(DR(r),9688,{name:e});let i=new lf(r.get(1),r.get(3)),o=new q(r.popFirst(5));return i.isEqual(t)||yr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function GB(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var go=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},mo=class n extends Of{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new js(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(JR("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new B(P.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e=this._document,t={};return t.type=n._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}};mo._jsonSchemaVersion="firestore/documentSnapshot/1.0",mo._jsonSchema={type:Ye("string",mo._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var js=class extends mo{data(e={}){return super.data(e)}},Us=class n{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new go(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new js(this._firestore,this._userDataWriter,r.key,r,new go(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new B(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new go(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new js(i._firestore,i._userDataWriter,a.doc.key,a.doc,new go(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:WB(a.type),doc:u,oldIndex:l,newIndex:h}})}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new B(P.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");let e={};e.type=n._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=uu.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let t=[],r=[],i=[];return this.docs.forEach(o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function WB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z(61501,{type:n})}}Us._jsonSchemaVersion="firestore/querySnapshot/1.0",Us._jsonSchema={type:Ye("string",Us._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};var Ff=class extends NE{constructor(e){super(),this.firestore=e}convertBytes(e){return new ai(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}};function XR(n,e,t,...r){n=oi(n,wt);let i=oi(n.firestore,pi),o=KR(i),s;return s=typeof(e=Et(e))=="string"||e instanceof ea?HB(o,"updateDoc",n._key,e,t,r):$B(o,"updateDoc",n._key,e),rI(i,[s.toMutation(n._key,mr.exists(!0))])}function eN(n){return rI(oi(n.firestore,pi),[new pu(n._key,mr.none())])}function tN(n,e){let t=oi(n.firestore,pi),r=XE(n),i=GB(n.converter,e);return rI(t,[BB(KR(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,mr.exists(!1))]).then(()=>r)}function nI(n,...e){var t,r,i;n=Et(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||TA(e[s])||(o=e[s++]);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(TA(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof wt)l=oi(n.firestore,pi),h=BE(n._key.path),u={next:p=>{e[s]&&e[s](KB(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=oi(n,Nf);l=oi(p.firestore,pi),h=p._query;let m=new Ff(l);u={next:y=>{e[s]&&e[s](new Us(l,m,p,y))},error:e[s+1],complete:e[s+2]},zB(n._query)}return(function(m,y,S,M){let R=new DE(M),F=new mE(y,R,S);return m.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return _B(yield EA(m),F)})),()=>{R.Ou(),m.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return EB(yield EA(m),F)}))}})(GR(l),h,a,u)}function rI(n,e){return(function(r,i){let o=new gr;return r.asyncQueue.enqueueAndForget(()=>C(null,null,function*(){return AB(yield VB(r),i,o)})),o.promise})(GR(n),e)}function KB(n,e,t){let r=t.docs.get(e._key),i=new Ff(n);return new mo(n,i,e._key,r,new go(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){ta=i})(As),In(new Nt("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new pi(new Zv(r.getProvider("auth-internal")),new e_(s,r.getProvider("app-check-internal")),(function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new B(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lf(l.options.projectId,h)})(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),$e(O0,F0,e),$e(O0,F0,"esm2017")})();var zf=function(){return zf=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},zf.apply(this,arguments)};var ZB={includeMetadataChanges:!1};function nN(n,e){return e===void 0&&(e=ZB),new ne(function(t){var r=nI(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function rN(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:zf(zf({},r),(t={},t[e.idField]=n.id,t))}function iN(n){return nN(n,{includeMetadataChanges:!0}).pipe(ae(function(e){return e.docs}))}function oN(n,e){return e===void 0&&(e={}),iN(n).pipe(ae(function(t){return t.map(function(r){return rN(r,e)})}))}var bn=class{constructor(e){return e}},sN="firestore",iI=class{constructor(){return Ms(sN)}};var oI=new j("angularfire2.firestore-instances");function JB(n,e){let t=kh(sN,n,e);return t&&new bn(t)}function XB(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new bn(r)}}var e$={provide:iI,deps:[[new cr,oI]]},t$={provide:bn,useFactory:JB,deps:[[new cr,oI],co]};function aN(n,...e){return $e("angularfire",so.full,"fst"),or([t$,e$,{provide:oI,useFactory:XB(n),multi:!0,deps:[Se,ze,ao,Yc,[new cr,Kh],[new cr,Fh],...e]}])}var oa=on(oN,!0);var sa=on(tN,!0,2);var wr=on(qR,!0,2);var aa=on(eN,!0,2);var Dr=on(XE,!0,2);var cN=on(zR,!0);var ca=on(XR,!0,2);var uN={production:!1,firebase:{apiKey:"AIzaSyAzFfi1tWvs_yfYUy1hbKsD2jb14S_7LbQ",authDomain:"clinic-33062.firebaseapp.com",projectId:"clinic-33062",storageBucket:"clinic-33062.firebasestorage.app",messagingSenderId:"1094936747438",appId:"1:1094936747438:web:0f19eee29eb1da114f3c3f",measurementId:"G-JT9T5NNNFC"}};var yN=(()=>{class n{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||n)(me(qr),me(ur))};static \u0275dir=kt({type:n})}return n})(),vN=(()=>{class n extends yN{static \u0275fac=(()=>{let t;return function(i){return(t||(t=$i(n)))(i||n)}})();static \u0275dir=kt({type:n,features:[zr]})}return n})(),hI=new j("");var n$={provide:hI,useExisting:Or(()=>da),multi:!0};function r$(){let n=tn()?tn().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var i$=new j(""),da=(()=>{class n extends yN{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!r$())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||n)(me(qr),me(ur),me(i$,8))};static \u0275dir=kt({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&se("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},standalone:!1,features:[yc([n$]),zr]})}return n})();var o$=new j(""),s$=new j("");function _N(n){return n!=null}function EN(n){return zi(n)?Pe(n):n}function IN(n){let e={};return n.forEach(t=>{e=t!=null?k(k({},e),t):e}),Object.keys(e).length===0?null:e}function wN(n,e){return e.map(t=>t(n))}function a$(n){return!n.validate}function DN(n){return n.map(e=>a$(e)?e:t=>e.validate(t))}function c$(n){if(!n)return null;let e=n.filter(_N);return e.length==0?null:function(t){return IN(wN(t,e))}}function bN(n){return n!=null?c$(DN(n)):null}function u$(n){if(!n)return null;let e=n.filter(_N);return e.length==0?null:function(t){let r=wN(t,e).map(EN);return Wp(r).pipe(ae(IN))}}function TN(n){return n!=null?u$(DN(n)):null}function lN(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function l$(n){return n._rawValidators}function d$(n){return n._rawAsyncValidators}function aI(n){return n?Array.isArray(n)?n:[n]:[]}function Wf(n,e){return Array.isArray(n)?n.includes(e):n===e}function dN(n,e){let t=aI(e);return aI(n).forEach(i=>{Wf(t,i)||t.push(i)}),t}function hN(n,e){return aI(e).filter(t=>!Wf(n,t))}var Kf=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bN(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=TN(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},cI=class extends Kf{name;get formDirective(){return null}get path(){return null}},Su=class extends Kf{_parent=null;name=null;valueAccessor=null},uI=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},h$={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},eie=re(k({},h$),{"[class.ng-submitted]":"isSubmitted"}),Yf=(()=>{class n extends uI{constructor(t){super(t)}static \u0275fac=function(r){return new(r||n)(me(Su,2))};static \u0275dir=kt({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Fd("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[zr]})}return n})();var Du="VALID",Gf="INVALID",ua="PENDING",bu="DISABLED",bo=class{},Qf=class extends bo{value;source;constructor(e,t){super(),this.value=e,this.source=t}},Tu=class extends bo{pristine;source;constructor(e,t){super(),this.pristine=e,this.source=t}},Cu=class extends bo{touched;source;constructor(e,t){super(),this.touched=e,this.source=t}},la=class extends bo{status;source;constructor(e,t){super(),this.status=e,this.source=t}};var lI=class extends bo{source;constructor(e){super(),this.source=e}};function f$(n){return(Zf(n)?n.validators:n)||null}function p$(n){return Array.isArray(n)?bN(n):n||null}function g$(n,e){return(Zf(e)?e.asyncValidators:n)||null}function m$(n){return Array.isArray(n)?TN(n):n||null}function Zf(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}var dI=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,t){this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return _t(this.statusReactive)}set status(e){_t(()=>this.statusReactive.set(e))}_status=vc(()=>this.statusReactive());statusReactive=pe(void 0);get valid(){return this.status===Du}get invalid(){return this.status===Gf}get pending(){return this.status==ua}get disabled(){return this.status===bu}get enabled(){return this.status!==bu}errors;get pristine(){return _t(this.pristineReactive)}set pristine(e){_t(()=>this.pristineReactive.set(e))}_pristine=vc(()=>this.pristineReactive());pristineReactive=pe(!0);get dirty(){return!this.pristine}get touched(){return _t(this.touchedReactive)}set touched(e){_t(()=>this.touchedReactive.set(e))}_touched=vc(()=>this.touchedReactive());touchedReactive=pe(!1);get untouched(){return!this.touched}_events=new He;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(dN(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(dN(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(hN(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(hN(e,this._rawAsyncValidators))}hasValidator(e){return Wf(this._rawValidators,e)}hasAsyncValidator(e){return Wf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(re(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Cu(!0,r))}markAllAsDirty(e={}){this.markAsDirty({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(e))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Cu(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(re(k({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Tu(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Tu(!0,r))}markAsPending(e={}){this.status=ua;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new la(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(re(k({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=bu,this.errors=null,this._forEachChild(i=>{i.disable(re(k({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qf(this.value,r)),this._events.next(new la(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(re(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=Du,this._forEachChild(r=>{r.enable(re(k({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(re(k({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Du||this.status===ua)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Qf(this.value,t)),this._events.next(new la(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(re(k({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?bu:Du}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ua,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:e!==!1};let r=EN(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new la(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new Je,this.statusChanges=new Je}_calculateStatus(){return this._allControlsDisabled()?bu:this.errors?Gf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ua)?ua:this._anyControlsHaveStatus(Gf)?Gf:Du}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Tu(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Cu(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Zf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=p$(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=m$(this._rawAsyncValidators)}};var CN=new j("",{providedIn:"root",factory:()=>fI}),fI="always";function y$(n,e){return[...e.path,n]}function v$(n,e,t=fI){E$(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),I$(n,e),D$(n,e),w$(n,e),_$(n,e)}function fN(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function _$(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function E$(n,e){let t=l$(n);e.validator!==null?n.setValidators(lN(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=d$(n);e.asyncValidator!==null?n.setAsyncValidators(lN(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();fN(e._rawValidators,i),fN(e._rawAsyncValidators,i)}function I$(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&SN(n,e)})}function w$(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&SN(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function SN(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function D$(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function b$(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function T$(n){return Object.getPrototypeOf(n.constructor)===vN}function C$(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===da?t=o:T$(o)?r=o:i=o}),i||r||t||null}function pN(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function gN(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var S$=class extends dI{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,t,r){super(f$(t),g$(r,t)),this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Zf(t)&&(t.nonNullable||t.initialValueIsDefault)&&(gN(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new lI(this))}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){pN(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){pN(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){gN(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var A$={provide:Su,useExisting:Or(()=>Au)},mN=Promise.resolve(),Au=(()=>{class n extends Su{_changeDetectorRef;callSetDisabledState;control=new S$;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Je;constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=C$(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),b$(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){v$(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){mN.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&Ki(r);mN.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?y$(t,this._parent):[t]}static \u0275fac=function(r){return new(r||n)(me(cI,9),me(o$,10),me(s$,10),me(hI,10),me(Wi,8),me(CN,8))};static \u0275dir=kt({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[yc([A$]),zr,Hr]})}return n})();var R$={provide:hI,useExisting:Or(()=>Ru),multi:!0},Ru=(()=>{class n extends vN{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=$i(n)))(i||n)}})();static \u0275dir=kt({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&se("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[yc([R$]),zr]})}return n})();var N$=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=dn({})}return n})();var ha=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:CN,useValue:t.callSetDisabledState??fI}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Pn({type:n});static \u0275inj=dn({imports:[N$]})}return n})();function M$(n,e){if(n&1){let t=Gi();U(0,"div",12)(1,"input",13),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.date,i)||(o.date=i),Te(i)}),V(),U(2,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.patientName,i)||(o.patientName=i),Te(i)}),V(),U(3,"input",15),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.age,i)||(o.age=i),Te(i)}),V(),U(4,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.gender,i)||(o.gender=i),Te(i)}),V(),U(5,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.sicknessDiagnosed,i)||(o.sicknessDiagnosed=i),Te(i)}),V(),U(6,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.treatmentProvided,i)||(o.treatmentProvided=i),Te(i)}),V(),U(7,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.attendingPhysician,i)||(o.attendingPhysician=i),Te(i)}),V(),U(8,"button",9),se("click",function(){let i=be(t).$implicit,o=xn();return Te(o.updateRecord(i))}),Le(9,"Update"),V(),U(10,"button",16),se("click",function(){let i=be(t).$implicit,o=xn();return Te(o.deleteRecord(i.id))}),Le(11,"Delete"),V()()}if(n&2){let t=e.$implicit;ee(),nt("ngModel",t.date),ee(),nt("ngModel",t.patientName),ee(),nt("ngModel",t.age),ee(),nt("ngModel",t.gender),ee(),nt("ngModel",t.sicknessDiagnosed),ee(),nt("ngModel",t.treatmentProvided),ee(),nt("ngModel",t.attendingPhysician)}}var Jf=class n{constructor(e){this.firestore=e;let t=wr(this.firestore,"daily_service_records");oa(t,{idField:"id"}).subscribe(r=>{this.records=r})}date=pe("");patientName=pe("");age=pe(null);gender=pe("");sicknessDiagnosed=pe("");treatmentProvided=pe("");attendingPhysician=pe("");records=[];addRecord(){let e=wr(this.firestore,"daily_service_records");if(!this.date()||!this.patientName()||!this.age()||!this.gender()||!this.sicknessDiagnosed()||!this.treatmentProvided()||!this.attendingPhysician()){alert("All fields required");return}sa(e,{date:this.date(),patientName:this.patientName(),age:this.age(),gender:this.gender(),sicknessDiagnosed:this.sicknessDiagnosed(),treatmentProvided:this.treatmentProvided(),attendingPhysician:this.attendingPhysician()}),this.date.set(""),this.patientName.set(""),this.age.set(null),this.gender.set(""),this.sicknessDiagnosed.set(""),this.treatmentProvided.set(""),this.attendingPhysician.set("")}updateRecord(e){let t=Dr(this.firestore,`daily_service_records/${e.id}`);ca(t,e)}deleteRecord(e){let t=Dr(this.firestore,`daily_service_records/${e}`);aa(t)}static \u0275fac=function(t){return new(t||n)(me(bn))};static \u0275cmp=mn({type:n,selectors:[["app-daily-service-record"]],decls:16,vars:8,consts:[[1,"section-title"],[1,"gradient-card","form"],["placeholder","Date","type","date",3,"input","value"],["placeholder","Patient Name",3,"input","value"],["placeholder","Age","type","number",3,"input","value"],["placeholder","Gender",3,"input","value"],["placeholder","Diagnosed Sickness",3,"input","value"],["placeholder","Treatment Provided",3,"input","value"],["placeholder","Attending Physician",3,"input","value"],[1,"primary-btn",3,"click"],[1,"sub-title"],["class","gradient-card list",4,"ngFor","ngForOf"],[1,"gradient-card","list"],["type","date",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(U(0,"h2",0),Le(1,"Daily Service Records"),V(),U(2,"div",1)(3,"input",2),se("input",function(o){return r.date.set(o.target.value)}),V(),U(4,"input",3),se("input",function(o){return r.patientName.set(o.target.value)}),V(),U(5,"input",4),se("input",function(o){return r.age.set(o.target.valueAsNumber)}),V(),U(6,"input",5),se("input",function(o){return r.gender.set(o.target.value)}),V(),U(7,"input",6),se("input",function(o){return r.sicknessDiagnosed.set(o.target.value)}),V(),U(8,"input",7),se("input",function(o){return r.treatmentProvided.set(o.target.value)}),V(),U(9,"input",8),se("input",function(o){return r.attendingPhysician.set(o.target.value)}),V(),U(10,"button",9),se("click",function(){return r.addRecord()}),Le(11,"Add Record"),V()(),en(12,"hr"),U(13,"h3",10),Le(14,"Existing Records"),V(),Gr(15,M$,12,7,"div",11)),t&2&&(ee(3),Ie("value",r.date()),ee(),Ie("value",r.patientName()),ee(),Ie("value",r.age()),ee(),Ie("value",r.gender()),ee(),Ie("value",r.sicknessDiagnosed()),ee(),Ie("value",r.treatmentProvided()),ee(),Ie("value",r.attendingPhysician()),ee(6),Ie("ngForOf",r.records))},dependencies:[Yr,Qr,ha,da,Ru,Yf,Au],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;font-family:Segoe UI,sans-serif;margin-bottom:20px;font-weight:700;background:linear-gradient(90deg,#4facfe,#00f2fe);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.form[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:14px;justify-content:center;padding:20px;background:#fff;border-radius:14px;border:3px solid transparent;background-image:linear-gradient(#fff,#fff),linear-gradient(90deg,#4facfe,#00f2fe);background-origin:border-box;background-clip:padding-box,border-box;box-shadow:0 4px 18px #00000014;margin-bottom:22px;transition:.25s ease-in-out}.list[_ngcontent-%COMP%]:hover, .form[_ngcontent-%COMP%]:hover{transform:scale(1.01);box-shadow:0 6px 22px #0000001f}input[_ngcontent-%COMP%]{padding:12px 14px;border-radius:10px;width:240px;border:2px solid #dfe9f3;background:linear-gradient(to right,#f9fbff,#f2f7ff);transition:.3s ease;font-size:14px}input[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#f5faff,#eaf3ff)}input[_ngcontent-%COMP%]:focus{border-color:#4facfe;background:linear-gradient(to right,#e3f2fd,#e1f5fe);box-shadow:0 0 6px #4facfe;outline:none}button[_ngcontent-%COMP%]{padding:10px 18px;border:none;border-radius:10px;cursor:pointer;background:linear-gradient(90deg,#4facfe,#00f2fe);color:#fff;font-size:14px;box-shadow:0 3px 10px #4facfe66;transition:.3s ease}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #4facfe80}button[_ngcontent-%COMP%]:active{transform:scale(.97)}button.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5858,#fb2d2d);box-shadow:0 3px 10px #ff4d4d66}button.delete-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #ff4d4d80}@media (max-width: 600px){input[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}"]})};function P$(n,e){if(n&1){let t=Gi();U(0,"div",12)(1,"input",13),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.date,i)||(o.date=i),Te(i)}),V(),U(2,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.patientName,i)||(o.patientName=i),Te(i)}),V(),U(3,"input",15),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.age,i)||(o.age=i),Te(i)}),V(),U(4,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.gender,i)||(o.gender=i),Te(i)}),V(),U(5,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.animalType,i)||(o.animalType=i),Te(i)}),V(),U(6,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.rabiesStatus,i)||(o.rabiesStatus=i),Te(i)}),V(),U(7,"input",14),rt("ngModelChange",function(i){let o=be(t).$implicit;return lt(o.treatmentGiven,i)||(o.treatmentGiven=i),Te(i)}),V(),U(8,"button",9),se("click",function(){let i=be(t).$implicit,o=xn();return Te(o.updateCase(i))}),Le(9,"Update"),V(),U(10,"button",16),se("click",function(){let i=be(t).$implicit,o=xn();return Te(o.deleteCase(i.id))}),Le(11,"Delete"),V()()}if(n&2){let t=e.$implicit;ee(),nt("ngModel",t.date),ee(),nt("ngModel",t.patientName),ee(),nt("ngModel",t.age),ee(),nt("ngModel",t.gender),ee(),nt("ngModel",t.animalType),ee(),nt("ngModel",t.rabiesStatus),ee(),nt("ngModel",t.treatmentGiven)}}var Xf=class n{constructor(e){this.firestore=e;let t=wr(this.firestore,"rabies_cases");oa(t,{idField:"id"}).subscribe(r=>this.cases=r)}date=pe("");patientName=pe("");age=pe(null);gender=pe("");animalType=pe("");rabiesStatus=pe("");treatmentGiven=pe("");cases=[];addCase(){if(!this.date()||!this.patientName()||this.age()===null||!this.gender()||!this.animalType()||!this.rabiesStatus()||!this.treatmentGiven()){alert("All fields are required.");return}let e=wr(this.firestore,"rabies_cases");sa(e,{date:this.date(),patientName:this.patientName(),age:this.age(),gender:this.gender(),animalType:this.animalType(),rabiesStatus:this.rabiesStatus(),treatmentGiven:this.treatmentGiven()}),this.date.set(""),this.patientName.set(""),this.age.set(null),this.gender.set(""),this.animalType.set(""),this.rabiesStatus.set(""),this.treatmentGiven.set("")}updateCase(e){let t=Dr(this.firestore,`rabies_cases/${e.id}`),o=e,{id:r}=o,i=vw(o,["id"]);ca(t,i)}deleteCase(e){let t=Dr(this.firestore,`rabies_cases/${e}`);aa(t)}static \u0275fac=function(t){return new(t||n)(me(bn))};static \u0275cmp=mn({type:n,selectors:[["app-rabies-case"]],decls:16,vars:8,consts:[[1,"section-title"],[1,"gradient-card","form"],["type","date",3,"input","value"],["placeholder","Patient Name",3,"input","value"],["type","number","placeholder","Age",3,"input","value"],["placeholder","Gender",3,"input","value"],["placeholder","Animal Type",3,"input","value"],["placeholder","Rabies Status",3,"input","value"],["placeholder","Treatment Given",3,"input","value"],[1,"primary-btn",3,"click"],[1,"sub-title"],["class","gradient-card list",4,"ngFor","ngForOf"],[1,"gradient-card","list"],["type","date",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["type","number",3,"ngModelChange","ngModel"],[1,"delete-btn",3,"click"]],template:function(t,r){t&1&&(U(0,"h2",0),Le(1,"Rabies Bite Case Reports"),V(),U(2,"div",1)(3,"input",2),se("input",function(o){return r.date.set(o.target.value)}),V(),U(4,"input",3),se("input",function(o){return r.patientName.set(o.target.value)}),V(),U(5,"input",4),se("input",function(o){return r.age.set(o.target.valueAsNumber)}),V(),U(6,"input",5),se("input",function(o){return r.gender.set(o.target.value)}),V(),U(7,"input",6),se("input",function(o){return r.animalType.set(o.target.value)}),V(),U(8,"input",7),se("input",function(o){return r.rabiesStatus.set(o.target.value)}),V(),U(9,"input",8),se("input",function(o){return r.treatmentGiven.set(o.target.value)}),V(),U(10,"button",9),se("click",function(){return r.addCase()}),Le(11,"Add Case"),V()(),en(12,"hr"),U(13,"h3",10),Le(14,"Existing Cases"),V(),Gr(15,P$,12,7,"div",11)),t&2&&(ee(3),Ie("value",r.date()),ee(),Ie("value",r.patientName()),ee(),Ie("value",r.age()),ee(),Ie("value",r.gender()),ee(),Ie("value",r.animalType()),ee(),Ie("value",r.rabiesStatus()),ee(),Ie("value",r.treatmentGiven()),ee(6),Ie("ngForOf",r.cases))},dependencies:[Yr,Qr,ha,da,Ru,Yf,Au],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;font-family:Segoe UI,sans-serif;margin-bottom:20px;font-weight:700;background:linear-gradient(90deg,#4facfe,#00f2fe);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.form[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:14px;justify-content:center;padding:20px;background:#fff;border-radius:14px;border:3px solid transparent;background-image:linear-gradient(#fff,#fff),linear-gradient(90deg,#4facfe,#00f2fe);background-origin:border-box;background-clip:padding-box,border-box;box-shadow:0 4px 18px #00000014;margin-bottom:22px;transition:.25s ease-in-out}.list[_ngcontent-%COMP%]:hover, .form[_ngcontent-%COMP%]:hover{transform:scale(1.01);box-shadow:0 6px 22px #0000001f}input[_ngcontent-%COMP%]{padding:12px 14px;border-radius:10px;width:240px;border:2px solid #dfe9f3;background:linear-gradient(to right,#f9fbff,#f2f7ff);transition:.3s ease;font-size:14px}input[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#f5faff,#eaf3ff)}input[_ngcontent-%COMP%]:focus{border-color:#4facfe;background:linear-gradient(to right,#e3f2fd,#e1f5fe);box-shadow:0 0 6px #4facfe;outline:none}button[_ngcontent-%COMP%]{padding:10px 18px;border:none;border-radius:10px;cursor:pointer;background:linear-gradient(90deg,#4facfe,#00f2fe);color:#fff;font-size:14px;box-shadow:0 3px 10px #4facfe66;transition:.3s ease}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #4facfe80}button[_ngcontent-%COMP%]:active{transform:scale(.97)}button.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5858,#fb2d2d);box-shadow:0 3px 10px #ff4d4d66}button.delete-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #ff4d4d80}@media (max-width: 600px){input[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}"]})};function x$(n,e){if(n&1){let t=Gi();U(0,"div",8)(1,"input",2),se("input",function(i){let o=be(t).$implicit;return Te(o.date=i.target.value)}),V(),U(2,"input",9),se("input",function(i){let o=be(t).$implicit;return Te(o.sourceAddress=i.target.value)}),V(),U(3,"input",9),se("input",function(i){let o=be(t).$implicit;return Te(o.waterStatus=i.target.value)}),V(),U(4,"input",9),se("input",function(i){let o=be(t).$implicit;return Te(o.remarks=i.target.value)}),V(),U(5,"button",6),se("click",function(){let i=be(t).$implicit,o=xn();return Te(o.updateResult(i.id,i.date,i.sourceAddress,i.waterStatus,i.remarks))}),Le(6," Update "),V(),U(7,"button",10),se("click",function(){let i=be(t).$implicit,o=xn();return Te(o.deleteResult(i.id))}),Le(8,"Delete"),V()()}if(n&2){let t=e.$implicit;ee(),Ie("value",t.date),ee(),Ie("value",t.sourceAddress),ee(),Ie("value",t.waterStatus),ee(),Ie("value",t.remarks)}}var ep=class n{constructor(e){this.firestore=e;let t=wr(this.firestore,"water_analysis_results");oa(t,{idField:"id"}).subscribe(r=>{this.results=r})}date=pe("");sourceAddress=pe("");waterStatus=pe("");remarks=pe("");results=[];addResult(){let e=this.date(),t=this.sourceAddress(),r=this.waterStatus(),i=this.remarks();if(!e||!t||!r||!i){alert("All fields are required.");return}let o=wr(this.firestore,"water_analysis_results");sa(o,{date:e,sourceAddress:t,waterStatus:r,remarks:i}),this.date.set(""),this.sourceAddress.set(""),this.waterStatus.set(""),this.remarks.set("")}updateResult(e,t,r,i,o){let s=Dr(this.firestore,`water_analysis_results/${e}`);ca(s,{date:t,sourceAddress:r,waterStatus:i,remarks:o})}deleteResult(e){let t=Dr(this.firestore,`water_analysis_results/${e}`);aa(t)}static \u0275fac=function(t){return new(t||n)(me(bn))};static \u0275cmp=mn({type:n,selectors:[["app-water-analysis"]],decls:12,vars:5,consts:[[1,"container",2,"text-align","center","margin-top","20px"],[1,"form"],["type","date",3,"input","value"],["type","text","placeholder","Source Address",3,"input","value"],["type","text","placeholder","Water Status",3,"input","value"],["type","text","placeholder","Remarks",3,"input","value"],[3,"click"],["class","list",4,"ngFor","ngForOf"],[1,"list"],["type","text",3,"input","value"],[1,"delete",3,"click"]],template:function(t,r){t&1&&(U(0,"div",0)(1,"h1"),Le(2,"Water Analysis Records"),V(),U(3,"div",1)(4,"input",2),se("input",function(o){return r.date.set(o.target.value)}),V(),U(5,"input",3),se("input",function(o){return r.sourceAddress.set(o.target.value)}),V(),U(6,"input",4),se("input",function(o){return r.waterStatus.set(o.target.value)}),V(),U(7,"input",5),se("input",function(o){return r.remarks.set(o.target.value)}),V(),U(8,"button",6),se("click",function(){return r.addResult()}),Le(9,"Add Result"),V()(),en(10,"hr"),Gr(11,x$,9,4,"div",7),V()),t&2&&(ee(4),Ie("value",r.date()),ee(),Ie("value",r.sourceAddress()),ee(),Ie("value",r.waterStatus()),ee(),Ie("value",r.remarks()),ee(4),Ie("ngForOf",r.results))},dependencies:[Yr,Qr,ha],styles:["h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], h3[_ngcontent-%COMP%]{text-align:center;font-family:Segoe UI,sans-serif;margin-bottom:20px;font-weight:700;background:linear-gradient(90deg,#4facfe,#00f2fe);-webkit-background-clip:text;-webkit-text-fill-color:transparent}.form[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:14px;justify-content:center;padding:20px;background:#fff;border-radius:14px;border:3px solid transparent;background-image:linear-gradient(#fff,#fff),linear-gradient(90deg,#4facfe,#00f2fe);background-origin:border-box;background-clip:padding-box,border-box;box-shadow:0 4px 18px #00000014;margin-bottom:22px;transition:.25s ease-in-out}.list[_ngcontent-%COMP%]:hover, .form[_ngcontent-%COMP%]:hover{transform:scale(1.01);box-shadow:0 6px 22px #0000001f}input[_ngcontent-%COMP%]{padding:12px 14px;border-radius:10px;width:240px;border:2px solid #dfe9f3;background:linear-gradient(to right,#f9fbff,#f2f7ff);transition:.3s ease;font-size:14px}input[_ngcontent-%COMP%]:hover{background:linear-gradient(to right,#f5faff,#eaf3ff)}input[_ngcontent-%COMP%]:focus{border-color:#4facfe;background:linear-gradient(to right,#e3f2fd,#e1f5fe);box-shadow:0 0 6px #4facfe;outline:none}button[_ngcontent-%COMP%]{padding:10px 18px;border:none;border-radius:10px;cursor:pointer;background:linear-gradient(90deg,#4facfe,#00f2fe);color:#fff;font-size:14px;box-shadow:0 3px 10px #4facfe66;transition:.3s ease}button[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 16px #4facfe80}button[_ngcontent-%COMP%]:active{transform:scale(.97)}button.delete-btn[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5858,#fb2d2d);box-shadow:0 3px 10px #ff4d4d66}button.delete-btn[_ngcontent-%COMP%]:hover{box-shadow:0 6px 16px #ff4d4d80}@media (max-width: 600px){input[_ngcontent-%COMP%]{width:100%}.form[_ngcontent-%COMP%], .list[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}}"]})};var RN=[{path:"daily-service-record",component:Jf},{path:"rabies-case",component:Xf},{path:"water-analysis",component:ep}];vy(Th,{providers:[Gy(RN),i0(()=>o0(uN.firebase)),aN(()=>cN())]}).catch(n=>console.error(n));
